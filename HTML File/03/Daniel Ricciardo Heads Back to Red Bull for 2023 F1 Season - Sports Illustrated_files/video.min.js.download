"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3805],{47586:e=>{e.exports={PRICING_BREAKPOINT:20,PRICING_MAX_BUCKET:50,getCpmDollarBucket:function(e){return Math.min(Math.floor(e),50)}}},25085:e=>{e.exports={get:function(){var e="desktop",t=window.top&&window.top.screen?window.top.screen:{},n=window.navigator||{};return("ontouchstart"in window||0<n.MaxTouchPoints||0<n.msMaxTouchPoints)&&(e=1024<=t.width&&768<=t.height||1024<=t.height&&768<=t.width?"tablet":"mobile"),e}}},41762:(e,t,n)=>{var i=n(9736);function r(e,t){if("simple"===e.type)return t[e.key]}function o(){var e;try{window.top.document.referrer&&(e=window.top.document.referrer)}catch(t){e=document.referrer}return e?i.parseHostName(e):void 0}e.exports={evalTemplate:r,makePageTargeting:function(e,t,n,i){var o=n.beacons&&n.beacons.targetingParams&&n.beacons.targetingParams.exclude||{},a={};return Object.keys(e||{}).forEach((function(n){var s=r(e[n],t);"number"==typeof s&&(s+=""),null==s||""===s||Array.isArray(s)&&0===s.length||(i&&i.setTargeting(n,s),!o[n]&&(a[n]=s))})),a},vastCustomParams:function(e,t,n){var i=["ag","channel","correlator","cs","direct","et","feats","gd","in","lang","loggedin","pagetype","path","pod","pt","referrer","terms"];for(var r in t||(t={}),t)if(-1<i.indexOf(r)){var o=t[r];Array.isArray(o)&&(o=o.join(",")),e[r]=o}return n?encodeURIComponent(Object.keys(e).map((function(t){return[t,e[t]].join("=")})).join("&")):e},makePageModel:function(e,t,n,r){var a,s={};window.phxTrackedFeatures&&(s={trackedFeatures:Object.keys(window.phxTrackedFeatures).map((function(e){return e+":"+(window.phxTrackedFeatures[e]?"1":"0")})).join("|")});var l={};if(n){var u=window.GdprStatus;l={donottrack:!0,gdprIsApplicable:!0,gdprIsConsentGivenPromise:u.waitForConsentValue().then((function(){return u.isConsentGivenForPurposes(u.PURPOSE_IDS.advertising)})),kuid:void 0,optout:!0}}var c=i.getCurrentBreakpoint();return Object.assign({},e,s,{referrer:o(),loggedIn:window.phxIsLoggedIn()?"1":"0"},l,{breakpoint:c,characterCount:null===(a=e.characterCountByBreakpoint)||void 0===a?void 0:a[c]},r||{},t)}}},63950:e=>{e.exports={breakpoints:{A:0,B:675,C:1240,D:1680},breakpointHeights:{D:1050},soccerLeagues:["epl","mls","la liga","serie a"],fullSoccerLeagues:["premier league","major league soccer","laliga","serie a"]}},52784:(e,t,n)=>{var i=n(24433);e.exports={getDependencyClass:function(e){if(!e)throw new Error("dependencyName required");var t=i("dependency:"+e);return window.customElements.whenDefined(e).then((function(){return t.end(),window.customElements.get(e)}))},getFirstDependencyElement:function(e,t){if(!e)throw new Error("dependencyName required");return t||(t=document),window.customElements.whenDefined(e).then((function(){var n=t.querySelector(e);if(!n)throw new Error(e+" element cannot be found");return n}))},phoenixCustomElement:function(e,t){window.customElements.get(e)||window.customElements.define(e,t)}}},86483:e=>{var t,n=function(){};try{t=window}catch(e){t={}}e.exports=t.performance&&t.performance.mark?t.performance:{getEntriesByName:n,mark:n,measure:n}},24433:(e,t,n)=>{var i=n(86483),r=0;function o(){var e="phxMark:"+r++;return i.mark(e),e}e.exports=function(e){var t=o();return{end:function(){var n=o();i.measure(e,t,n);var r=i.getEntriesByName(e);if(r&&r.length)return r[r.length-1].duration}}}},20751:(e,t,n)=>{function i(e,t){var n,i=this,r=null,o=+t;this.delay=t,this.remaining=function(){return Math.max(o+n-+new Date,0)},this.cancel=function(){clearTimeout(r),i.cancelled=!0},this.pause=function(){clearTimeout(r),o-=+new Date-n,i.paused=!0},this.resume=function(){n=+new Date,clearTimeout(r),r=setTimeout(e,o),i.paused=!1},this.resume()}n.d(t,{Z:()=>i})},9736:(e,t,n)=>{function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?i(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n,i=0;i<t.length;i++)(n=t[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function u(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var c=n(63950),d=c.breakpoints,p=c.breakpointHeights;function f(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:document.head,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:document;return new Promise((function(r,o){var a=i.createElement("script");for(var s in t)a.setAttribute(s,t[s]);a.onload=function(){r(a)},a.onerror=function(e){o(e)},a.type="text/javascript",a.src=e,n.appendChild(a)}))}var h={};function v(){var e,t=window.innerWidth,n=window.innerHeight;for(var i in d)t>=d[i]&&(!p[i]||n>=p[i])&&(e=i);return e}var y,m,g,b=function(){function e(){s(this,e),this.observedBreakpoint=void 0,this.subscribers=[],this._observe()}return u(e,[{key:"_observe",value:function(){var e=this;this.observedBreakpoint=v(),window.addEventListener("resize",(function(){var t=v();t!==e.observedBreakpoint&&(e.observedBreakpoint=t,e.subscribers.forEach((function(e){e.onBreakpointChange(t)})))}))}},{key:"subscribe",value:function(e){if(!e.onBreakpointChange)throw new Error("onBreakpointChange method required");this.unsubscribe(e),this.subscribers.push(e)}},{key:"unsubscribe",value:function(e){var t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}}]),e}();function w(){return"complete"===document.readyState||"interactive"===document.readyState}var _,P,k,I="190px 0px",A={},C=function(){function e(t,n){s(this,e),this.callback=t,this.timerId=null,this.restart(n)}return u(e,[{key:"restart",value:function(e){this.remaining=e,this.resume()}},{key:"resume",value:function(){this.start=new Date,clearTimeout(this.timerId),this.timerId=setTimeout(this.callback,this.remaining)}},{key:"pause",value:function(){clearTimeout(this.timerId),this.remaining-=new Date-this.start}},{key:"cancel",value:function(){clearTimeout(this.timerId),this.cancelled=!0}}]),e}();function S(e){return e.split(/(?=[A-Z])/).join("_").toLowerCase()}e.exports={addScriptResource:f,addScriptResourceOnce:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length?arguments[2]:void 0,i=3<arguments.length?arguments[3]:void 0,r=t.id||e;return h[r]||(h[r]=f(e,t,n,i))},debounce:function(e,t,n){function i(){return(new Date).getTime()}function r(){var n=t-(i()-p);if(0>=n||n>t){c&&window.clearTimeout(c);var o=v;c=h=v=void 0,o&&(g=i(),d=e.apply(f,l),!h&&!c&&(l=f=null))}else h=window.setTimeout(r,n)}function o(){h&&window.clearTimeout(h),c=h=v=void 0,(w||b!==t)&&(g=i(),d=e.apply(f,l),!h&&!c&&(l=f=null))}function s(){var n,a,s;return l=arguments,p=i(),f=this,v=w&&(h||!u),!1===b?n=u&&!h:(!c&&!u&&(g=p),(s=0>=(a=b-(p-g))||a>b)?(c&&(c=window.clearTimeout(c)),g=p,d=e.apply(f,l)):!c&&(c=window.setTimeout(o,a))),s&&h?h=window.clearTimeout(h):!h&&t!==b&&(h=window.setTimeout(r,t)),n&&(s=!0,d=e.apply(f,l)),!s||h||c||(l=f=null),d}var l,u,c,d,p,f,h,v,y,m,g=0,b=!1,w=!0;if(s.cancel=function(){h&&window.clearTimeout(h),c&&window.clearTimeout(c),c=h=v=void 0},"function"!=typeof e)throw new TypeError("this is not a function!");return t=0>t?0:+t||0,!0===n?(u=!0,w=!1):(m=a(y=n),!!y&&("object"===m||"function"===m)&&(u=n.leading,b="maxWait"in n&&Math.max(+n.maxWait||0,t),w="trailing"in n?n.trailing:w)),s},getCurrentBreakpoint:v,getQueryParamValue:function(e){if(!e)return null;var t=new URLSearchParams(window.location.search);return null==t?void 0:t.get(e)},isExternalLink:function(e,t){if(!e)return!1;t||(t=function(){if(!P){var e=document.querySelector("link[rel='canonical']"),t=document.createElement("a");t.href=e.href,P=t.hostname}return P}());var n=e.match(/^https?:\/\/([^/]+)\/?/);return!!n&&n[1]!==t},observeBreakpointChanges:function(e){return y||(y=new b),y.subscribe(e),y},observeFirstIntersection:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:I,n=A[t]||(A[t]=new IntersectionObserver((function(e,t){e.forEach((function(e){e.isIntersecting&&(t.unobserve(e.target),e.target.onFirstIntersection&&e.target.onFirstIntersection())}))}),{rootMargin:t}));return n.observe(e),n},observeVisibilityChanges:function(e){return _||(_=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&.5<=e.intersectionRatio?e.target.onChangeToVisible&&e.target.onChangeToVisible():e.target.onChangeToNotVisible&&e.target.onChangeToNotVisible()}))}),{threshold:.5})),_.observe(e),_},observeAfterFirstFullView:function(e){var t=new IntersectionObserver((function(e,t){e.forEach((function(e){e.target.onAfterFirstFullView&&e.isIntersecting&&(e.target.onAfterFirstFullView(e),t.unobserve(e.target))}))}),{threshold:[.95,1]});return t.observe(e),t},parseHostName:function(e){return e.replace(/^https?:\/\//,"").replace(/[:\/].*/,"").toLowerCase().replace(/^www\./,"").replace(/^m\./,"").replace(/\.blogspot(\.com?)?\.[a-z]{2,3}$/,".blogspot.com").replace(/^.*\.(gamepedia|wikia)(\.com?)?\.[a-z]{2,3}$/,"$1.com").split(".").slice(-3).join(".")},personalizedSlice:function(e,t){var n,i=(0|e/100)%100,r=(t||[]).map((function(e){return e.percentageForSlice})).map((n=0,function(e){return n+=e})).findIndex((function(e){return e>i}));return-1===r?void 0:t[r]},styleObjectToCustomCSSVariables:function e(t,n){n=n?"".concat(S(n),"_"):"--";var i={};return"object"===a(t)&&Object.keys(t)&&Object.keys(t).length&&Object.keys(t).forEach((function(o){if("string"==typeof t[o]||"number"==typeof t[o])i["".concat(n).concat(S(o))]=t[o];else if("object"===a(t[o])&&!Array.isArray(t[o])){var s=e(t[o],"".concat(n).concat(S(o)));i=r(r({},i),s)}})),i},supportPassiveEventListeners:function(){if(void 0===k){k=!1;try{var e=Object.defineProperty({},"passive",{get:function(){return k=!0,null}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch(e){}}return k},throttle:function(e,t){var n,i,r,o,a=0,s=function(){a=new Date,r=null,o=e.apply(n,i)};return function(){var l=new Date,u=t-(l-a);return n=this,i=arguments,0>=u?(r&&clearTimeout(r),a=l,o=e.apply(n,i)):!r&&(r=setTimeout(s,u)),o}},Timer:C,userHasPremium:function(){return new Promise((function(e,t){window.phxConfigQueue||t("config object is necessary to check premium"),window.phxConfigQueue.push((function(){e(this.user.hasPremium())}))}))},waitForElement:function(e,t,n){if(!e)throw new Error("rootElement required");var i;return n&&n.untilDomReady&&(i=function(e){w()&&e()}),function(e,t,n,i){var r=e.querySelector(t);return r?Promise.resolve(r):new Promise((function(r,o){var a=new MutationObserver((function(){var n=e.querySelector(t);return n?(a.disconnect(),void r(n)):void(i&&i((function(){return a.disconnect(),void o(new Error("element not found"))})))}));a.observe(e,n)}))}(e,t,{childList:!0,subtree:!0},i)},whenDomContentLoaded:function(){return m||(m=w()?Promise.resolve():new Promise((function(e,t){document.addEventListener("DOMContentLoaded",e)}))),m},whenPageLoaded:function(){return g||(g="complete"===document.readyState?Promise.resolve():new Promise((function(e,t){window.addEventListener("load",e)}))),g},extractSlotInfo:function(e){return null!=e&&e.zone?"[".concat(null==e?void 0:e.zone,"_").concat(null==e?void 0:e.index,"]"):"[Slot Info Unavailable]"}}},19152:(e,t,n)=>{var i=n(20751);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?o(Object(t),!0).forEach((function(n){s(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n,i=0;i<t.length;i++)(n=t[i]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function p(){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=f(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(3>arguments.length?e:n):r.value}},p.apply(this,arguments)}function f(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function v(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var m,g,b=n(92579),w=b.generateTargeting,_=b.generateNonlinearTargeting,P=n(52784).getDependencyClass,k=n(25085),I=n(24433)("webcomponents:video");P("phoenix-page").then((function(e){var t=function(t){function n(){return c(this,n),P.apply(this,arguments)}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(n,t);var o,s,u,f,b,P=(f=n,b=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(f);if(b){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return v(this,e)});return o=n,u=[{key:"observedAttributes",get:function(){return["block-player-loading"]}}],(s=[{key:"observedBroadcastedEvents",get:function(){return["phoenix:header:in","phoenix:header:out"]}},{key:"canFloat",get:function(){return this._canFloat},set:function(e){this._canFloat=e}},{key:"isMuteButtonPressed",set:function(e){this._unmuteButton.setAttribute("aria-pressed",!e),this._unmuteButton.setAttribute("aria-hidden",!e),this._muteButton.setAttribute("aria-pressed",e),this._muteButton.setAttribute("aria-hidden",e)}},{key:"isFloating",get:function(){return this._isFloating},set:function(e){!this.canFloat||this.floatWasClosed||(!this.phoenixPage&&(this.phoenixPage=this.closest("phoenix-page")),!this.parentContainer&&(this.parentContainer=this.closest("figure")),this._isFloating=e,this.phoenixPage.classList.toggle("is-fnp-floating",e),this.parentContainer.classList.toggle("is-fnp-floating",e),this.player&&this.player.setFloating(e))}},{key:"isUserInactive",get:function(){return this._isUserInactive},set:function(e){var t=this;e&&!this._isUserInactive&&!this.dismissTimer&&this.isFloating&&0<this.dismissAfterTimeout&&this.player&&(this._isUserInactive=e,this.dismissTimer=new i.Z((function(){t.player.setFloating(!1),t.player.pause(),t.emitFnPSClosedStatus()}),1e3*this.dismissAfterTimeout)),!e&&this.dismissTimer&&this.dismissTimer.cancel(),this._isUserInactive=e}},{key:"attributeChangedCallback",value:function(e){if("block-player-loading"===e&&!this.hasAttribute(e))try{this._instantiatePlayer()}catch(e){this._reportErrorMessage("Error instantiating player: "+e.toString())}}},{key:"connectedCallback",value:function(){if(p(y(n.prototype),"connectedCallback",this).call(this),!window.GdprStatus)throw new Error("window.GdprStatus is required");this.observeFirstIntersection(),this.observeAfterFirstFullView()}},{key:"broadcastedEventCallback",value:function(e){"phoenix:header:in"===e?(this.isFloating=!1,this.canFloat=!1):"phoenix:header:out"===e&&(this.isFloating=!0,this.canFloat=!0)}},{key:"onFirstIntersection",value:function(){var t=this;this.hasAttribute("delay-load")?e.util.whenPageLoaded().then((function(){t._init()})):this._init()}},{key:"onAfterFirstFullView",value:function(){this.canFloat=!0}},{key:"emitFnPSClosedStatus",value:function(){this.emitEvent("fnp:closed",{bubbles:!0,detail:{}})}},{key:"additionalInitPromise",value:function(){return Promise.resolve(!0)}},{key:"_init",value:function(){var t=this;this.libraryId=this.getAttr("library-id",{required:!0}),this.videoId=this.getAttr("video-id",{required:!0}),this.auctionCount=0,this.gdprApplicable=!1,this.adId=null,this.playerStates={paused:!1,playing:!1,completed:!1,viewable:1},this.showFooter=this.hasAttribute("show-footer"),this.autoplayThreshold=this.getAttribute("autoplay-threshold")||0,this.autoplayThresholdMet=!+this.autoplayThreshold||0>=this.autoplayThreshold,this.dismissAfterTimeout=parseInt(this.getAttr("dismiss-after-timeout")||0);var n=this.getAttr("analytics-config");if(n)try{this.analyticsConfig=JSON.parse(n)}catch(e){console.warn("Unable to parse config attribute",e)}var i=this.getAttr("ad-config");if(i)try{this.adConfig=JSON.parse(i)}catch(e){console.warn("Unable to parse ad-config attribute",e)}if(this.thirdPartyIds={},this.getAttr("third-party-ids"))try{this.thirdPartyIds=JSON.parse(this.getAttr("third-party-ids"))}catch(e){console.warn("Unable to parse third-party-ids attribute",e)}var r=this.additionalInitPromise();this.getAttribute("height")&&this.getAttribute("width")&&(this.dimensions={h:this.getAttribute("height"),w:this.getAttribute("width")});var o=new Set;if(this.directOnly=this.hasAttribute("direct-only"),this.directOnly&&o.add("direct_only"),this.getAttr("ad-suppressed-reasons"))try{JSON.parse(this.getAttr("ad-suppressed-reasons")).forEach((function(e){return o.add(e)}))}catch(e){console.warn("Unable to parse ad-suppressed-reasons attribute",e)}this.setAttribute("block-player-loading",!0);var a=this.hasAttribute("is-playlist")?"playlists":"media",s=fetch("https://cdn.jwplayer.com/v2/".concat(a,"/").concat(this.videoId)).then((function(e){return e.json()})).then((function(e){t.playlist=e})).catch((function(e){throw t._reportErrorMessage("Cannot load playlist: "+e),e})),u=this._loadPlayerLibrary().catch((function(e){throw t._reportErrorMessage("Cannot load player library: "+JSON.stringify(e)),e})),c=window.GdprStatus.isDemonetizedSafe();Promise.all([s,u,c,e.util.userHasPremium(),window.GdprStatus.isApplicable(),r]).then((function(e){t.demonetized=!!e[2]||e[3],e[2]&&o.add("gdpr"),e[3]&&o.add("premium"),t.analyticsModel={videoMonetizationState:o.size?l(o.values()).join("|"):"OK"},t.gdprApplicable=e[4],t.autoplayThresholdMet&&t.removeAttribute("block-player-loading"),t.runAuction().then((function(){t.removeAttribute("block-player-loading")}))}))}},{key:"_reportErrorMessage",value:function(e){var t,n;window.googleAnalytics&&(null===(t=window.googleAnalytics)||void 0===t||null===(n=t.sendEvent)||void 0===n||n.call(t,"send","event","phoenixVideoError",e)),console.error("phoenix-video error: "+e)}},{key:"_consentForAnalytics",value:function(){var e=window.phxConsentManagement.ccpaAccepted(),t=window.GdprStatus,n=new Promise((function(e,n){t.isApplicable().then((function(i){i?t.waitForConsentValue().then((function(){t.isConsentGivenForPurposes(["measurement"]).then(e,n)})):e(!0)}),n)}));return Promise.all([e,n]).then((function(e){return e[0]&&e[1]}))}},{key:"_loadScript",value:function(e,t){return new Promise((function(n,i){var r=document.createElement("script");r.id=e,r.src=t,r.onload=n,r.onerror=i,document.head.appendChild(r)}))}},{key:"_loadPlayerLibrary",value:function(){if(!m){if(window.jwplayer)return Promise.resolve();m=this._loadScript("phoenixvideo_jwp","https://content.jwplatform.com/libraries/"+this.libraryId+".js")}return m}},{key:"_loadComscoreLibrary",value:function(){return g=window.ns_?Promise.resolve():g||this._loadScript("phoenixvideo-comscoreanalytics-jwp","https://sb.scorecardresearch.com/c2/plugins/streamingtag_plugin_jwplayer.js")}},{key:"unmuteSound",value:function(){this.player.setMute(!1),this.isMuteButtonPressed=!1}},{key:"muteSound",value:function(){this.player.setMute(!0),this.isMuteButtonPressed=!0}},{key:"_initControlsContainer",value:function(){var e=this,t=document.querySelector(".".concat(this.id,"-footer")),n=document.querySelector(".m-video-player--frame-container");[n,this.querySelector(".m-video-player--controls-float")].forEach((function(t){if(t){e._muteButton=t.querySelector(".m-video-player--mute"),e._unmuteButton=t.querySelector(".m-video-player--unmute");var n=t.querySelector(".m-video-player--close"),i=function(){var t=e.player.getMute();e._unmuteButton.classList.toggle("is-active-button",t),e._muteButton.classList.toggle("is-active-button",!t)};e.player.on("mute",i),i(),e._unmuteButton.addEventListener("click",e.unmuteSound.bind(e)),e._muteButton.addEventListener("click",e.muteSound.bind(e)),n.addEventListener("click",(function(){e.playerStates.paused=!0,e.player.pause(),e.isFloating=!1,e.floatWasClosed=!0}))}})),this.player.on("mute",(function(){window.googleAnalytics&&window.googleAnalytics.sendEvent("Video Mute/Unmute","click",e.player.getMute())})),t&&(this.staticFooterMeta=n.querySelector(".m-video-player--footer-meta")),this.floatFooterMeta=this.querySelector(".m-video-player--footer-meta")}},{key:"setupPlayer",value:function(){this.player.setup(this.playerConfig),this.player.setPlaylistItemCallback(this.onPlaylistItem.bind(this)),this.hasAttribute("floating")&&(this.floatScrollHandler=this.scrollListener.bind(this),window.addEventListener("scroll",this.floatScrollHandler))}},{key:"_instantiatePlayer",value:function(){var e=this,t=document.createElement("div"),n=this.querySelector(".m-video-player--footer-float");n?this.insertBefore(t,n):this.appendChild(t),this.player=window.jwplayer(t),this.setupPlayer(),this.waitForElement(".jwplayer").then((function(t){e.playerElement=t;var n=e._jwplayerStates.bind(e);new MutationObserver(n).observe(t,{attributes:!0,attributeFilter:["class"]})})),this.id&&this._initControlsContainer();var i=(window.location.hash||"").match(/t=(\d+)/);i&&(history.pushState&&history.pushState("",document.title,window.location.pathname+window.location.search),this.offset=+i[1],this.player.on("firstFrame",(function(){e.offset&&(e.player.seek(e.offset),e.offset=!1)})));var r={};this.player.on("adError",(function(t){var n="phoenix-video JWPlayer ad error: "+JSON.stringify(t);console.warn(n),e.sendLiftIgniterEvent({e:"video_ad_error",errorString:t.message,adTag:t.tag})}));var o=this.videoId,s="",l=null,u=0;if(window.googleAnalyticsPromise.then((function(){var t={},n={};e.player.on("playlistItem",(function(n){s=n.item.file,l=n.item.duration,n.item.mediaid===o?e.playerStates.completed&&e.sendLiftIgniterEvent(a(a({},n),{},{e:"video_ad_and_video_replay",id:e.adId,videoDuration:l,videoUrl:s,videoId:o,videoIndex:e.auctionCount})):(o=n.item.mediaid,t={})})),e.player.on("firstFrame",(function(t){window.googleAnalytics.sendEventCustomDimensions("Video","Play",o,void 0,e.analyticsModel),n={},r={}})),e.player.on("time",(function(i){var r=i.position/i.duration*100;[25,50,75,95,100].forEach((function(n){t[n]||r>=n&&(window.googleAnalytics.sendEventCustomDimensions("Video","PlayPercent",o,n,e.analyticsModel),t[n]=!0)}));var c=[15,30];c.forEach((function(t){if(!n[t]){var r=c.indexOf(t)+1;r<=c.length&&i.position>c[r]||i.position>=t&&(1<i.position-u?e.sendLiftIgniterEvent(a(a({},i),{},{e:"video_play_skipped_past_"+t+"s",videoDuration:l,videoUrl:s,videoId:o,videoIndex:e.auctionCount})):e.sendLiftIgniterEvent(a(a({},i),{},{e:"video_play_stuck_"+t+"s",videoDuration:l,videoUrl:s,videoId:o,videoIndex:e.auctionCount})),n[t]=!0)}})),u=i.position}))})),this.analyticsConfig&&this.analyticsConfig.comscore&&this.analyticsConfig.comscore.config&&0<this.analyticsConfig.comscore.config.length){var c=this.analyticsConfig.comscore.config[0],d=this._loadComscoreLibrary();Promise.all([this._consentForAnalytics(),d]).then((function(t){var n;t[0]&&window.ns_&&window.ns_.StreamingAnalytics&&window.ns_.StreamingAnalytics.JWPlayer&&(c.videoTracking&&c.videoTracking.staticReportingValues&&(n=c.videoTracking.staticReportingValues.filter((function(e){return e.value})).map((function(e){return e.key+'="'+e.value.replace(/"/g,"")+'"'})).join(", ")),window.ns_.StreamingAnalytics.JWPlayer(e.player,{publisherId:c.publisherId,labelmapping:n}))}))}this.player.on("viewable",(function(t){e.playerStates.viewable=t.viewable})),this.player.on("levelsChanged",(function(t){e.sendLiftIgniterEvent(a(a({},t),{},{e:"video_quality_level_changed",videoDuration:l,videoUrl:s,videoId:o,videoIndex:e.auctionCount}))})),this.player.on("adPlay",(function(t){e.adId=t.id,e.sendLiftIgniterEvent(a(a({},t),{},{e:e.playerStates.paused?"video_ad_resume":"video_ad_play",id:e.adId})),e.playerStates.paused=!1})),this.player.on("adPause",(function(t){e.playerStates.paused=!0,e.playerStates.viewable||e.sendLiftIgniterEvent(a(a({},t),{},{e:"video_ad_unfloat",id:e.adId})),e.sendLiftIgniterEvent(a(a({},t),{},{e:"video_ad_pause",id:e.adId}))})),this.player.on("adComplete",(function(t){e.sendLiftIgniterEvent(a(a({},t),{},{e:"video_ad_complete",id:e.adId})),e.adId=null})),this.player.on("adSkipped",(function(t){e.sendLiftIgniterEvent(a(a({},t),{},{e:"video_ad_skipped",id:e.adId})),e.adId=null})),this.player.on("adTime",(function(t){var n=[15,30];n.forEach((function(i){if(!r[i]){var o=n.indexOf(i)+1;o<=n.length&&t.position>n[o]||t.position>=i&&(e.sendLiftIgniterEvent(a(a({},t),{},{e:"video_ad_play_stuck_"+i+"s",id:e.adId})),r[i]=!0)}}))})),this.player.on("play",(function(t){(!e.playerStates.playing||e.playerStates.paused)&&(e.adId=null,e.sendLiftIgniterEvent(a(a({},t),{},{e:e.playerStates.paused?"video_resume":"video_play",videoDuration:l,videoUrl:s,videoId:o,videoIndex:e.auctionCount})),e.playerStates.playing=!0,e.playerStates.paused=!1)})),this.player.on("nextClick",(function(t){e.sendLiftIgniterEvent(a(a({},t),{},{e:"video_next_click",videoDuration:l,videoUrl:s,videoId:o,videoIndex:e.auctionCount})),e.playerStates.playing=!1,e.playerStates.paused=!1})),this.player.on("playlist",(function(t){e.sendLiftIgniterEvent(a(a({},t),{},{e:"video_playlist",videoDuration:l,videoUrl:s,videoId:o,videoIndex:e.auctionCount})),e.playerStates.playing=!1,e.playerStates.paused=!1})),this.player.on("pause",(function(t){e.playerStates.paused=!0,e.playerStates.viewable||e.sendLiftIgniterEvent(a(a({},t),{},{e:"video_unfloat",videoDuration:l,videoUrl:s,videoId:o,videoIndex:e.auctionCount})),e.sendLiftIgniterEvent(a(a({},t),{},{e:"video_pause",videoDuration:l,videoUrl:s,videoId:o,videoIndex:e.auctionCount}))})),this.player.on("mute",(function(t){e.adId?e.sendLiftIgniterEvent(a(a({},t),{},{id:e.adId,e:t.mute?"video_ad_mute":"video_ad_unmute"})):e.sendLiftIgniterEvent(a(a({},t),{},{videoDuration:l,videoUrl:s,videoId:o,videoIndex:e.auctionCount,e:t.mute?"video_mute":"video_unmute"}))})),this.player.on("complete",(function(t){e.playerStates.completed=!0,e.sendLiftIgniterEvent(a(a({},t),{},{e:"video_complete",videoDuration:l,videoUrl:s,videoId:o,videoIndex:e.auctionCount})),e.playerStates.playing=!1})),this.player.on("fullscreen",(function(t){e.adId?e.sendLiftIgniterEvent(a(a({},t),{},{e:t.fullscreen?"video_ad_enter_full_screen":"video_ad_exit_full_screen",id:e.adId})):e.sendLiftIgniterEvent(a(a({},t),{},{e:t.fullscreen?"video_enter_full_screen":"video_exit_full_screen",videoDuration:l,videoUrl:s,videoId:o,videoIndex:e.auctionCount}))})),("mobile"===k.get()||"tablet"===k.get())&&this.player.on("autostartNotAllowed",(function(){e.sendLiftIgniterEvent({e:"video_autostart_not_allowed",videoDuration:l,videoUrl:s,videoId:o,videoIndex:e.auctionCount})})),this.player.on("adRequest",(function(t){e.sendLiftIgniterEvent(a(a({},t),{},{e:"video_ad_request_start",videoDuration:l,videoUrl:s,videoId:o,videoIndex:e.auctionCount}))}))}},{key:"_jwplayerStates",value:function(){this.isFloating=this.player.getFloating(),this.isUserInactive=this.playerElement.classList.contains("jw-flag-user-inactive")}},{key:"sendLiftIgniterEvent",value:function(e){if("undefined"!=typeof window&&window.$p&&e){for(var t in e.mediaFile&&(e.mediaFile=e.mediaFile.file),e.universalAdId&&0<e.universalAdId.length&&(e.universalAdIdRegistry=e.universalAdId[0].universalAdIdRegistry,e.universalAdIdValue=e.universalAdId[0].universalAdIdValue),delete e.universalAdId,e.adtitle&&(e.adTitle=e.adtitle,delete e.adtitle),e.placement&&(e.adPlacement=e.placement,delete e.placement),e.adposition&&(e.adPosition=e.adposition,delete e.adposition),delete e.type,e)null!==e[t]&&"object"===r(e[t])&&(e[t]=JSON.stringify(e[t])),"string"==typeof e[t]&&(e[t]=e[t].substring(0,1e3));window.$p("send",e.e,e)}}},{key:"runAuction",value:function(){var t=this;if(!this.auctionPromise){var n=this.adConfig;if(!n||!n.units||this.directOnly)return Promise.resolve();var i=e.util.getCurrentBreakpoint();n.units[i].forEach((function(e){if(!document.getElementById(e.code)){var n=document.createElement("div");n.id=e.code,t.appendChild(n)}})),this.auctionCount++;var r="".concat(this.id,"-").concat(this.auctionCount),o=this;this.auctionPromise=new Promise((function(e,t){window.phxAdAuctionQueue.push((function(){var i=this;this.dynamicAuction(n,r).then((function(){var n=i.getResultById(r);n.then((function(e){e.getMaxBidForAdUnit()>=o.autoplayThreshold&&(o.autoplayThresholdMet=!0)})),n.then(e,t)})).catch((function(){return e()}))}))}))}return this.auctionPromise}},{key:"goToLinkWithOffset",value:function(e){e.preventDefault();var t=e.target.getAttribute("href"),n=this.player.getPosition();0<n&&(t+="#t=".concat(Math.floor(n))),window.googleAnalytics&&window.googleAnalytics.sendEvent("Chained Video View","click",t),window.location.href=t}},{key:"scrollListener",value:function(){this.observeVisibilityChanges(),window.removeEventListener("scroll",this.floatScrollHandler)}},{key:"onChangeToVisible",value:function(){this.isFloating=!1}},{key:"onChangeToNotVisible",value:function(){this.isFloating=this.canFloat}},{key:"onPlaylistItem",value:function(t){var n=this;return t.mediaid!==this.videoId&&this.fetchWithBasePath("/.api/video-meta-by-platform-ids/".concat(t.mediaid)).then((function(e){return e.json()})).then((function(e){var i=e[t.mediaid]||{},r=function(e){if(e){var r=e.querySelector("a"),o=i.path||null;window.location.pathname===o&&(o=null),o?r.setAttribute("href",o):r.removeAttribute("href"),r.textContent=i.promoTitle||t.title||"",n.listenersAdded||r.addEventListener("click",n.goToLinkWithOffset.bind(n))}};r(n.staticFooterMeta),r(n.floatFooterMeta),n.listenersAdded=!0,n.analyticsModel.videoTitle=i.title||"",n.analyticsModel.videoAuthorName=i.videoAuthorName||""})).catch((function(e){throw n._reportErrorMessage("Cannot load video metadata: "+e),e})),this.playerConfig.advertising?this.runAuction().then((function(i){n.auctionPromise=null;var r=n.adConfig,o=e.util.getCurrentBreakpoint(),a=r&&r.units&&r.units[o];if(!a)return Promise.resolve(t);window.pbjs;var s,u=l(r.midrollBreaks||[]),c=r.slots;t.adschedule=[],s=r.nonlinear?_({gdprApplicable:n.gdprApplicable}).then((function(e){e&&e.tag?t.adschedule.push({type:"nonlinear",offset:r.nonlinear.offset||5,tag:e.tag}):console.warn("Failed to receive nonlinear tag")})):Promise.resolve();var d=c.map((function(e,o){if(!e)return Promise.resolve();var s,l=Math.min(o,4),c=a&&a[l];c&&(s=c.code);var d,p=e.slotModel.zone;if(!(d=["preroll","postroll"].includes(p)?p.replace("roll",""):u.shift()))return Promise.resolve();var f={adId:s,slotModel:e.slotModel,dimensions:n.dimensions,maxDuration:r.maxDuration,gdprApplicable:n.gdprApplicable,directOnly:n.directOnly};return w(f).then((function(e){var n=e.tag;if(i){var r={adUnit:c};n=i.applyTargetingToVideoUrl(n,r)}t.adschedule.push({offset:d,tag:n})}))}));return d.push(s),Promise.all(d).then((function(){return t}))})):Promise.resolve(t)}},{key:"playerConfig",get:function(){var e={playlist:this.playlist,aspectratio:"16:9",width:"100%"};if(this.hasAttribute("floating")&&(e.floating={dismissible:!0,mode:"never"}),this.dimensions&&(e.height=this.dimensions.h+"",e.width=this.dimensions.w+""),this.hasAttribute("autoplay")&&!this.demonetized&&this.autoplayThresholdMet&&(e.autostart="viewable",this.hasAttribute("autoplaymuted")&&(e.mute=!0)),this.hasAttribute("autopause")&&(e.autoPause={viewability:!0,pauseAds:!this.hasAttribute("floating")}),this.hasAttribute("play-next")&&this.hasAttribute("recommendations-playlist")){var t=this.getAttribute("recommendations-playlist"),n={displayMode:"none",file:"https://cdn.jwplayer.com/v2/playlists/".concat(t,"?format=mrss&related_media_id=").concat(this.videoId),onclick:"play"},i=this.getAttribute("play-next");"click"===i?n.oncomplete="show":"instant"===i?n.oncomplete="none":(n.oncomplete="autoplay",n.autoplaytimer=parseInt(i,10)),e.related=n}return this.demonetized||"disabled"===this.getAttribute("ad")?(e.advertising=!1,e):(e.advertising={client:"googima",maxRedirects:8,vpaidcontrols:!0,vpaidmode:this.hasAttribute("vpaid")?"enabled":"disabled"},e.autostart&&this.hasAttribute("autoplayadsmuted")&&(e.advertising.autoplayadsmuted=!0),e)}},{key:"isPlayerLoadingBlocked",get:function(){return this.hasAttribute("block-player-loading")}},{key:"disconnectedCallback",value:function(){p(y(n.prototype),"disconnectedCallback",this).call(this),this.unobserveVisibilityChanges(),this._unmuteButton.removeEventListener("click",this.unmuteSound),this._muteButton.removeEventListener("click",this.muteSound)}}])&&d(o.prototype,s),u&&d(o,u),Object.defineProperty(o,"prototype",{writable:!1}),n}(e.PhoenixElement);window.customElements.define("phoenix-video",t),I.end()}))},92579:(e,t,n)=>{function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t,n=1;n<arguments.length;n++)t=null==arguments[n]?{}:arguments[n],n%2?i(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(41762),s=n(47586),l=a.evalTemplate;function u(e){var t=[];for(var n in e)t.push(n+"="+e[n]);return{tag:"https://pubads.g.doubleclick.net/gampad/ads?"+t.join("&")}}function c(e){var t=e.adId,n=e.slotModel,i=e.dimensions,r=e.maxDuration,o=e.gdprApplicable,u=e.encode,c=e.directOnly,d=e.nonlinear;if(!window.phxPageTarget)return Promise.resolve(!1);var p=window.phxPageTarget.config.global.config,f=window.phxPageTarget.config.global.baseModel;return i||(i={h:529,w:940}),new Promise((function(e,h){window.phxAdAuctionQueue.push((function(){var h=a.makePageModel(f,this.keyValues,o),v=p.adUnitPathTemplates.map((function(e){return l(e,h)})).filter((function(e){return!!e})).map((function(e){return Array.isArray(e)?e.join("/"):encodeURIComponent(e)})),y=["",p.networkCode].concat(v).join("/"),m=window.location.protocol+"//"+f.hostname+f.path,g=a.makePageTargeting(p.customTargetingPageTemplates,h,p),b={};if(n){var w=n.zone+"_"+n.index;b={adindex:n.index+"",adzone:n.zone,adzoneindex:w,siteadzoneindex:f.hostname+"_"+w}}else d&&(b={adindex:0,adzone:"nonlinear",adzoneindex:"nonlinear_0",siteadzoneindex:f.hostname+"_nonlinear_0"});if(b.direct=c?"1":"0",b.deal="0",window.pbjs&&t){var _=window.pbjs.getAdserverTargetingForAdUnitCode(t);_.hb_deal&&(b.deal="1");var P=0;_.hb_pb&&(P=s.getCpmDollarBucket(parseFloat(_.hb_pb))),b.hb_pbd=P.toString()}var k={description_url:m,sz:i.w+"x"+i.h,impl:"s",gdfp_req:1,env:"vp",output:"vast",unviewed_position_start:1,url:m};if(d&&(k.vad_type="nonlinear"),k.correlator=window.google_global_correlator||Math.floor(Math.random()*Math.pow(10,16)),k.iu=y,k.cust_params=a.vastCustomParams(b,g,u),r&&(k.max_ad_duration=1e3*r),n&&["preroll","midroll","postroll"].includes(n.zone)&&(k.vpos=n.zone),o){var I=window.GdprStatus;I.isConsentGivenForPurposes(I.PURPOSE_IDS.advertising).then((function(t){t||(k.npa=1),e(k)}))}else e(k)}))}))}e.exports={generateTargeting:function(e){return c(r(r({},e),{},{encode:!0})).then((function(e){return e?u(e):e}))},generateTargetingParams:c,generateNonlinearTargeting:function(e){return c({dimensions:{h:529,w:940},directOnly:!0,encode:!0,gdprApplicable:e.gdprApplicable,nonlinear:!0,skipPrebid:!0}).then((function(e){return!!e&&u(e)}))}}}},e=>{e(e.s=19152)}]);
//# sourceMappingURL=video.min.js.map