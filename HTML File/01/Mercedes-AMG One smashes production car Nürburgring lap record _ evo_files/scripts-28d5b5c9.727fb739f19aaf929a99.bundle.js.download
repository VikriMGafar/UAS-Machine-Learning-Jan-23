(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[6],{12:function(e,t,n){(function(e){var r,a,o,i;function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}i=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==c(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=57)}([function(e,t){e.exports=n(0)},function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"isBetweenTwoTextBlocks",(function(){return c})),n.d(r,"isLastIndexOfArray",(function(){return u})),n.d(r,"shouldInjectFirstSideAd",(function(){return s})),n.d(r,"isRightNumberOfWordsForTeads",(function(){return l})),n.d(r,"getWordCountFromLastIndexOfTypeToEndOfArray",(function(){return p})),n.d(r,"getWordCountFromCurrentIdxToEnd",(function(){return d})),n.d(r,"shouldInjectLastAd",(function(){return f})),n.d(r,"isDigitekaEnabled",(function(){return m})),n.d(r,"isTypeInjected",(function(){return g})),n.d(r,"shouldInjectDigiteka",(function(){return y})),n.d(r,"hasRuleBeenInjected",(function(){return v})),n.d(r,"shouldInjectSubscriptionOrNewsletter",(function(){return h}));var a={};n.r(a),n.d(a,"GET_RENDER_TYPE",(function(){return k})),n.d(a,"renderType",(function(){return _})),n.d(a,"getRenderTypeFromReq",(function(){return C}));var o=n(2),i=n.n(o),c=function(e){var t=e.currentType,n=e.nextType;return"TEXT"===t&&"TEXT"===n},u=function(e){return e.bodyIndex===e.bodyElements.length-1},s=function(e){var t=e.bodyIndex,n=e.currentRuleInjectedComponentCount,r=e.bodyElements,a=!1;return u({bodyIndex:t,bodyElements:r})&&0===n&&(a=!0),a},l=function(e){var t=e.currentWordCount,n=e.teadsCount,r=e.props.adSettings.minNumOfWordsBeforeTeads;return!(!r&&0!==r)&&0===n&&t>=r},p=function(e){for(var t,n=e.injectedArray,r=e.typeToStartCount,a=n.length-1;a>0;a--){var o=void 0;if(n[a].type===r&&(o=n.slice(a+1)),o){t=o.reduce((function(e,t){return t.wordCount?e+t.wordCount:e}),0);break}}return t},d=function(e){var t,n=e.bodyIndex,r=e.bodyElements.slice(n+1);return r&&(t=r.reduce((function(e,t){return t.wordCount?e+t.wordCount:e}),0)),t},f=function(e){var t=e.injectedArray,n=e.mobile,r=e.props.adSettings,a=e.typeToStartCount,o=void 0===a?"DESKTOP_INLINE_ADVERT":a,i=r.minNumOfWordsAfterLastInlineAdDesktop,c=r.minNumOfWordsAfterLastInlineAdMobile;return!(!i&&0!==i&&!c&&0!==c)&&(n?p({injectedArray:t,typeToStartCount:o})>=c:p({injectedArray:t,typeToStartCount:o})>=i)},m=function(e){var t=e.monetising;return t&&t.some((function(e){return"digiteka"===e.service&&e.enabled}))},g=function(e){var t=e.injectedArray,n=e.typeName;return t.find((function(e){return e.type===n}))},y=function(e){var t=e.beforeDigitekaAd,n=e.currentRuleInjectedComponentCount,r=e.currentWordCount,a=e.monetising;return m({monetising:a})&&0===n&&r>=t},v=function(e){return e>=1},h=function(e){var t,n=e.options,r=e.viewport,a=e.component,o=n.currentRuleComponentTypeWordCount,i=n.currentRuleInjectedComponentCount,u=n.currentType,s=n.nextType,l=n.props.adSettings,p=l.beforeInlineSubsMobileAds,d=l.beforeInlineSubsDesktopAds,f=l.beforeInlineNewsletterMobileAds,m=l.beforeInlineNewsletterDesktopAds;if("newsletter"===a){if("mobile"===r){if(f===p)return!1;t=f}else if("desktop"===r){if(m===d)return!1;t=m}}else if("subscription"===a)if("mobile"===r){if(f===p)return!1;t=p}else if("desktop"===r){if(m===d)return!1;t=d}return!(!t&&0!==t)&&!v(i)&&!1!==c({currentType:u,nextType:s})&&o>t},b=n(14),w=n.n(b),E=n(0),O=n.n(E),T=n(10);function j(){var e=w()(["\n  {\n    renderType @client\n  }\n"]);return j=function(){return e},e}var k=Object(T.gql)(j()),_=function(e){return function(t){if(void 0===e.default)throw new Error("Please include a default rendertype Component");var n=Object(T.useQuery)(k),r=n.loading,a=n.error,o=n.data;if(r)return"Loading...";if(a)return"Error!";var i=o.renderType,c=e[i]?e[i]:e.default;return O.a.createElement(c,t)}},C=function(e){return void 0!==e.query.amp?"amp":"default"},I=n(40),P=n(41),S=n(34),R=n.n(S),A=n(42),x=n(31),L=n(24);function D(){var e=w()(["\n        {\n          config\n        }\n      "]);return D=function(){return e},e}var M=Object(P.onError)((function(e){var t=e.graphQLErrors,n=e.networkError;t&&t.map((function(e){var t=e.message;return console.log(t)})),n&&console.log(n)})),N=function(e){var t=e.zephrEnableGraphql,n=e.prod,r=e.siteUrl;return t&&n&&!function(e){return["develop.coreapp","staging.coreapp","preprod.coreapp"].find((function(t){return e.includes(t)}))}(void 0===r?"":r)?"include":"same-origin"},U=function(e){var t=e.credentials,n=e.state,r=void 0===n?null:n,a=e.ssr,o=void 0===a||a,c=e.prod,u=void 0!==c&&c,s=(e.defaults,e.schemaFragment),l=void 0===s?null:s,p=new I.InMemoryCache({possibleTypes:l,typePolicies:{NestedMetadata:{keyFields:[["key","value"]]}}});r&&p.restore(r);var d={};if(!o){var f=p.readQuery({query:L.a}).config;d=Object(x.c)(JSON.parse(f)),p.writeQuery({query:Object(T.gql)(D()),data:{config:JSON.stringify(d)}})}var m=t.type,g=t.uri,y=R.a;"aws"===m&&(y=function(e,t){var n=e.accessKeyId,r=e.secretAccessKey,a=e.region,o=e.proxyedUri;return function(e,c){var u=new URL(o||e),s=new URL(e),l=s.hostname,p=s.pathname,d=Object(A.sign)({service:"appsync",region:a,host:u.hostname,path:u.pathname,method:c.method,body:c.body,headers:c.headers},{accessKeyId:n,secretAccessKey:r});delete d.headers.Host,delete d.headers["Content-Length"];var f=i()({},d,{headers:i()({},d.headers),credentials:N(t),host:l,path:p});return R()(e,f)}}(t,d));var v=Object(T.createHttpLink)({uri:g,fetch:y});return new T.ApolloClient({link:T.ApolloLink.from([M,v]),assumeImmutableResults:!0,cache:p,ssrMode:o,connectToDevTools:!o&&!u,defaultOptions:{query:{fetchPolicy:"cache-first",errorPolicy:"all"},watchQuery:{fetchPolicy:"cache-first",errorPolicy:"all"}},resolvers:{},credentials:N(d)})},H=n(33);function F(e){var t=[];return e.forEach((function(e){t.push({platform:"mobile",dpi:e},{platform:"desktop",dpi:e})})),t}var q=n(12),B=n.n(q);function G(e){for(var t=e.transformsConfig,n=void 0===t?{}:t,r=e.transformationTypeName,a=e.platform,o=void 0===a?"mobile":a,i=e.dpi,c=void 0===i?1:i,u=e.originalWidth,s=e.originalHeight,l=n&&"object"===B()(n)&&Object.keys(n).length>0,p="".concat(r,"-").concat(o),d=l&&n[p];d&&"string"==typeof d;)d=n[d];var f=u/s,m=l&&d&&d[0]||0,g=l&&d&&d[1]||0;return{width:(0===m&&f?f*g:m)*c,height:(0===g&&f?m/f:g)*c}}function z(e){var t=e.transformsConfig,n=e.resolutions,r=e.mobileBreakpoint,a=e.transformationTypeName,o=e.originalWidth,i=e.originalHeight;return F(n).map((function(e){var n=e.platform,c=e.dpi,u=G({transformsConfig:t,transformationTypeName:a,platform:n,dpi:c,originalWidth:o,originalHeight:i}).width;if(!u)return!1;var s=[];return"desktop"===n?s.push("min-width: ".concat(r,"px")):s.push("max-width: ".concat(r,"px")),c>1&&s.push("min-resolution: ".concat(c,"dppx")),"(".concat(s.join(") and ("),") ").concat(u,"px")})).filter((function(e){return e})).concat("".concat(G({transformsConfig:t,transformationTypeName:a,originalWidth:o,originalHeight:i}).width,"px"))}var W=function(e){var t=e.images,n=void 0===t?{}:t;return function(e,t,r,a){var o,i,c,u=n.cloudinaryKey,s=n.cloudinaryTransforms,l=n.resolutions,p=void 0===l?[1]:l,d=n.mobileBreakpoint,f=void 0===d?360:d,m=F(p),g=G({transformsConfig:s,transformationTypeName:t,originalWidth:r,originalHeight:a});o=g.width,i=g.height;try{(c=new URL(e)).host=u}catch(e){console.warn("Invalid image url provided")}if(!s||!u||!c)return function(e,t,n){var r=function(e){return 0===e};return{src:e,srcSet:[],sizes:[],width:!r(t)&&t,height:!r(n)&&n}}(e,o,i);var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mobile",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r="f_auto,t_".concat(t,"-").concat(e,"@").concat(n),a=new URL(c.toString()),o=a.pathname.split("/"),i=o.findIndex((function(e){return/^v\d+$/.test(e)}));return o.splice(Math.max(i,3),0,r),a.pathname=o.join("/"),a.toString()},v=m.map((function(e){var n=e.platform,o=e.dpi,i=G({transformsConfig:s,transformationTypeName:t,platform:n,dpi:o,originalWidth:r,originalHeight:a});return"".concat(y(n,o)," ").concat(i.width,"w")}));return{src:y(),srcSet:v,sizes:z({transformsConfig:s,resolutions:p,mobileBreakpoint:f,transformationTypeName:t}),width:o,height:i}}},V=function(e){for(var t=document.cookie.split(";"),n="".concat(e,"="),r=0;r<t.length;r++){for(var a=t[r];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(n))return a.substring(n.length,a.length)}return null},J=function(e,t){document.cookie="".concat(e,"=").concat(t)},K=function(e){document.cookie="".concat(e,"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;")};n(36),n(6);var $=n(37),Q=n.n($),Z=n(3),X=n.n(Z),Y=["a","abbr","address","b","blockquote","caption","cite","dd","del","div","dl","dt","em","h2","h3","h4","h5","h6","hr","i","iframe","img","li","ol","p","picture","pre","q","s","small","span","strike","strong","sub","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul"],ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];return Q()(e,{transform:function(e){var r=e.type,a=e.data;"text"===r&&n.push(t?a:a.trim())}}),t?n.join(""):n.join(" ").replace(/ {2,}/," ")},te=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Y,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return O.a.createElement(E.Fragment,null,Q()(e,{transform:function(e){if("tag"===e.type){if(!t.includes(e.name))return null;if(Object.keys(n).includes(e.name)){var r=n[e.name];if(O.a.isValidElement(r))return r;if("function"==typeof r)return r(e);console.warn("Invalid transform for node ".concat(e.name,", skipping render."))}}}}))}(e.html,e.allowedTags,e.transforms)};te.propTypes={html:X.a.string.isRequired,allowedTags:X.a.arrayOf(X.a.string),transforms:X.a.object},te.defaultProps={allowedTags:Y,transforms:{}};var ne=function(e){var t=e.html,n=e.keepWhitespace;return ee(t,n)};ne.propTypes={html:X.a.string.isRequired,keepWhitespace:X.a.bool},ne.defaultProps={keepWhitespace:!1};var re,ae,oe,ie=function(e){if(!e||!e.length)return"";var t=e.filter((function(e){return"TEXT"===e.type})).reduce((function(e,t){return"".concat(e," ").concat(t.data)}),"");return ee(t).trim()},ce=(re={},ae=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;re[e]?(re[e].currentItemCount+=t||1,re[e].totalItemCount+=t||1):function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;re[e]={currentItemCount:t||1,totalItemCount:t||1}}(e,t)},{addToCurrentItemTypeCount:function(e,t){return ae(e,t)},getCurrentItemTypeTotalCount:function(e){return function(e){return re[e]?re[e].totalItemCount:0}(e)},getCurrentItemTypeCurrentCount:function(e){return function(e){return re[e]?re[e].currentItemCount:0}(e)},resetCurrentCount:function(e){return function(e){return re[e]&&(re[e].currentItemCount=0),""}(e)},deleteItems:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e);if(0===t.length)return null;t.forEach((function(t){return delete e[t]}))}(re)}}),ue=(oe=[],{add:function(e){return oe.push(e)},delete:function(){oe=[]},get:function(){return oe}}),se=function(e){var t=e.body,n=e.rules,r=e.amp,a=void 0!==r&&r,o=e.props;return n?(function(e,t,n,r){ue.delete(),e.forEach((function(e,a,o){var c=e.type,u=e.wordCount;ue.add(e),function(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},c=arguments.length>6?arguments[6]:void 0;ce.addToCurrentItemTypeCount(a),"TEXT"===a&&ce.addToCurrentItemTypeCount("wordCount",c),e.forEach((function(e){var u=e.componentType,s=e.condition,l=e.component,p=e.id,d=e.resetCurrentItemTypeCurrentCounter,f=void 0!==d&&d;p&&"TEXT"===a&&c&&c>0&&ce.addToCurrentItemTypeCount("".concat(p,".wordCount"),c);var m=ce.getCurrentItemTypeTotalCount(u),g=ce.getCurrentItemTypeCurrentCount("".concat(p,".wordCount"));if(s({amp:t,bodyElements:n,bodyIndex:r,currentRuleInjectedComponentCount:m,currentRuleComponentTypeWordCount:g,currentType:a,currentTypeCurrentCount:ce.getCurrentItemTypeCurrentCount(a),currentTypeTotalCount:ce.getCurrentItemTypeTotalCount(a),injectedArray:ue.get(),nextType:n[r+1]?n[r+1].type:null,prevType:n[r-1]?n[r-1].type:null,props:o,totalWordCount:ce.getCurrentItemTypeCurrentCount("wordCount")})){ce.addToCurrentItemTypeCount(u);var y=ce.getCurrentItemTypeTotalCount(u);l(i()({},o,{componentCount:y})).forEach((function(e){return ue.add(e)})),f&&(ce.resetCurrentCount(a),ce.resetCurrentCount("".concat(p,".wordCount")))}}))}(t,n,o,a,c,r,u)}))}(t,n,a,void 0===o?{}:o),ce.deleteItems(),ue.get()):t},le=(n(38),function(e,t){return t[e]||t.notFound}),pe=function(e){var t=e.status.code;return 404===t?"notFound":200!==t?"error":e.page.contentType},de=function(e,t){var n=pe(e);return le(n,t)},fe=n(9),me=n.n(fe),ge={"RUNNING SERVER ERROR":"COREWEB-500","OPTIMISING CSS ERROR":"COREWEB-501","RENDERING ERROR":"COREWEB-502","WRAPPED LAYOUT ERROR ":"COREWEB-503","PAGINATION ERROR":"COREWEB-504","PPC TRACKING ERROR":"COREWEB-505","ZEPHR ERROR":"COREWEB-506","EXTRACTOR COLLECTING CHUNKS ERROR":"I AM WILL AND I CANT BE BOTHERED TO READ THE FUNCTION DOCS","HTTP ERROR":"COREWEB-520","PREFETCH PROVIDER ERROR":"COREWEB-521","FETCHING SCHEMA ERROR":"COREWEB-522","LOADING SCHEMA ERROR":"COREWEB-523","AD REFRESH ERROR":"COREWEB-530","THIRD PARTY CALL":"COREWEB-600","REACT-GA ERROR":"COREWEB-601"},ye=function(e){var t=e.description,n=e.error,r=e.info,a=e.logToConsole,o=void 0!==a&&a,c=e.logToAPM,u=void 0===c||c,s=e.meta,l=e.type,p=ge[t];if(o){var d;switch(void 0===l?"error":l){case"error":!function(e){"undefined"!=typeof window&&e&&me.a.ga("send",{hitType:"event",eventCategory:"System",eventAction:"Site error",eventLabel:e,nonInteraction:!0})}(n),d="pink";break;case"warn":d="lightyellow";break;default:d="lightgreen"}n?(console.table(i()({description:t,name:n.name,message:n.message},n.trace&&{trace:n.trace},r,s)),n.stack&&console.log(n.stack)):(console.log("%c".concat(t),"color: black; background: ".concat(d)),console.log("%c".concat(p),"color: black; background: ".concat(d)),console.table(s))}u&&function(e){var t=e.eventID,n=void 0===t?"":t,r=e.error,a={duration:e.duration,timestamp:e.timestamp,backendTraceId:e.backendTraceId,error:r,componentStack:e.componentStack,meta:e.meta};r&&(a.error=r),"undefined"!=typeof window&&window.ineum&&window.ineum("reportEvent",n,a)}({eventID:p,timestamp:Date.now(),backendTraceId:p,error:n,componentStack:r&&r.componentStack,meta:s})},ve=function(e){if(!e.location)return"/";var t=e.location,n=t.pathname,r=t.search,a=e.config.allowApiParams,o="/";if(n&&(o=n).endsWith("/")&&(o=o.slice(0,-1)),!r)return o;var i=new URLSearchParams(r),c=Math.max(0,Number.parseInt(i.get("page"),10));i.delete("page"),c&&i.set("page",String(c));var u=i.toString();return u?a?c?(i.delete("page"),"".concat(o,"?page=").concat(c,"&").concat(i.toString())):"".concat(o,"?").concat(i.toString()):c?"".concat(o,"?page=").concat(c):"".concat(o,"?").concat(u):o},he=function(e){var t=new RegExp(/\/page\/(\d+)\/?|[?&]page=(\d+)/,"i").exec(e);return t&&3===t.length?Math.max(Number.parseInt(t[1]||t[2],10),1):1},be=function(e,t){var n=t.replace(/\/page\/\d+|[?&]page=\d+/,"").replace(/\/$/,"");return n||(n="/"),e<=1?n:"".concat(n,"?page=").concat(e)},we=n(50).parse,Ee=n(51).print,Oe=function(e,t){var n=Ee(e).replace(/[\w\W]+?\n+?/,"").slice(0,-2),r=Ee(t).replace(/[\w\W]+?\n+?/,"").slice(0,-2),a="query RootQuery($url: String!, $limit: Int = 24) {\n      ".concat(r,"\n      ").concat(n,"\n  }");return we(a)};function Te(){var e=w()(['query RootQuery($url: String!, $limit: Int = 24) {\n  getContentByUrl: getIndexPageByUrl(url: $url, limit: $limit) @connection(key: "RootQuery", filter: ["url", "limit"]) {\n    status {\n      code\n      location\n      noAmp\n      noIndex\n      prefetch {\n        id\n        url\n        contentType\n      }\n    }\n    page {\n      id\n      url\n      contentType\n      ... on Article { \n        isIndexArticlePage \n      }\n      ... on Review { \n        isIndexArticlePage \n      }\n      metaData {\n        meta {\n          key\n          value\n        }\n        dataLayer {\n          key\n          value\n        }\n        hreflang {\n          key\n          value\n        }\n      }\n    }\n    pagination {\n      currentPage\n      totalPages\n    }\n  }\n}']);return Te=function(){return e},e}var je=Object(T.gql)(Te()),ke=function(e){var t,n=e.callback,r=e.params,a=void 0===r?{}:r;try{t=n(a)}catch(e){var o;if("undefined"!=typeof window&&(o=window&&window.location.search.includes("show-logged-data")),o){var i=n.unminifiedName||n.name;ye({description:"Callback ".concat(i," failed with"),error:e,meta:{function:"tryCallback"},type:"log",logToAPM:!1});var c=Object.keys(a);c.length>0&&c.forEach((function(e){ye({description:"key: ",error:e,logToAPM:!1}),ye({description:"value: ",error:a[e],logToAPM:!1})}))}}return t},_e=function(e){var t=e.fullUrl,n=e.canonicalUrl,r=e.siteUrl;if(!n)return null;var a=n;return n.startsWith(r)||(a=t),a+"".concat(a.split("?")[1]?"&":"?","amp")};_e.unminifiedName="getAmpUrl";var Ce=n(43),Ie=n.n(Ce),Pe=n(7),Se=n.n(Pe),Re=function(e){var t,n=e.page,r=e.siteUrl,a=e.fullUrl,o=e.protocol,i=Se()(n,"metaData.meta",[]),c=i&&i.find((function(e){return"canonical"===e.key})),u=c&&c.value,s=c&&Ie()(c);return{canonicalWithOrigin:(t=u,t?t.startsWith("/")&&!t.startsWith("//")?"".concat(r).concat(t):u.startsWith("http")?t:"".concat(o,"://").concat(u):null),fallbackCanonicalUrl:a,canonicalMetaObj:s}};Re.unminifiedName="getCanonicalData";var Ae=function(e){var t=e.fullUrl,n=e.page,r=e.protocol,a=e.siteUrl,o=qe({fullUrl:t,page:n,protocol:r,siteUrl:a}),i=o.canonicalWithOrigin,c=o.fallbackCanonicalUrl;return Ge({urlString:i||c})};Ae.unminifiedName="getStrippedCanonicalUrl";var xe=function(e){var t=e.urlString,n=e.baseUrl;if(!t)return null;var r=n?new URL(t,n):new URL(t),a=r.searchParams.get("page");return r.search=a?"?page=".concat(a):"",r.toString()};xe.unminifiedName="stripUrlParams";var Le=function(e){var t=e.fullUrl,n=e.page;return!!t&&!(!n.isIndexArticlePage||!1===n.isIndexArticlePage)&&!!new URL(t).searchParams.get("page")};Le.unminifiedName="isIndexPageAndHasPageParameter";var De=function(e){return e.replace(/^\/|\/$/g,"")},Me=function(e){return RegExp("^(?:[a-z]+:)?//","i").test(e)},Ne=function(e){var t=new URLSearchParams(e);return{utm_medium:t.get("utm_medium"),utm_source:t.get("utm_source"),utm_campaign:t.get("utm_campaign")}},Ue=function(e){return Object.values(e).find((function(e){return"undefined"!==e&&null!==e&&""!==e}))},He=function(e){var t=e||"debug";return"undefined"!=typeof window&&window.location.search.includes(t)},Fe=function(e){return ke({callback:_e,params:e})},qe=function(e){return ke({callback:Re,params:e})},Be=function(e){return ke({callback:Ae,params:e})},Ge=function(e){return ke({callback:xe,params:e})},ze=function(e){return ke({callback:Le,params:e})},We=function(e,t){var n={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)};return fetch(t,n).then((function(e){return e.json()})).catch((function(e){console.error(e)}))},Ve=n(5),Je=n.n(Ve),Ke=function(e){return e&&0!==Object.entries(e).length?e.reduce((function(e,t){var n=t.key,r=t.value;return i()(Je()({},n,r),e)}),{}):{}};n.d(t,"v",(function(){return $e})),n.d(t,"g",(function(){return U})),n.d(t,"i",(function(){return H.getCdnUrls})),n.d(t,"t",(function(){return W})),n.d(t,"j",(function(){return V})),n.d(t,"F",(function(){return J})),n.d(t,"e",(function(){return K})),n.d(t,"s",(function(){return ee})),n.d(t,"a",(function(){return te})),n.d(t,"c",(function(){return ie})),n.d(t,"u",(function(){return se})),n.d(t,"m",(function(){return le})),n.d(t,"n",(function(){return pe})),n.d(t,"l",(function(){return de})),n.d(t,"A",(function(){return ye})),n.d(t,"k",(function(){return ve})),n.d(t,"p",(function(){return he})),n.d(t,"q",(function(){return be})),n.d(t,"C",(function(){return _})),n.d(t,"D",(function(){return Oe})),n.d(t,"b",(function(){return je})),n.d(t,"H",(function(){return ke})),n.d(t,"f",(function(){return Fe})),n.d(t,"h",(function(){return qe})),n.d(t,"r",(function(){return Be})),n.d(t,"G",(function(){return Ge})),n.d(t,"y",(function(){return ze})),n.d(t,"B",(function(){return De})),n.d(t,"z",(function(){return Me})),n.d(t,"o",(function(){return Ne})),n.d(t,"w",(function(){return Ue})),n.d(t,"x",(function(){return He})),n.d(t,"E",(function(){return We})),n.d(t,"d",(function(){return Ke}));var $e=i()({},r);i()({},a)},function(e,t){e.exports=n(245)},function(e,t){e.exports=n(2)},function(e,t){e.exports=n(246)},function(e,t){e.exports=n(183)},function(e,t){e.exports=n(247)},function(e,t){e.exports=n(21)},function(e,t){e.exports=n(250)},function(e,t){e.exports=n(334)},function(e,t){e.exports=n(133)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=function(e,t){if(!e&&t){var n=ce([1,2,3,4,5,6,9,10]);Object(r.useEffect)((function(){if(n){var e=document.createElement("script");return e.src=t,e.async=!0,document.head.append(e),function(){document.head.removeChild(e)}}}),[n])}},i=n(6),c=n.n(i),u=function(e){if(!e){var t=Object(r.useState)(!1),n=c()(t,2),a=n[0],o=n[1],i=ce([1]);Object(r.useEffect)((function(){if(i){var e=document.createElement("script");return e.type="text/javascript",e.id="consentag-script",e.src="https://consentag.eu/public/3.0.1/consenTag.js",e.async=!0,e.defer=!0,e.onload=function(){return o(!0)},document.body.append(e),function(){document.body.removeChild(e)}}}),[i]),Object(r.useEffect)((function(){!0===a&&void 0!==window.__tcfapi&&window.__tcfapi("getTCData",2,(function(e,t){window.consenTag&&window.consenTag.init({containerId:"70845290",silentMode:!0},!!t&&e.tcString)}))}),[a])}},s=n(17),l=n.n(s),p=n(18),d=n.n(p),f=n(19),m=n.n(f),g=n(20),y=n.n(g),v=n(21),h=n.n(v),b=n(5),w=n.n(b),E=(n(3),n(1)),O=n(16),T=function(e){function t(e){var n;l()(this,t),n=m()(this,y()(t).call(this,e));var r=e.config.hasError,a=void 0!==r&&r;return n.state={hasError:a},n}return h()(t,e),d()(t,[{key:"componentDidCatch",value:function(e,t){var n=this.props.prod;Object(E.A)({description:"WRAPPED LAYOUT ERROR",logToConsole:!n||n&&Object(E.x)(),error:e,info:t,meta:{file:"ErrorHandler.js",function:"componentDidCatch"}})}},{key:"render",value:function(){var e=this.state.hasError,t=this.props,n=t.children,r=t.layouts,o=t.config;if(e){var i=Object(E.m)("error",r);return a.a.createElement(i,{config:o})}return n}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(a.a.Component);w()(T,"defaultProps",{children:null,prod:!1});var j=Object(O.a)(T),k=function(e){var t=e.id;return a.a.createElement(a.a.Fragment,null,a.a.createElement("style",{dangerouslySetInnerHTML:{__html:".async-hide { opacity: 0 !important }"}}),a.a.createElement("script",{dangerouslySetInnerHTML:{__html:"(function(a,s,y,n,c,h,i,d,e){s.className+=' '+y;h.start=1*new Date;\n      h.end=i=function(){s.className=s.className.replace(RegExp(' ?'+y),'')};\n      (a[n]=a[n]||[]).hide=h;setTimeout(function(){i();h.end=null},c);\n      h.timeout=c;})(window,document.documentElement,'async-hide','dataLayer',4000,{'".concat(t,"':true});")}}))},_=function(e){var t=e.id;return a.a.createElement("script",{dangerouslySetInnerHTML:{__html:"\n          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n          })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');\n          \n          ga('create', '".concat(t,"', 'auto', {\n            allowLinker: true,\n          });\n    ")}})},C=n(12),I=n.n(C),P=function(e){return e.reduce((function(e,t){var n=t.key,r=t.value;return Object.assign(e,w()({},n,r.replace(/[\n|\r|\t]+/g,"")))}),{})},S=function(e){var t=e.id;return a.a.createElement("script",{dangerouslySetInnerHTML:{__html:"\n    window.addEventListener('load', () => {\n      (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n      })(window,document,'script','dataLayer','".concat(t,"');\n    });\n    ")}})},R=function(e){var t,n=e.id,r=e.dataLayer;return a.a.createElement("noscript",{dangerouslySetInnerHTML:{__html:'\n      <iframe\n        title="GtmNoScript"\n        src="https://www.googletagmanager.com/ns.html?id='.concat(n,"&").concat((t=P(r),Object.keys(t).reduce((function(e,n){return e.push("".concat(n,"=").concat(encodeURIComponent(t[n]))),e}),[]).join("&")),'"\n        height="0"\n        width="0"\n        style="display: none; visibility: hidden"\n      ></iframe>\n    ')}})},A=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("script",{src:"https://unpkg.com/web-vitals@3/dist/web-vitals.iife.js"}),a.a.createElement("script",{dangerouslySetInnerHTML:{__html:"\n          function sendToGTM(name, delta, id) {\n              ononline = dataLayer.push({\n                  event: 'web-vitals',\n                  event_category: 'Performance',\n                  event_action: name.name,\n                  event_value: Math.round(name.name === 'CLS' ? name.delta * 1000 : name.delta),\n                  event_label: name.id\n              });\n          }\n          if(typeof webVitals !== undefined){\n            webVitals.onCLS(sendToGTM);\n            webVitals.onFID(sendToGTM);\n            webVitals.onLCP(sendToGTM);\n            webVitals.onFCP(sendToGTM);\n            webVitals.onTTFB(sendToGTM);\n          }\n      "}}))},x=n(2),L=n.n(x),D=n(32),M=n.n(D),N=n(7),U=n.n(N),H=function(e){var t=function(t){var n=t.data,o=n.page,i=n.status,c=t.config.globalSettings.googleTagManager,u=Object(r.useContext)(dt),s=M()(U()(o,"metaData.dataLayer",[]));return Object(r.useEffect)((function(){i&&i.code&&404===i.code&&s.push({key:"pageType",value:"404"}),window.dataLayer||(window.dataLayer=[]),c&&c.id&&function(e){"object"===I()(window.google_tag_manager)&&e&&"object"===I()(window.google_tag_manager[e])&&window.google_tag_manager[e].dataLayer.reset()}(c.id),window.dataLayer.push(L()({event:"page-metadata-ready"},P(s),{pageviewGUID:u}))}),[s,u]),a.a.createElement(e,t)};return t.defaultProps={data:{page:{metaData:{dataLayer:[]}}},config:{globalSettings:{googleTagManager:{}}}},t.displayName="withDataLayer()",t},F=n(4),q=n.n(F),B=function(){return a.a.createElement("script",{dangerouslySetInnerHTML:{__html:"\n    // FOR TESTING check we are on the test page\n    if(window.googletag && window.location.href.includes('/bmw/1-series/108073/hatchback')) {\n\n      // flag holding callback state\n      window.bcDFPCallbackCalled = false;\n\n      // failsafe after 2 seconds\n      setTimeout(function() {\n        window.bcDFPCallback([]);\n      }, 2000);\n\n      window.bcDFPCallback = function(targetingParameters) {\n        if (window.bcDFPCallbackCalled) {\n          // callback already called\n          return;\n        }\n        window.bcDFPCallbackCalled = true;\n\n        for (const param of targetingParameters) {\n          window.googletag.pubads().setTargeting(param.key, param.value.join());\n        }\n      }\n    }\n    "}})},G=function(e){return e.urls.map((function(e,t){return a.a.createElement("script",{src:e,key:t})}))},z=function(e){var t=e.content,n=e.cssString,r=e.dataLayer,o=e.favicon,i=void 0===o?null:o,c=e.googleAnalytics,u=e.helmetData,s=e.permutive,l=e.sourcepoint;return a.a.createElement("html",{amp:"true",lang:"en"},a.a.createElement("head",null,a.a.createElement("meta",{charSet:"utf-8"}),i&&a.a.createElement("link",{rel:"icon",type:"image/x-icon",href:i}),a.a.createElement("script",{async:!0,src:"https://cdn.ampproject.org/v0.js"}),a.a.createElement("script",{async:!0,"custom-element":"amp-consent",src:"https://cdn.ampproject.org/v0/amp-consent-0.1.js"}),a.a.createElement("script",{async:!0,"custom-element":"amp-geo",src:"https://cdn.ampproject.org/v0/amp-geo-0.1.js"}),a.a.createElement("script",{async:!0,"custom-element":"amp-bind",src:"https://cdn.ampproject.org/v0/amp-bind-0.1.js"}),a.a.createElement("script",{async:!0,"custom-element":"amp-analytics",src:"https://cdn.ampproject.org/v0/amp-analytics-0.1.js"}),a.a.createElement("meta",{name:"amp-consent-blocking",content:""}),a.a.createElement("meta",{name:"viewport",content:"width=device-width,minimum-scale=1,initial-scale=1"}),a.a.createElement("style",{"amp-boilerplate":""},"body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}"),a.a.createElement("noscript",null,a.a.createElement("style",{"amp-boilerplate":""},"body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}")),a.a.createElement("style",{"amp-custom":"",dangerouslySetInnerHTML:{__html:n}}),a.a.createElement("link",{href:"https://fonts.googleapis.com/css?family=Fira+Sans+Condensed:400,500",rel:"stylesheet"}),a.a.createElement("link",{href:"https://fonts.googleapis.com/css?family=Fira+Sans:400,400i,500,500i,600,700,700i",rel:"stylesheet"}),u.title.toComponent(),u.meta.toComponent(),u.script.toComponent(),u.link.toComponent()),a.a.createElement("body",null,l&&a.a.createElement(ae,{options:l,amp:!0}),c&&c.id&&a.a.createElement(Be,{googleAnalytics:c,dataLayer:r}),s&&0!==Object.entries(s).length&&a.a.createElement(ne,{projectId:s.projectId,publicApiKey:s.publicApiKey,dataLayer:r,namespace:s.namespace,ampEnabled:!0}),a.a.createElement("div",{id:"root",dangerouslySetInnerHTML:{__html:t}})))};z.defaultProps={dataLayer:[],favicon:"",googleAnalytics:{id:""},permutive:{},sourcepoint:{accountId:145,mmsDomain:"",privacyManagerId:null,propertyId:null}};var W=z,V=(Object(E.C)({default:function(e){var t=e.content,n=e.credentials,r=e.dataLayer,o=e.googleAnalytics,i=e.gtm,c=e.headerBidding,u=void 0===c?{enabled:!1,indexWrapperId:""}:c,s=e.helmetData,l=e.ias,p=e.instana,d=e.linkTags,f=e.optimize,m=e.prod,g=e.schemaFragment,y=void 0===g?{}:g,v=e.scriptTags,h=e.sourcepoint,b=e.state,w=e.styleTags,O=e.subx;return a.a.createElement("html",q()({lang:"en",className:"no-js"},s.htmlAttributes.toComponent()),a.a.createElement("head",null,s.link.toComponent(),h&&a.a.createElement(ae,{options:h}),a.a.createElement("script",{dangerouslySetInnerHTML:{__html:"\n        (() => {\n          const htmlElement = document.getElementsByTagName('html');\n          if (htmlElement && htmlElement.length) {\n            htmlElement[0].classList.replace('no-js', 'js');\n          }\n        })();\n        "}}),a.a.createElement("meta",{charSet:"utf-8"}),a.a.createElement("meta",{name:"viewport",content:"width=device-width,minimum-scale=1,initial-scale=1"}),a.a.createElement("meta",{name:"theme-color",content:"#fff"}),w,d,u&&u.enabled&&u.indexWrapperId&&a.a.createElement("script",{defer:!0,type:"text/javascript",src:"//js-sec.indexww.com/ht/p/".concat(u.indexWrapperId,".js")}),f&&f.antiFlicker&&f.id&&r&&a.a.createElement(k,{id:f.id}),f&&f.id&&a.a.createElement("script",{async:!0,src:"https://www.googleoptimize.com/optimize.js?id=".concat(f.id)}),i&&a.a.createElement(S,{id:i.id}),o&&a.a.createElement(_,{id:o.id}),l&&l.enabled&&a.a.createElement("script",{async:"async",src:"//cdn.adsafeprotected.com/iasPET.1.js"}),a.a.createElement(A,null),s.title.toComponent(),s.meta.toComponent(),s.script.toComponent()),a.a.createElement("body",s.bodyAttributes.toComponent(),i&&r&&a.a.createElement(R,{id:i.id,dataLayer:r}),a.a.createElement("div",{id:"root",dangerouslySetInnerHTML:{__html:t}}),a.a.createElement("script",{dangerouslySetInnerHTML:{__html:"window.__APOLLO_STATE__=".concat(JSON.stringify(b).replace(/</g,"\\u003c"),";")}}),a.a.createElement("script",{dangerouslySetInnerHTML:{__html:"window.__API_CREDENTIALS__=".concat(JSON.stringify(n).replace(/</g,"\\u003c"),";")}}),a.a.createElement("script",{dangerouslySetInnerHTML:{__html:"window.__APOLLO_SCHEMA_FRAGMENTS__=".concat(JSON.stringify(y).replace(/</g,"\\u003c"),";")}}),a.a.createElement(B,null),a.a.createElement(G,{urls:Object(E.i)({prod:m})}),v,a.a.createElement(J,p),O&&O.enabled&&O.pid&&a.a.createElement(ue,{pid:O.pid})))},amp:W}),function(e){var t=e.apiKey,n=e.reportingUrl;return a.a.createElement("script",{dangerouslySetInnerHTML:{__html:'window.addEventListener(\'load\', () => {\n  (function(c,e,f,k,g,h,b,a,d){c[g] || (c[g] = h, b = c[h] = function () {\n      b.q.push(arguments)\n    }, b.q = [], b.l = 1 * new Date, a = e.createElement(f), a.async = 1,\n      a.src = k, a.setAttribute("crossorigin", "anonymous"), d = e.getElementsByTagName(f)[0],\n      d.parentNode.insertBefore(a, d))})(window,document,"script",\n    "//eum.instana.io/eum.min.js","InstanaEumObject","ineum");\n    ineum(\'reportingUrl\', \''.concat(n,"');\n    ineum('key', '").concat(t,"');\n    ineum('wrapEventHandlers', true);\n});")}})});V.defaultProps={apiKey:"Zt5F-vLKQ4eVd8U2CHB-7w",reportingUrl:"https://eum-eu-west-1.instana.io"};var J=V,K=function(e){var t=function(t){var n=t.location.pathname;return Object(r.useEffect)((function(){void 0!==window.ineum&&window.ineum("page",n)}),[n]),a.a.createElement(e,t)};return t.defaultProps={location:{pathname:""}},t},$=function(e,t){if(t.length>0){var n=t.filter((function(t){return t.key===e}));if(n.length)return n[n.length-1].value}return null},Q=function e(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r={},a=Object.keys(t),o=0;o<a.length;o+=1){var i=a[o];if("string"==typeof t[i]){var c=$(t[i],n);c&&(r[i]=c)}else if(Array.isArray(t[i]))!function(){var e=[];t[i].forEach((function(t){var r=$(t,n);r&&e.push(r)})),e.length>0&&(r[i]=e)}();else{var u=e(t[i],n);Object.keys(u).length>0&&(r[i]=u)}}return r},Z=function(e){var t=window.location.pathname,n=function(n){var o=n.config,i=o.globalSettings.permutive,c=o.permutiveDatalayerMapping,u=n.data.page,s=n.location.pathname;if(!(i&&c&&u&&u.metaData&&Array.isArray(u.metaData.dataLayer)))return a.a.createElement(e,n);var l=u.metaData.dataLayer,p=ce([1,2,3,4,5,6,9,10]);return Object(r.useEffect)((function(){(l.length&&t!==s||p)&&(void 0!==window.permutive&&window.permutive.addon("web",{page:Q(c,l)}),t=!1)}),[s,l,p]),a.a.createElement(e,n)};return n.defaultProps={config:{globalSettings:{},permutiveDatalayerMapping:{}},location:{pathname:""}},n.displayName="withPermutive()",n},X=n(27),Y=function(e,t,n,a,o,i){var c=o.permutiveDatalayerMapping,u=ce([1,2,3,4,5,6,9,10]);Object(r.useEffect)((function(){if(u){if(i&&""!==a)return;var r=document.createElement("script");r.innerHTML='\n        !function(n,e,o,r,i){if(!e){e=e||{},window.permutive=e,e.q=[],e.config=i||{},\n        e.config.projectId=o,e.config.apiKey=r,e.config.environment=e.config.environment||\n        "production";for(var t=["addon","identify","track","trigger","query","segment",\n        "segments","ready","on","once","user","consent"],c=0;c<t.length;c++){var f=t[c];\n        e[f]=function(n){return function(){var o=Array.prototype.slice.call(arguments,0);\n        e.q.push({functionName:n,arguments:o})}}(f)}}}(document,window.permutive,\n        "'.concat(e,'", "').concat(t,'",{});\n        window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],\n        window.googletag.cmd.push(function(){if(0===window.googletag.pubads().\n        getTargeting("permutive").length){var g=window.localStorage.getItem("_pdfps");\n        window.googletag.pubads().setTargeting("permutive",g?JSON.parse(g):[])}})\n        if (window.permutive !== undefined) {\n          window.permutive.addon(\'web\', {page: ').concat(JSON.stringify(Q(c,n)),"});\n        }\n      ");var o=document.createElement("script");o.src="https://cdn.permutive.com/".concat(e,"-web.js"),o.async=!0,document.head.append(r),document.head.append(o)}}),[u])},ee=function e(t,n){for(var r={},a=Object.keys(t),o=0;o<a.length;o+=1){var i=a[o],c="".concat(n,".").concat(i);Array.isArray(t[i])?r["".concat(c,"!list")]=t[i].join(","):"object"===I()(t[i])?r=L()({},r,e(t[i],c)):r[c]=t[i]}return r},te=function(e){var t=e.projectId,n=e.publicApiKey,r=e.dataLayer,o=e.namespace,i=e.config.permutiveDatalayerMapping;if(e.ampEnabled&&""!==o){var c={vars:{namespace:o,key:n},extraUrlParams:ee(Q(i,r),"properties")};return a.a.createElement(a.a.Fragment,null,a.a.createElement("amp-analytics",{"data-block-on-consent":!0,type:"permutive",dangerouslySetInnerHTML:{__html:'<script type="application/json">'.concat(JSON.stringify(c),"<\/script>")}}),a.a.createElement("amp-iframe",{"data-block-on-consent":!0,width:"1",height:"1",style:{position:"absolute",top:"76vh"},layout:"fixed",sandbox:"allow-scripts allow-same-origin",src:"https://".concat(o,".amp.permutive.com/amp-iframe.html?project=").concat(t,"&key=").concat(n)}))}return{}};te.defaultProps={dataLayer:[],config:{},ampEnabled:!1,namespace:""};var ne=Object(O.a)(te),re=(n(30),function(e){var t=e.accountId,n=e.ccpaPrivacyManagerIdAmp,r=e.ccpaPropertyIdAmp,o=e.ccpaSiteHrefAmp,i=e.mmsDomain,c=e.privacyManagerId,u=e.propertyHref,s=e.propertyId;return a.a.createElement(a.a.Fragment,null,a.a.createElement("amp-geo",{layout:"nodisplay"},a.a.createElement("script",{type:"application/json",dangerouslySetInnerHTML:{__html:'\n          {\n            "AmpBind": true,\n            "ISOCountryGroups": {\n              "tcfv2": ["preset-eea", "au", "nz", "ca", "unknown"],\n              "ccpa": ["us"]\n            }\n          }\n          '}})),a.a.createElement("amp-consent",{id:"consent",layout:"nodisplay",type:"SourcePoint"},a.a.createElement("script",{type:"application/json",dangerouslySetInnerHTML:{__html:'\n          {\n            "consentRequired": "remote",\n            "consentInstanceId": "SourcePoint",\n            "promptUISrc": "'.concat(i,'/amp/index.html?authId=CLIENT_ID",\n            "postPromptUI": "consent-ui",\n            "clientConfig": {\n              "accountId": ').concat(t,',\n              "pmTab": "vendors",\n              "stageCampaign": false\n            },\n            "geoOverride": {\n              "tcfv2": {\n                "checkConsentHref": "').concat(i,'/wrapper/tcfv2/v1/amp",\n                "clientConfig": {\n                  "propertyHref": "').concat(u,'",\n                  "propertyId": ').concat(s,',\n                  "privacyManagerId": ').concat(c,',\n                  "isTCFV2": true\n                }\n              },\n              "ccpa": {\n                "checkConsentHref": "').concat(i,'/ccpa/consent/amp",\n                "clientConfig": {\n                  "siteHref": "').concat(o||"",'",\n                  "privacyManagerId": "').concat(n||"",'",\n                  "propertyId": ').concat(r||null,',\n                  "isCCPA": true,\n                  "getDnsMsgMms": true,\n                  "alwaysDisplayDns": false,\n                  "showNoticeUntilAction": true\n                }\n              }\n            }\n          }\n        ')}})),a.a.createElement("div",{id:"consent-ui"},a.a.createElement("button",{type:"button",on:"tap:consent.prompt(consent=SourcePoint)",hidden:!0},"PM")))}),ae=function(e){var t=e.amp,n=e.options,r=n.accountId,o=n.ccpa,i=n.ccpaPrivacyManagerIdAmp,c=n.ccpaPropertyIdAmp,u=n.ccpaSiteHrefAmp,s=n.mmsDomain,l=n.privacyManagerIdAmp,p=n.propertyHrefAmp,d=n.propertyIdAmp,f=n.version;if(t)return a.a.createElement(re,{accountId:r,ccpa:o,ccpaPrivacyManagerIdAmp:i,ccpaPropertyIdAmp:c,ccpaSiteHrefAmp:u,mmsDomain:s,privacyManagerId:l,propertyHref:p,propertyId:d});var m=a.a.createElement(a.a.Fragment,null,a.a.createElement("script",{dangerouslySetInnerHTML:{__html:'\n          !function () { var e = function () { var e, t = "__tcfapiLocator", a = [], n = window; for (; n;) { try { if (n.frames[t]) { e = n; break } } catch (e) { } if (n === window.top) break; n = n.parent } e || (!function e() { var a = n.document, r = !!n.frames[t]; if (!r) if (a.body) { var i = a.createElement("iframe"); i.style.cssText = "display:none", i.name = t, a.body.appendChild(i) } else setTimeout(e, 5); return !r }(), n.__tcfapi = function () { for (var e, t = arguments.length, n = new Array(t), r = 0; r < t; r++)n[r] = arguments[r]; if (!n.length) return a; if ("setGdprApplies" === n[0]) n.length > 3 && 2 === parseInt(n[1], 10) && "boolean" == typeof n[3] && (e = n[3], "function" == typeof n[2] && n[2]("set", !0)); else if ("ping" === n[0]) { var i = { gdprApplies: e, cmpLoaded: !1, cmpStatus: "stub" }; "function" == typeof n[2] && n[2](i) } else a.push(n) }, n.addEventListener("message", (function (e) { var t = "string" == typeof e.data, a = {}; try { a = t ? JSON.parse(e.data) : e.data } catch (e) { } var n = a.__tcfapiCall; n && window.__tcfapi(n.command, n.version, (function (a, r) { var i = { __tcfapiReturn: { returnValue: a, success: r, callId: n.callId } }; t && (i = JSON.stringify(i)), e.source.postMessage(i, "*") }), n.parameter) }), !1)) }; "undefined" != typeof module ? module.exports = e : e() }();\n        '}}),o&&a.a.createElement("script",{dangerouslySetInnerHTML:{__html:'\n            (function () { var e = false; var c = window; var t = document; function r() { if (!c.frames["__uspapiLocator"]) { if (t.body) { var a = t.body; var e = t.createElement("iframe"); e.style.cssText = "display:none"; e.name = "__uspapiLocator"; a.appendChild(e) } else { setTimeout(r, 5) } } } r(); function p() { var a = arguments; __uspapi.a = __uspapi.a || []; if (!a.length) { return __uspapi.a } else if (a[0] === "ping") { a[2]({ gdprAppliesGlobally: e, cmpLoaded: false }, true) } else { __uspapi.a.push([].slice.apply(a)) } } function l(t) { var r = typeof t.data === "string"; try { var a = r ? JSON.parse(t.data) : t.data; if (a.__cmpCall) { var n = a.__cmpCall; c.__uspapi(n.command, n.parameter, function (a, e) { var c = { __cmpReturn: { returnValue: a, success: e, callId: n.callId } }; t.source.postMessage(r ? JSON.stringify(c) : c, "*") }) } } catch (a) { } } if (typeof __uspapi !== "function") { c.__uspapi = p; __uspapi.msgHandler = l; c.addEventListener("message", l, false) } })();\n          '}}),a.a.createElement("script",{dangerouslySetInnerHTML:{__html:"\n        window.dataLayer = window.dataLayer ? window.dataLayer : [];\n\n        window._sp_ = {\n          config: {\n            accountId: ".concat(r,",\n            baseEndpoint: '").concat(s,"',\n            targetingParams: {\n              type: 'GDPR'\n            },\n            events: {\n              onMessageReady: function () {\n                dataLayer.push({\n                  'event': 'cmp-event',\n                  'cmp-eventType': 'onMessageReady'\n                });\n              },\n              onMessageChoiceSelect: function (choice_id, choice_type_id) {\n                dataLayer.push({\n                  'event': 'cmp-event',\n                  'cmp-eventType': 'onMessageChoiceSelect',\n                  'cmp-choice_id': choice_id,\n                  'cmp-choice_type_id': choice_type_id\n                });\n              },\n              onPrivacyManagerAction: function (pmData) {\n                dataLayer.push({\n                  'event': 'cmp-event',\n                  'cmp-eventType': 'onPrivacyManagerAction',\n                  'cmp-pmData': pmData\n                });\n              },\n              onMessageChoiceError: function (err) {\n                dataLayer.push({\n                  'event': 'cmp-event',\n                  'cmp-eventType': 'onMessageChoiceError',\n                  'cmp-err': err\n                });\n              },\n              onConsentReady: function (consentUUID, euconsent) {\n                dataLayer.push({\n                  'event': 'cmp-event',\n                  'cmp-eventType': 'onConsentReady',\n                  'cmp-consentUUID': consentUUID,\n                  'cmp-euconsent': euconsent\n                });\n              },\n              onPMCancel: function () {\n                dataLayer.push({\n                  'event': 'cmp-event',\n                  'cmp-eventType': 'onPMCancel'\n                });\n              },\n              onMessageReceiveData: function (data) {\n                dataLayer.push({\n                  'event': 'cmp-event',\n                  'cmp-eventType': 'onMessageReceiveData',\n                  'cmp-data': JSON.stringify(data)\n                });\n              },\n              onSPPMObjectReady: function () {\n                dataLayer.push({\n                  'event': 'cmp-event',\n                  'cmp-eventType': 'onSPPMObjectReady'\n                });\n              }\n            }\n          }\n        }\n      ")}}),o&&a.a.createElement("script",{dangerouslySetInnerHTML:{__html:"\n            window._sp_ccpa = {\n              config: {\n                mmsDomain: 'https://message.sp-prod.net',\n                ccpaOrigin: 'https://ccpa-service.sp-prod.net',\n                accountId: ".concat(r,",\n                getDnsMsgMms: true,\n                alwaysDisplayDns: false,\n                targetingParams: {\n                  type: 'CCPA'\n                }\n              }\n            }\n          ")}}),a.a.createElement("script",{async:!0,src:"".concat(s,"/wrapperMessagingWithoutDetection.js"),type:"text/javascript"}),o&&a.a.createElement("script",{async:!0,src:"https://ccpa.sp-prod.net/ccpa.js"})),g=a.a.createElement(a.a.Fragment,null,a.a.createElement("script",{dangerouslySetInnerHTML:{__html:'function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(){var t=function(){var t,e,o=[],n=window,r=n;for(;r;){try{if(r.frames.__tcfapiLocator){t=r;break}}catch(t){}if(r===n.top)break;r=n.parent}t||(!function t(){var e=n.document,o=!!n.frames.__tcfapiLocator;if(!o)if(e.body){var r=e.createElement("iframe");r.style.cssText="display:none",r.name="__tcfapiLocator",e.body.appendChild(r)}else setTimeout(t,5);return!o}(),n.__tcfapi=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return o;"setGdprApplies"===n[0]?n.length>3&&2===parseInt(n[1],10)&&"boolean"==typeof n[3]&&(e=n[3],"function"==typeof n[2]&&n[2]("set",!0)):"ping"===n[0]?"function"==typeof n[2]&&n[2]({gdprApplies:e,cmpLoaded:!1,cmpStatus:"stub"}):o.push(n)},n.addEventListener("message",(function(t){var e="string"==typeof t.data,o={};if(e)try{o=JSON.parse(t.data)}catch(t){}else o=t.data;var n="object"===_typeof(o)?o.__tcfapiCall:null;n&&window.__tcfapi(n.command,n.version,(function(o,r){var a={__tcfapiReturn:{returnValue:o,success:r,callId:n.callId}};t&&t.source&&t.source.postMessage&&t.source.postMessage(e?JSON.stringify(a):a,"*")}),n.parameter)}),!1))};"undefined"!=typeof module?module.exports=t:t()}();'}}),a.a.createElement("script",{dangerouslySetInnerHTML:{__html:'(function () { var e = false; var c = window; var t = document; function r() { if (!c.frames["__uspapiLocator"]) { if (t.body) { var a = t.body; var e = t.createElement("iframe"); e.style.cssText = "display:none"; e.name = "__uspapiLocator"; a.appendChild(e) } else { setTimeout(r, 5) } } } r(); function p() { var a = arguments; __uspapi.a = __uspapi.a || []; if (!a.length) { return __uspapi.a } else if (a[0] === "ping") { a[2]({ gdprAppliesGlobally: e, cmpLoaded: false }, true) } else { __uspapi.a.push([].slice.apply(a)) } } function l(t) { var r = typeof t.data === "string"; try { var a = r ? JSON.parse(t.data) : t.data; if (a.__cmpCall) { var n = a.__cmpCall; c.__uspapi(n.command, n.parameter, function (a, e) { var c = { __cmpReturn: { returnValue: a, success: e, callId: n.callId } }; t.source.postMessage(r ? JSON.stringify(c) : c, "*") }) } } catch (a) { } } if (typeof __uspapi !== "function") { c.__uspapi = p; __uspapi.msgHandler = l; c.addEventListener("message", l, false) } })();'}}),a.a.createElement("script",{dangerouslySetInnerHTML:{__html:"\n        window.dataLayer = window.dataLayer ? window.dataLayer : [];\n        window._sp_queue = [];\n        window._sp_ = {\n          config: {\n            accountId: ".concat(r,",\n            baseEndpoint: '").concat(s,"',\n            ccpa: { },\n        \n            gdpr: { },\n            events: {\n              onMessageChoiceSelect: function() {\n                dataLayer.push({\n                  'event': 'cmp-event',\n                  'cmp-eventType': 'onMessageChoiceSelect',\n                  'cmp-arguments': arguments\n                });\n              },\n              onMessageReady: function() {\n                dataLayer.push({\n                  'event': 'cmp-event',\n                  'cmp-eventType': 'onMessageReady',\n                  'cmp-arguments': arguments\n                });\n              },\n              onMessageChoiceError: function() {\n                dataLayer.push({\n                  'event': 'cmp-event',\n                  'cmp-eventType': 'onMessageChoiceError',\n                  'cmp-arguments': arguments\n                });\n              },\n              onPrivacyManagerAction: function() {\n                dataLayer.push({\n                  'event': 'cmp-event',\n                  'cmp-eventType': 'onPrivacyManagerAction',\n                  'cmp-arguments': arguments\n                });\n              },\n              onPMCancel: function() {\n                dataLayer.push({\n                  'event': 'cmp-event',\n                  'cmp-eventType': 'onPMCancel',\n                  'cmp-arguments': arguments\n                });\n              },\n              onMessageReceiveData: function() {\n                dataLayer.push({\n                  'event': 'cmp-event',\n                  'cmp-eventType': 'onMessageReceiveData',\n                  'cmp-arguments': arguments\n                });\n              },\n              onSPPMObjectReady: function() {\n                dataLayer.push({\n                  'event': 'cmp-event',\n                  'cmp-eventType': 'onSPPMObjectReady',\n                  'cmp-arguments': arguments\n                });\n              },\n              onConsentReady: function (consentUUID, euconsent) {\n                dataLayer.push({\n                  'event': 'cmp-event',\n                  'cmp-eventType': 'onConsentReady',\n                  'cmp-arguments': arguments,\n                  'cmp-consentUUID': consentUUID,\n                  'cmp-euconsent': euconsent\n                });\n              },\n              onError: function() {\n                dataLayer.push({\n                  'event': 'cmp-event',\n                  'cmp-eventType': 'onError',\n                  'cmp-arguments': arguments\n                });\n              },\n            },\n          },\n        };\n      ")}}),a.a.createElement("script",{async:!0,src:"".concat(s,"/unified/wrapperMessagingWithoutDetection.js"),type:"text/javascript"}));return f&&"v2"===f?g:m};ae.defaultProps={amp:!1,options:{accountId:145,ccpa:!1,ccpaPrivacyManagerIdAmp:"",ccpaPropertyIdAmp:null,ccpaSiteHrefAmp:"",mmsDomain:"",privacyManagerIdAmp:null,propertyHrefAmp:"",propertyIdAmp:null,version:"v1"}};var oe,ie,ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[1],t=Object(r.useState)(null),n=c()(t,2),a=n[0],o=n[1];return Object(r.useLayoutEffect)((function(){var t=function(t,n){if(n&&["tcloaded","useractioncomplete"].includes(t.eventStatus)){var r=t.purpose&&t.purpose.consents||{},a=e.every((function(e){return r[e]}));o(a)}};window.__tcfapi&&window.__tcfapi("getTCData",2,(function(e){e.gdprApplies?window.__tcfapi("addEventListener",2,t):o(!0)}))}),[]),a},ue=function(e){var t=e.pid;return a.a.createElement(a.a.Fragment,null,a.a.createElement("script",{type:"text/javascript",src:"//d2ip7iv1l4ergv.cloudfront.net/embed/widget/subxGDL.min.js",async:!0}),a.a.createElement("div",{className:"zeddit-rcm","data-pid":t,"data-type":"canvas-panel","animation-type":"popup"}),a.a.createElement("div",{className:"zeddit-rcm","data-pid":t,"data-type":"canvas-panel","animation-type":"slide"}),a.a.createElement("div",{className:"zeddit-rcm","data-pid":t,"data-type":"canvas-email","animation-type":"popup"}),a.a.createElement("div",{className:"zeddit-rcm","data-pid":t,"data-type":"canvas-email","animation-type":"slide"}),a.a.createElement("div",{className:"zeddit-rcm","data-pid":t,"data-type":"canvas-hybrid","animation-type":"popup"}))},se=(oe={},ie=function(e){oe[e]&&(clearTimeout(oe[e]),delete oe[e])},{addTimeoutId:function(e,t){return function(e,t){oe[e]=t}(e,t)},getTimeoutId:function(e){return function(e){return oe[e]}(e)},clearTimeout:function(e){return ie(e)},clearAllTrackedTimeouts:function(){return(e=Object.keys(oe)).length>0&&e.forEach((function(e){clearTimeout(oe[e]),delete oe[e]})),void(oe={});var e}}),le=function(e,t){e.forEach((function(e){var n,r=window.googletag,a=e.target,o=e.intersectionRatio,i=a.id;try{var c=t.slots[i].slot,u=c&&c.getSlotElementId();o>=.5&&i===u&&r.apiReady&&(c.setTargeting("refreshed",!0),r.pubads().refresh([c]),t.searchParams&&(n=t.searchParams)&&n.includes("ad-test")&&console.log("REFRESHED:",i),t.unobserve(a))}catch(e){var s=t.prod;Object(E.A)({error:e,description:"AD REFRESH ERROR",logToConsole:!s||s&&Object(E.x)(),type:"warn",meta:{file:"adRefresh.js",function:"handleIntersect()"}})}}))},pe={value:!1},de=function(e){var t=e.refreshTime,n=e.refreshBlacklist,r=void 0===n?[]:n,a=e.observer,o=e.searchParams;if("undefined"==typeof window)return!1;var i=window.googletag;!pe.value&&i&&(i.cmd=i.cmd||[],pe.value=i.cmd.push((function(){return function(e){var t=e.refreshTime,n=e.refreshBlacklist,r=e.timeoutId,a=e.observer,o=e.searchParams;window.googletag.pubads().addEventListener("impressionViewable",(function(e){var i=e.slot,c=i.getSlotElementId(),u=document.getElementById(c),s=function(e){var t=e.getResponseInformation&&e.getResponseInformation();return t&&t.lineItemId&&t.lineItemId.toString()}(i),l=Array.isArray(n)&&n.find((function(e){return e===s})),p="refresh"===c.slice(0,7);!l&&p&&(se.clearTimeout(c),r=setTimeout((function(){se.addTimeoutId(c,r),a.searchParams=o,a.slots[c]=a.slots[c]||{},a.slots[c].slot=i,a.observe(u)}),t))}))}({refreshTime:t,refreshBlacklist:r,timeoutId:void 0,observer:a,searchParams:o})})))},fe=function(e){var t=function(t){var n=t.location,o=n.pathname,i=n.search,c=t.config.ads,u=c.refreshTime,s=c.lineItemBlacklist,l=t.prod;return Object(r.useEffect)((function(){var e=function(e){var t=new IntersectionObserver(le,{root:null,rootMargin:"0px",threshold:.5});return t.slots={},t.prod=e,t}(l);return de({refreshTime:u,refreshBlacklist:s,observer:e,searchParams:i}),function(){(function(e){e&&e.disconnect(e)})(e),se.clearAllTrackedTimeouts()}}),[o]),a.a.createElement(e,t)};return t.defaultProps={prod:!1,location:{pathname:""},config:{adSettings:{refreshTime:3e4,lineItemBlacklist:[]}}},t},me=n(45),ge=n.n(me),ye=function(e){return e.replace(/\s*,\s*/g,",").replace(/([a-z0-9]+)([A-Z]+)/g,"$1 $2").toLowerCase().replace(/[^a-z0-9\\/.\-_, ]/g,"").replace(/ {1,}/g,"-")},ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e||0===Object.entries(e).length)return{};var n=["allCategories","allMakes","allProductFamilies","allProducts","articleType","author","category","client","contentType","keywordSearch","mainPurpose","make","nodeId","originalPublicationDate","pageType","product","productFamily","productShortname","productFamilyShortname","publicationDate","siteName","sponsored","tags","topic"].concat(t||[]);return e.filter((function(e){var t=e.key;return n.includes(t)})).reduce((function(e,t){var n=t.key,r=t.value;return e[function(e){return{contentType:!0,siteName:!0}[e]?e:ye(e)}(n)]=ye(r),e}),{})},he=function(e){var t=e.targetingKVPs,n=e.searchParams,r=e.ppcParamsPresent,a=!1,o=t,i=!r;return["utm_medium","utm_source","utm_campaign","campaign"].forEach((function(e){var t=function(e,t,n){return n?Object(E.j)(e):t.get(e)}(e,n,i);t&&!a&&(a=!0),t&&(o[e]=t)})),o.campaign=a?"yes":"",o},be=function(e){for(var t=!1,n=0;n<=e.length-1;n+=1){var r=Object.values(e[n])[0].key,a=Object.keys(e[n])[0];window.matchMedia(a).matches&&(t=r)}return t},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=function(n){var o,i=e.renderType,u=n.location.search,s=n.data.page,l=void 0===s?{}:s,p=n.config,d=p.ads,f=void 0===d?{}:d,m=p.breakpoints,g=U()(l,"metaData.dataLayer",[]),y=Object(r.useContext)(dt),v=L()({},ve(g,f.kvpWhitelist),{amp:"amp"===i?"yes":"no","pageview-guid":y});if(m&&"undefined"!=typeof window&&window.matchMedia){var h=function(e){for(var t=[],n=0;n<=Object.keys(e).length-1;n+=1){var r={};r[Object.values(e)[n]]={key:Object.keys(e)[n],match:!0},t.push(r)}return t}(m),b=Object(r.useState)(be(h)),w=c()(b,2),O=w[0],T=w[1];Object(r.useEffect)((function(){return Object.values(m).forEach((function(e){return window.matchMedia(e).addListener((function(){return T(be(h))}))}),[!1])})),v.breakpoint=O}var j=new URLSearchParams(u);if("undefined"!=typeof window){var k=Object(E.o)(u),_=Object(E.w)(k);v=he({targetingKVPs:v,searchParams:j,ppcParamsPresent:_})}j.has("advert-preview")&&(v["advert-preview"]=j.get("advert-preview"));var C,I=f.sizeMapping,P=void 0===I?[]:I,S=f.slotSize,R=void 0===S?[]:S,A=ge()(g,["key","dfpDefaultAdUnitPath"]),x=ce();return!A||!x&&"amp"!==i?(C=!1,console.log("no adUnitPath provided")):C=A.value,o={adUnitPath:C,targeting:v,slotSize:R,sizeMapping:P},a.a.createElement(t,q()({},n,{adConfig:o,targetingKVPs:v}))};return n.defaultProps={data:{page:{metaData:{dataLayer:[]}}},location:{search:""}},n.displayName="withAds()",n}},Ee=n(8),Oe=n.n(Ee),Te=n(13),je=n.n(Te),ke=n(9),_e=n.n(ke),Ce=n(29),Ie=function(e){return Array.isArray(e)&&e.length},Pe=function(e){var t=e.clientId;return{dimension47:e.uuid,dimension60:t}},Se=function(e){return new Promise((function(t){_e.a.ga((function(){var n=window.ga.getAll().find((function(t){return t.get("trackingId")===e})),r=n&&n.get("clientId");t(r)}))}))},Re=function(e){var t=Ce;return e.forEach((function(e){var n=e.key,r=e.value;r&&(t[n]=r)})),t},Ae=function(e,t){return t&&t.length?t.reduce((function(t,n){var r=n.key,a=n.value;return e[r]?L()({},t,w()({},e[r],a)):t}),{}):{}},xe=function(e){var t=U()(e,"metaData.dataLayer",[]),n="undefined"!=typeof window&&window.location,r=n&&n.href,a=Object(E.h)({page:e}).canonicalMetaObj;return{completeDataLayer:a&&t.concat(a)||t,fallbackCanonicalUrl:r}};function Le(e,t,n,r,a){return De.apply(this,arguments)}function De(){return(De=je()(Oe.a.mark((function e(t,n,r,a,o){var i,c,u,s,l,p,d;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Se(t);case 3:return c=e.sent,u=Pe({clientId:c,uuid:a}),n&&(s=Ie(r)&&Re(r)||Ce,l=xe(n),p=l.completeDataLayer,d=l.fallbackCanonicalUrl,i=L()({dimension19:d},u,Ae(s,p))),e.abrupt("return",i||u);case 9:return e.prev=9,e.t0=e.catch(0),Object(E.A)({error:e.t0,description:"REACT-GA ERROR",logToConsole:!o||o&&Object(E.x)(),meta:{function:"getDimensions()",file:"getDimensions"}}),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,this,[[0,9]])})))).apply(this,arguments)}var Me=n(46),Ne=n.n(Me),Ue=("undefined"!=typeof window&&(function(e,t){var n,r,a,o=[],i={passive:!0,capture:!0},c=new Date,u="pointerup",s="pointercancel";function l(e,o){n||(n=o,r=e,a=new Date,f(t),p())}function p(){r>=0&&r<a-c&&(o.forEach((function(e){e(r,n)})),o=[])}function d(n){if(n.cancelable){var r=(n.timeStamp>1e12?new Date:performance.now())-n.timeStamp;"pointerdown"==n.type?function(n,r){function a(){l(n,r),c()}function o(){c()}function c(){t(u,a,i),t(s,o,i)}e(u,a,i),e(s,o,i)}(r,n):l(r,n)}}function f(e){["click","mousedown","keydown","touchstart","pointerdown"].forEach((function(t){e(t,d,i)}))}f(e),self.perfMetrics=self.perfMetrics||{},self.perfMetrics.onFirstInputDelay=function(e){o.push(e),p()}}(addEventListener,removeEventListener),function(){if("PerformanceLongTaskTiming"in window){var e=window.__tti={e:[]};e.o=new PerformanceObserver((function(t){e.e=e.e.concat(t.getEntries())})),e.o.observe({entryTypes:["longtask"]})}}()),{getFirstPaints:function(){"undefined"!=typeof window&&"performance"in window&&window.performance.getEntriesByType("paint").forEach((function(e){_e.a.timing({category:"Performance Metrics",variable:e.name,label:e.entryType,value:e.startTime})}))},getTimeToInteractive:function(){return Ne.a.getFirstConsistentlyInteractive().then((function(e){"undefined"!=typeof window&&_e.a.timing({category:"Performance metrics",variable:"time-to-interactive",value:e})})).catch((function(e,t){return Object(E.A)({description:"REACT-GA ERROR",error:e,info:t,logToConsole:!0,meta:{file:"PerformanceMetrics.js",function:"timeToInteractive()"}})}))},getFirstInputDelay:function(){("undefined"!=typeof window||window.perfMetrics)&&window.perfMetrics.onFirstInputDelay((function(e,t){_e.a.timing({category:"Performance Metrics",variable:"first-input-delay",label:t.type,value:e,nonInteraction:!0})}))}}),He=function(e){var t=e.id,n=e.whitelist,o=void 0!==n&&n,i=e.linkerDomains;return function(e){var n=o,c=function(o){var c=o.location.pathname,u=o.data,s=u.page,l=u.status,p=o.type,d=o.prod,f=Object(r.useContext)(dt),m=U()(s,"metaData.dataLayer",[]),g=l&&l.code&&404===l.code,y=Object(r.useCallback)(je()(Oe.a.mark((function e(){return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Le(t,s,n,f,d);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),Object(E.A)({error:e.t0,description:"REACT-GA ERROR",logToConsole:!d||d&&Object(E.x)(),meta:{function:"getCustomDimensions()",file:"withGa"}}),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,this,[[0,6]])}))),[f,s,n,t,d]);return Object(r.useEffect)((function(){i&&(_e.a.plugin.require("linker"),_e.a.plugin.execute("linker","autoLink",i,{useAnchor:!1,decorateForms:!0}))}),[]),Object(r.useEffect)((function(){g&&y().then((function(e){_e.a.set(L()({},e,{dimension15:"404"})),_e.a.pageview(c)})).catch((function(e,t){Object(E.A)({error:e,description:"REACT-GA ERROR",logToConsole:!d||d&&Object(E.x)(),info:t,meta:{function:"getCustomDimensions()",file:"withGa"}})}))}),[g,y,c]),Object(r.useEffect)((function(){m.length>0&&y().then((function(e){if("loading"!==p){var t=Object(E.d)(U()(s,"metaData.meta",[])),n=Object(E.d)(m).siteName,r="".concat(t.pageTitle," | ").concat(n);_e.a.set(e),_e.a.pageview(c,[],r)}})).catch((function(e){return Object(E.A)({error:e,description:"REACT-GA ERROR",logToConsole:!d||d&&Object(E.x)(),meta:{function:"getCustomDimensions()",file:"withGa"}})}))}),[f,m,y,c,s,d]),Object(r.useLayoutEffect)((function(){Ue.getFirstPaints(),Ue.getFirstInputDelay(),Ue.getTimeToInteractive(d)}),[]),a.a.createElement(e,o)};return c.defaultProps={data:{page:{metaData:{dataLayer:[]}},status:{}},type:"",prod:!1},c.displayName="withGa()",c}},Fe=n(47),qe=function(e){var t=e.googleAnalytics,n=t.id,r=t.ga4MeasurementId,o=t.ga4AmpHostUrl,i=e.dataLayer,u=Object.entries(Ce).map((function(e){var t=c()(e,2);return[t[0],t[1].replace("dimension","cd")]})).reduce((function(e,t){var n=c()(t,2),r=n[0],a=n[1];return Object.assign(e,w()({},r,a))}),{}),s=Object.entries(Fe).map((function(e){var t=c()(e,2);return[t[0],t[1].replace("dimension","cd")]})).reduce((function(e,t){var n=c()(t,2),r=n[0],a=n[1];return Object.assign(e,w()({},r,a))}),{}),l=Ae(u,i),p=function(e,t){var n=function(e){return"articleGroupParentNodeId"===e?"article_group_id":"nodeId"===e?"article_id":"dfpDefaultAdUnitPath"===e?"gam_ad_unit_path":"publicationDate"===e?"last_modified_date":"client"===e?"sponsor":e.replace(/[A-Z]/g,(function(e){return"_".concat(e.toLowerCase())}))};if(!t||!t.length)return{};var r=Object.create(e);return Object.keys(r).forEach((function(e){r[e]=""})),t.forEach((function(t){var a=t.key,o=t.value;if(e[n(a)]){var i="ep.".concat(n(a));r[i]=o}})),r}(s,i),d={vars:{account:n},triggers:{trackPageview:{on:"visible",request:"pageview"}},extraUrlParams:L()({ds:"amp"},l)},f={vars:{GA4_MEASUREMENT_ID:r,GA4_ENDPOINT_HOSTNAME:"www.google-analytics.com",DEFAULT_PAGEVIEW_ENABLED:!0,GOOGLE_CONSENT_ENABLED:!1,WEBVITALS_TRACKING:!0,PERFORMANCE_TIMING_TRACKING:!1,SEND_DOUBLECLICK_BEACON:!1},extraUrlParams:p};return a.a.createElement(a.a.Fragment,null,a.a.createElement("amp-analytics",{type:"googleanalytics",dangerouslySetInnerHTML:{__html:'<script type="application/json">'.concat(JSON.stringify(d),"<\/script>")}}),r&&o&&a.a.createElement("amp-analytics",{id:"ga4-amp-analytics",type:"googleanalytics",config:o,"data-credentials":"include",dangerouslySetInnerHTML:{__html:'<script type="application/json">'.concat(JSON.stringify(f),"<\/script>")}}))};qe.defaultProps={googleAnalytics:{id:"",ga4AmpHostUrl:"",ga4MeasurementId:""},dataLayer:[]};var Be=qe,Ge=n(26),ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=function(n){var r=e.renderType,o=e.layoutContext,i=n.data,c=n.config.globalSettings.postsPerPage,u=void 0===c?24:c,s=n.type;s||(s=Object(E.n)(i)),i&&"object"===I()(i)&&i.status&&i.status.noAmp&&"amp"===r&&(s="notFound"),o&&(o.layout=s);var l=Object(E.m)(s,t);if(!l.query)return a.a.createElement(l,q()({},n,{type:s,amp:"amp"===r}));var p=Object(E.B)(Object(E.k)(n)),d={url:p};return"function"==typeof l.queryVars&&(d=L()({url:p},l.queryVars({url:p,renderType:r,postsPerPage:u}))),a.a.createElement(Ge.Query,{query:l.query,variables:d},(function(e){var o=e.loading,i=e.error,c=e.data;if(o){var u=Object(E.m)("loading",t);return a.a.createElement(u,n)}if(i){var p=Object(E.m)("error",t);return a.a.createElement(p,q()({error:i},n))}var d=c.getContentByUrl;return a.a.createElement(l,q()({layoutData:d},n,{type:s,amp:"amp"===r}))}))};return n.displayName="withLayout()",n.defaultProps={type:""},n}},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=e.renderType,r=e.ampLayouts,o=void 0===r?{}:r,i=n&&"amp"===n,c=function(e){var n=e.location,r=n.pathname,c=n.search,u=e.config,s=u.siteUrl,l=u.protocol,p=u.host,d=e.data,f=d.page,m=d.status,g=e.metaData,y=e.type,v="".concat(l,"://").concat(p+r+c),h=Object(E.r)({page:f,fullUrl:v,siteUrl:s,protocol:l}),b=f&&o[f.contentType]&&m&&!m.noAmp&&!Object(E.y)({fullUrl:v,page:f}),w=U()(e,"data.status.noIndex",!1),O=Object(E.d)(U()(f,"metaData.dataLayer",[])),T=y?Object(E.d)(g.meta):Object(E.d)(U()(f,"metaData.meta",[])),j=O.sponsored,k=void 0===j?"0":j,_=!w&&("1"===k||"2"===k),C=Object(E.f)({fullUrl:Object(E.G)({urlString:v}),canonicalUrl:h,siteUrl:s}),I=f&&f.metaData&&f.metaData.hreflang;return a.a.createElement(a.a.Fragment,null,a.a.createElement(t,q()({},e,{metaData:T,dataLayer:O})),a.a.createElement(X.Helmet,null,a.a.createElement("meta",{name:"robots",content:"max-image-preview:large"}),w&&a.a.createElement("meta",{name:"robots",content:"noindex"}),_&&a.a.createElement("meta",{name:"googlebot-news",content:"noindex"}),a.a.createElement("link",{href:h,rel:"canonical"}),b&&!i&&a.a.createElement("link",{rel:"amphtml",href:C}),I&&f.metaData.hreflang.map((function(e){return a.a.createElement("link",{key:e.value,rel:"alternate",hrefLang:e.key,href:e.value})}))))};return c.defaultProps={data:{page:{contentType:"",metaData:{meta:[],hreflang:[]}}},location:{pathname:""},metaData:{dataLayer:[]},type:""},c.displayName="withMeta()",c}},Ve=function(e){var t=function(t){var n=t.location.pathname,o=t.config.optinMonster,i=o&&o.optinMonsterEnabled,c=o&&o.accountId,u=o&&o.userId;return Object(r.useEffect)((function(){i&&c&&u&&function(e){var t=e.accountId,n=e.userId;if(window["om".concat(t,"_").concat(n)]){var r=sessionStorage.getItem("omSessionPageviews");sessionStorage.setItem("omSessionPageviews",++r),window["om".concat(t,"_").concat(n)].reset()}}({accountId:c,userId:u})}),[n]),a.a.createElement(e,t)};return t.defaultProps={location:{pathname:""}},t.displayName="withOptinMonster()",t},Je=n(25),Ke=n.n(Je),$e=n(48),Qe=n(15),Ze=n.n(Qe),Xe=function(e){var t=e.query,n=e.path,r=void 0===n?"items":n,o=e.queryVars;return function(e){var n,i;return Object($e.withApollo)((i=n=function(n){function i(e){var t;l()(this,i),t=m()(this,y()(i).call(this,e));var n=e.data.pagination.totalPages,r=Object(E.p)(Object(E.k)(e)),a=t.getItems();return t.state={page:r,loading:!1,pages:w()({},Number(r),a),down:!0,more:n>r},t.loadMore=t.loadMore.bind(Ke()(Ke()(t))),t.loadPage=t.loadPage.bind(Ke()(Ke()(t))),t.updateQuery=t.updateQuery.bind(Ke()(Ke()(t))),t}return h()(i,n),d()(i,[{key:"componentDidUpdate",value:function(e,t){var n=this.props.data.page.url;e.data.page.url!==n&&this.getItemsAndSetState()}},{key:"getItems",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.props.layoutData.page,n=[];return n="function"==typeof r?r(e||t):U()(e||t,r,[]),Array.isArray(n)?n:[]}},{key:"setUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(E.k)(this.props),r=window.history.pushState;t&&(r=window.history.replaceState);var a=Object(E.q)(e,n);return r.call(window.history,null,"page ".concat(e),a),a}},{key:"getItemsAndSetState",value:function(){var e=this.props.data.pagination.totalPages,t=Object(E.p)(Object(E.k)(this.props)),n=this.getItems();this.setState({page:t,loading:!1,pages:w()({},Number(t),n),down:!0,more:e>t})}},{key:"loadPage",value:function(){var e=je()(Oe.a.mark((function e(n){var r,a,i,c,u,s,l,p,d,f,m;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.state.loading,a=this.props.prod,!r){e.next=4;break}return e.abrupt("return");case 4:return i=this.setUrl(n,!0),this.setState({page:n,loading:!0}),c=this.props,u=c.client,s=c.config.globalSettings.postsPerPage,l=void 0===s?24:s,p=Object(E.B)(i),d={url:p},"function"==typeof o&&(d=L()({},d,o({url:p,postsPerPage:l}))),e.prev=10,e.next=13,u.query({query:t,variables:d});case 13:f=e.sent,m=f.data,this.updateQuery(m.getContentByUrl.page),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(10),Object(E.A)({error:e.t0,description:"HTTP ERROR",logToConsole:!a||a&&Object(E.x)(),meta:{function:"loadPage()",file:"withPagination"}});case 21:case"end":return e.stop()}}),e,this,[[10,18]])})));return function(t){return e.apply(this,arguments)}}()},{key:"loadMore",value:function(){var e=je()(Oe.a.mark((function e(){var t,n,r,a,o=arguments;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!(o.length>0&&void 0!==o[0])||o[0],n=this.props.prod,1!==(r=this.state.page)||t){e.next=5;break}return e.abrupt("return");case 5:return this.setState({down:t}),a=r+(t?1:-1),e.prev=7,e.next=10,this.loadPage(a);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(7),Object(E.A)({error:e.t0,description:"PAGINATION ERROR",logToConsole:!n||n&&Object(E.x)(),meta:{function:"loadMore()",file:"withPagination"}});case 15:case"end":return e.stop()}}),e,this,[[7,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"updateQuery",value:function(e){if(e){var t=this.getItems(e);if(t.length){var n=this.state,r=n.page,a=n.pages,o=(n.down,this.props.data.pagination.totalPages),i=Math.max.apply(Math,[Number(r)].concat(M()(Object.keys(a).map(Number))));this.setState({loading:!1,pages:L()(w()({},Number(r),t),a),more:i<o})}else this.setState({loading:!1,more:!1})}}},{key:"render",value:function(){var t=this.state,n=t.page,r=t.loading,o=t.pages,i=t.more,c=this.props,u=c.amp,s=c.data,l=(c.config.siteUrl,Object(E.k)(this.props)),p=n>1?Object(E.q)(n-1,l):null,d=i?Object(E.q)(n+1,l):null,f={isLoading:r,page:n,pages:o,loadMore:this.loadMore,hasMore:i,prevUrl:p,nextUrl:d},m=L()({},this.props,{data:L()({},s,{pagination:L()({},s.pagination,{currentPage:n})})});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ze.a,null,!u&&p&&a.a.createElement("link",{href:p,rel:"prev"}),!u&&d&&a.a.createElement("link",{href:d,rel:"next"})),a.a.createElement(e,q()({},m,{pagination:f})))}}]),i}(a.a.Component),w()(n,"defaultProps",{amp:!1,layoutData:{page:{items:[]}},prod:!1}),w()(n,"displayName","withPagination()"),i))}},Ye=(n(49),function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").trim()}),et=function(){var e=je()(Oe.a.mark((function e(t,n){var r,a;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(E.o)(t),!document){e.next=11;break}return a=["utm_medium","utm_source","utm_campaign"],e.prev=3,e.next=6,a.forEach((function(e){if(r[e]&&r[e].length>0){var t=r[e],n=Ye(t);Object(E.F)(e,n)}else Object(E.w)(r)&&Object(E.e)(e)}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),Object(E.A)({description:"PPC TRACKING ERROR",logToConsole:!n||n&&Object(E.x)(),error:e.t0,meta:{function:"setPpcTrackingCookies()",file:"withPPCTracking"}});case 11:case"end":return e.stop()}}),e,this,[[3,8]])})));return function(t,n){return e.apply(this,arguments)}}(),tt=function(){return function(e){var t=function(t){var n=t.location.search,r=t.prod;return et(n,r),a.a.createElement(e,t)};return t.displayName="withPPCTracking()",t.defaultProps={location:{search:""},prod:!1},t}},nt=n(14),rt=n.n(nt),at=n(23),ot=n(10),it=n(24);function ct(){var e=rt()(["\n                {\n                  config\n                }\n              "]);return ct=function(){return e},e}var ut=function(e){var t=e.to,n=e.status;return Object(E.z)(t)?window.location.replace(t):a.a.createElement(at.Route,{render:function(e){var r=e.staticContext;return r&&(r.status=n),a.a.createElement(at.Redirect,{to:t})}})},st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n,r;return r=n=function(n){function r(){return l()(this,r),m()(this,y()(r).apply(this,arguments))}return h()(r,n),d()(r,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.location,r=t.reset,a=Object(E.k)(this.props),o=Object(E.k)(e),i=!n||a!==o;return r&&i&&r(),i}},{key:"render",value:function(){var n=this,r=this.props.prefetch,o=e.configQuery,i=e.client,c=o?Object(E.D)(o,E.b):E.b,u=Object(E.B)(Object(E.k)(this.props)),s=U()(this.props,"config.globalSettings.postsPerPage",24);return a.a.createElement(Ge.Query,{query:c,variables:{url:u,limit:s}},(function(e){var o=e.loading,c=e.error,u=e.data,s=e.fetchMore;if(o){var l=U()(u,"getContentByUrl.page.metaData",{}),p=L()({},n.props,{metaData:l});return a.a.createElement(t,q()({type:"loading"},p))}if(c)return a.a.createElement(t,q()({type:"error",error:c},n.props));if(!u.getContentByUrl)return a.a.createElement(t,q()({type:"error",error:"Server returned invalid data."},n.props));var d=u.getContentByUrl.status,f=d.code,m=d.location,g=void 0===m?"/":m,y=d.prefetch;if(301===f||302===f||303===f||307===f)return a.a.createElement(ut,{to:g,status:f});if(y&&y.length&&r&&y.forEach((function(e){var t=e.url,n=e.contentType;return r(t,n)})),u.globalSettings){var v=JSON.parse(i.readQuery({query:it.a}).config),h=L()({},v,{globalSettings:L()({},v.globalSettings,u.globalSettings)});i.writeQuery({query:Object(ot.gql)(ct()),data:{config:JSON.stringify(h)}})}return a.a.createElement(t,q()({data:u.getContentByUrl,fetchMore:s},n.props))}))}}]),r}(a.a.Component),w()(n,"defaultProps",{prefetch:null,reset:null}),w()(n,"displayName","withRootQuery()"),r}},lt=function(){return a.a.useEffect((function(){var e=window.location.hash;if(e){var t=document.getElementById(e.replace("#",""));if(t){var n=document.getElementById("header"),r="sticky"===window.getComputedStyle(n,null).position?n.offsetHeight:0,a=window.pageYOffset+t.getBoundingClientRect().top-r;window.scroll({top:a,behavior:"smooth"})}}else window.scrollTo(0,0)})),null},pt=function(e){var t=e.disableBrowserRouter,n=e.prod,r=e.layouts,o=e.ssr,i=void 0!==o&&o,c=e.routerContext,u=void 0===c?{}:c,s=e.requestUrl,l=void 0===s?"":s;return function(e){var o=function(o){if(i)return a.a.createElement(at.StaticRouter,{context:u,location:l},a.a.createElement(e,q()({},o,{ssr:i})));if(!t){var c=Object(at.withRouter)(e);return a.a.createElement(at.BrowserRouter,null,a.a.createElement(at.Route,{path:"/*"},a.a.createElement(j,{layouts:r,prod:n},a.a.createElement(c,q()({},o,{prod:n})),a.a.createElement(lt,null))))}return a.a.createElement(j,{layouts:r},a.a.createElement(e,q()({},o,{prod:n,history:window.history,location:window.location})),a.a.createElement(lt,null))};return o.displayName="withRouterController()",o}},dt=Object(r.createContext)(),ft=n(39),mt=n.n(ft),gt=function(e){return function(t){var n=t.location.pathname,o=Object(r.useState)(mt()()),i=c()(o,2),u=i[0],s=i[1],l=Object(r.useState)(n),p=c()(l,2),d=p[0],f=p[1];return Object(r.useEffect)((function(){n!==d&&s(mt()()),f(n)}),[n]),a.a.createElement(dt.Provider,{value:u},a.a.createElement(e,t))}},yt=n(31);n.d(t,"n",(function(){return o})),n.d(t,"p",(function(){return u})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return S})),n.d(t,"e",(function(){return R})),n.d(t,"k",(function(){return A})),n.d(t,"u",(function(){return H})),n.d(t,"f",(function(){return J})),n.d(t,"w",(function(){return K})),n.d(t,"q",(function(){return Y})),n.d(t,"g",(function(){return ne})),n.d(t,"C",(function(){return Z})),n.d(t,"h",(function(){return ae})),n.d(t,"o",(function(){return ce})),n.d(t,"i",(function(){return ue})),n.d(t,"r",(function(){return fe})),n.d(t,"s",(function(){return we})),n.d(t,"t",(function(){return O.a})),n.d(t,"a",(function(){return Be})),n.d(t,"v",(function(){return He})),n.d(t,"x",(function(){return ze})),n.d(t,"y",(function(){return We})),n.d(t,"z",(function(){return Ve})),n.d(t,"B",(function(){return Xe})),n.d(t,"A",(function(){return tt})),n.d(t,"D",(function(){return st})),n.d(t,"E",(function(){return pt})),n.d(t,"j",(function(){return dt})),n.d(t,"F",(function(){return gt})),n.d(t,"l",(function(){return yt.a})),n.d(t,"m",(function(){return yt.b})),n.d(t,"G",(function(){return yt.d}))},function(e,t){e.exports=n(184)},function(e,t){e.exports=n(261)},function(e,t){e.exports=n(262)},function(e,t){e.exports=n(132)},function(e,t,n){"use strict";var r=n(24);n.d(t,"a",(function(){return r.b}))},function(e,t){e.exports=n(263)},function(e,t){e.exports=n(264)},function(e,t){e.exports=n(265)},function(e,t){e.exports=n(266)},function(e,t){e.exports=n(267)},function(e,t){e.exports=n(14)},function(e,t){e.exports=n(74)},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return f}));var r=n(4),a=n.n(r),o=n(14),i=n.n(o),c=n(0),u=n.n(c),s=n(26),l=n(10);function p(){var e=i()(["\n  {\n    config @client,\n  }\n"]);return p=function(){return e},e}var d=Object(l.gql)(p()),f=function(e){var t=function(t){return u.a.createElement(s.Query,{query:d},(function(n){var r=n.data;return u.a.createElement(u.a.Fragment,null,r&&u.a.createElement(e,a()({config:JSON.parse(r.config)},t)))}))};return t.displayName="withConfig()",t}},function(e,t){e.exports=n(185)},function(e,t){e.exports=n(71)},function(t,n){t.exports=e},function(e){e.exports={name:"@autovia-uk/polaris-coreweb",version:"6.6.0",description:"Polaris Core Web Application",main:"index.js",files:["*","dist"],scripts:{clean:"rm -rf dist && mkdir dist",build:"npm-run-all build:dev","prebuild:dev":"npm-run-all clean","build:dev":"webpack --config webpack/webpack.dev.js","prebuild:prod":"npm-run-all clean","build:prod":"NODE_ENV=production webpack --config webpack/webpack.prod.js",watch:"webpack --watch --config webpack/webpack.dev.js","watch:prod":"NODE_ENV=production webpack --watch --progress --config webpack/webpack.prod.js",stats:"webpack --config webpack/webpack.stats.js","test:jest":"jest --color","test:lint":"eslint .","test:lint:fix":"eslint . --fix",test:"npm-run-all --parallel test:lint test:jest"},repository:{type:"git",url:"git+https://github.com/autovia-uk/polaris-coreweb"},author:"",license:"ISC",bugs:{url:"https://github.com/autovia-uk/polaris-coreweb/issues"},homepage:"https://github.com/autovia-uk/polaris-coreweb#readme",dependencies:{"@apollo/client":"^3.2.5","@babel/plugin-proposal-class-properties":"^7.1.0","@babel/preset-env":"^7.1.0","@babel/preset-react":"^7.0.0","@babel/register":"^7.0.0","@babel/runtime":"^7.4.5","@loadable/babel-plugin":"^5.10.0","@loadable/component":"^5.10.2","@loadable/server":"^5.10.2","@loadable/webpack-plugin":"^5.7.1","@types/react":"^16.9.6","amphtml-validator":"^1.0.35",aws4:"^1.8.0","aws4-tiny":"^1.0.0","babel-loader":"^8.1.0","clean-css":"4.2.1",compression:"^1.7.3","cross-fetch":"^3.0.1","css-loader":"^1.0.1",deepmerge:"^3.2.0",dotenv:"^6.2.0","dotenv-webpack":"^1.7.0",express:"^4.16.4","fs-extra":"^7.0.1",graphql:"^14.5.8","html-react-parser":"^0.10.5","jest-fetch-mock":"^3.0.3","lodash.clonedeep":"^4.3.2","lodash.difference":"^4.5.0","lodash.find":"^4.6.0","lodash.flow":"^3.5.0","lodash.get":"^4.4.2","module-alias":"^2.1.0","p-queue":"^6.1.0",postcss:"^7.0.18","prop-types":"^15.6.2",react:"16.9.0","react-dom":"16.9.0","react-ga":"^2.5.7","react-html-parser":"^2.0.2","react-intersection-observer":"^8.24.2","react-router-dom":"5.0.1",recompose:"^0.30.0","regenerator-runtime":"^0.13.1","resource-hints-webpack-plugin":"^0.0.2",sass:"^1.54.5","serve-favicon":"^2.5.0","server-timing":"^2.1.0",spdy:"^4.0.0","strip-css-comments":"^4.0.0","tti-polyfill":"^0.2.2",uncss:"^0.16.2",uniqid:"^5.2.0",uuid:"^3.3.2",webpack:"^4.25.0","webpack-bundle-analyzer":"^3.0.4","webpack-cli":"^3.3.9","webpack-merge":"^4.1.4","webpack-node-externals":"^1.7.2"},peerDependencies:{"react-helmet-async":"^0.2.0"},devDependencies:{"@babel/cli":"^7.2.3","@babel/core":"^7.11.6","@babel/plugin-transform-runtime":"^7.4.4","babel-eslint":"^10.0.1","babel-jest":"^24.1.0","babel-plugin-transform-react-remove-prop-types":"^0.4.24","compression-webpack-plugin":"^2.0.0",enzyme:"^3.7.0","enzyme-adapter-react-16":"^1.7.0","enzyme-to-json":"^3.3.4",eslint:"^5.9.0","eslint-config-airbnb":"^17.1.0","eslint-plugin-import":"^2.14.0","eslint-plugin-jsx-a11y":"^6.1.1","eslint-plugin-react":"^7.11.0",jest:"^24.1.0","mini-css-extract-plugin":"^0.5.0","node-mocks-http":"^1.8.1",nodemon:"^1.18.6","npm-run-all":"^4.1.5","optimize-css-assets-webpack-plugin":"^5.0.1",pretty:"^2.0.0","react-helmet-async":"^0.2.0","react-test-renderer":"^16.10.2",sinon:"^9.0.1",supertest:"^4.0.2","terser-webpack-plugin":"^1.1.0",waait:"^1.0.4"},jest:{setupFiles:["<rootDir>/jestsetup.js"],snapshotSerializers:["enzyme-to-json/serializer"],collectCoverage:!1,collectCoverageFrom:["src/**/*.js"],coverageThreshold:{global:{statements:50,branches:50,functions:70,lines:50}},testPathIgnorePatterns:["/node_modules/","/vendor/","/modules/contrib/"],moduleNameMapper:{"^PackageJson":"<rootDir>/package.json","^Src(.*)$":"<rootDir>/src$1","^Middleware(.*)$":"<rootDir>/src/middleware$1","^Helpers(.*)$":"<rootDir>/src/helpers$1","^Components(.*)$":"<rootDir>/src/components$1","@loadable/component":"<rootDir>/src/__mocks__/loadable-component.js","@loadable/server":"<rootDir>/src/__mocks__/loadable-server.js","polaris-coreweb/exports":"<rootDir>/src/__mocks__/exports.js",fragments:"<rootDir>/src/__mocks__/fragmentTypes.json"},globals:{}},browserslist:["last 1 version",">0.25%","not dead"]}},function(e){e.exports={"mainPurpose|client":"dimension1",sponsored:"dimension2",category:"dimension3",publicationDate:"dimension4",articleType:"dimension5",author:"dimension6",topic:"dimension7",nodeId:"dimension8",make:"dimension9",productFamily:"dimension10",product:"dimension11",contentType:"dimension12",originalPublicationDate:"dimension13","expectedTrafficSource|targetedSearchPhrase":"dimension14",pageType:"dimension15",relatedNodes:"dimension16",wordCount:"dimension17",internalLinks:"dimension18",canonical:"dimension19",dfpDefaultAdUnitPath:"dimension30",pageviewGUID:"dimension47",brandShortCode:"dimension48",paymentType:"dimension49",subscriptionTerm:"dimension50",trialPeriod:"dimension51",tags:"dimension52",fuelType:"dimension53",headline:"dimension55",userUid:"dimension56",siteName:"dimension57",articleGroupParentNodeId:"dimension58",numberOfSearchResults:"dimension59",euid:"dimension61",allCategories:"dimension62",topCategory:"dimension63",categoryLevel2:"dimension64",categoryLevel3:"dimension65",categoryLevel4:"dimension66",topbreadcrumb:"dimension67",breadcrumbLevel2:"dimension68",breadcrumbLevel3:"dimension69",breadcrumbLevel4:"dimension70",sku:"dimension71",bodyCopyParagraphs:"dimension72",topArticleType:"dimension74",subscriberStatus:"dimension75",articleSectionNumber:"dimension76",hreflangDefaultSite:"dimension118",hreflangAllSites:"dimension119",accessLevel:"dimension120"}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=Object(r.createContext)(),i=n(8),c=n.n(i),u=n(13),s=n.n(u),l=n(17),p=n.n(l),d=n(18),f=n.n(d),m=n(19),g=n.n(m),y=n(20),v=n.n(y),h=n(21),b=n.n(h),w=n(5),E=n.n(w),O=(n(3),n(15)),T=n.n(O),j=n(44),k=n.n(j),_=n(1),C=function(e){function t(e){var n;return p()(this,t),(n=g()(this,v()(t).call(this,e))).local=new Map,n.connection=!1,n.fetching=!1,n.queue=new k.a({concurrency:10}),!e.server&&"connection"in navigator&&(n.connection=navigator.connection),n.state={external:new Set(e.prefetch)},n}return b()(t,e),f()(t,[{key:"prefetchUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object(_.z)(e)?this.prefetchExternal(e):this.prefetchData(e,t)}},{key:"prefetchData",value:function(e,t){var n=this;if(!this.props.server){var r=this.local.size;this.local.set(Object(_.B)(e),t),r===this.local.size||this.fetching||window.requestIdleCallback((function(){n.prefetch()}))}}},{key:"prefetchExternal",value:function(e){this.setState((function(t){var n=t.external;return{external:new Set(n).add(e)}}))}},{key:"prefetch",value:function(){var e=s()(c.a.mark((function e(){var t,n,r,a,o,i=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.server){e.next=3;break}return e.abrupt("return");case 3:if(0!==this.local.size){e.next=5;break}return e.abrupt("return");case 5:if(!(t=this.connection)||!t.saveData&&!(t.effectiveType||"").includes("2g")){e.next=8;break}return e.abrupt("return");case 8:if(!this.fetching){e.next=10;break}return e.abrupt("return");case 10:return this.fetching=!0,n=this.props,r=n.client,a=n.layouts,o=n.prod,this.local.forEach((function(e,t){var n=function(e){return i.queue.add((function(){return r.query({query:e,variables:{url:t}}).then((function(){return i.local.delete(t)})).catch((function(e,t){return Object(_.A)({description:"PREFETCH PROVIDER ERROR",logToConsole:!o||o&&Object(_.x)(),error:e,info:t,meta:{file:"PrefetchProvider.js",function:"componentDidCatch"}})}))}))};if(e){n(_.b);var c=Object(_.m)(e,a);c&&c.query&&n(c.query)}else i.queue.add((function(){var e=r.query({query:_.b,variables:{url:t}});void 0!==e&&e.then((function(e){var t=e.data.getContentByUrl,r=Object(_.l)(t,a);r&&r.query&&n(r.query)})).catch((function(e,t){return Object(_.A)({description:"PREFETCH PROVIDER ERROR",logToConsole:!o||o&&Object(_.x)(),error:e,info:t,meta:{file:"PrefetchProvider.js",function:"componentDidCatch"}})}))}))})),e.prev=13,e.next=16,this.queue.onIdle();case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(13),Object(_.A)({description:"PREFETCH PROVIDER ERROR",error:e.t0});case 21:this.fetching=!1;case 22:case"end":return e.stop()}}),e,this,[[13,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){this.fetching=!1,this.queue.clear(),this.local.clear()}},{key:"render",value:function(){var e={prefetch:this.prefetchUrl.bind(this),reset:this.reset.bind(this)},t=this.props.children,n=this.state.external;return a.a.createElement(o.Provider,{value:e},a.a.createElement(T.a,null,Array.from(n).map((function(e){return a.a.createElement("link",{rel:"prefetch",href:e,key:e})}))),t)}}]),t}(a.a.PureComponent);E()(C,"defaultProps",{client:null,children:null,server:!1,prefetch:[],layouts:null,prod:!1});var I=n(4),P=n.n(I),S=function(e){var t=function(t){return a.a.createElement(o.Consumer,null,(function(n){return a.a.createElement(e,P()({},t,n))}))};return t.displayName="withPrefetch()",t},R=n(6),A=n.n(R),x=function(e){var t=function(t){var n=t.href,o=t.contentType,i=t.prefetch,c=Object(r.useRef)();return Object(r.useEffect)((function(){var e=new IntersectionObserver((function(t){var r=A()(t,1)[0];if(r.isIntersecting)var a=setTimeout((function(){r.isIntersecting&&c.current&&(i(n,o),e.unobserve(c.current),clearTimeout(a)),clearTimeout(a)}),1e3)}));return c.current&&e.observe(c.current),function(){e.unobserve(c.current)}}),[]),a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{ref:c,style:{height:0,width:0,padding:0,border:"none",visibility:"hidden"}}),a.a.createElement(e,null))};return t.defaultProps={contentType:null},t.displayName="prefetchLink()",S(t)};n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return C})),n.d(t,"d",(function(){return S})),n.d(t,"c",(function(){return x}))},function(e,t,n){"use strict";var r=n(6),a=n.n(r),o=n(0),i=n.n(o),c=(n(3),n(22)),u=n.n(c),s=n(1),l=n(16),p=n(35),d=n.n(p),f=n(15),m=n.n(f),g=function(e){var t=i.a.useState([]),n=a()(t,2),r=n[0],o=n[1],c=i.a.useState(null),s=a()(c,2),l=s[0],f=s[1];return i.a.useEffect((function(){var t=[],n={replace:function(e){if("script"===e.type)return t.push(i.a.createElement("script",null,Object(p.domToReact)(e.children))),i.a.createElement(i.a.Fragment,null)}};o(t),f(d()(e,n))}),[]),i.a.createElement(i.a.Fragment,null,l,!!r.length&&r.map((function(e){return i.a.createElement(m.a,{key:u()()},e)})))},y=function(e){var t=e.clientSide,n=e.bodyBlocks,r=e.zephrHtml;return e.amp?n:t?r?i.a.createElement("div",{className:"polaris__simple-grid--main"},g(r)):n:function(e){return i.a.createElement("div",{"data-zephr":!0,className:"polaris__simple-grid--main"},i.a.createElement("span",{dangerouslySetInnerHTML:{__html:"\x3c!-- BLAIZE_FEATURE article-access --\x3e"},key:u()()}),e,i.a.createElement("span",{"data-zephr-inactive":!0,key:u()("data-zephr-inactive")}),i.a.createElement("span",{dangerouslySetInnerHTML:{__html:"\x3c!-- BLAIZE_FEATURE_END article-access --\x3e"},key:u()("blaize-article-end")}))}(n)},v=function(e){var t=e.bodyBlocks,n=e.amp,r=e.config.zephrHtml,c=Object(o.useState)(!1),u=a()(c,2),l=u[0],p=u[1];return Object(o.useEffect)((function(){p(!0);var e,t,n,r=(e="/",t=window.__API_CREDENTIALS__.uri,n=["develop.coreapp","staging.coreapp","preprod.coreapp"].filter((function(e){return window.location.host.includes(e)})).length>0,t.includes("localhost")?e=t:n&&(e="https://mock.develop.coreapp.didev.co.uk/"),e);fetch("".concat(r,"blaize/datalayer")).then((function(e){return e.json()})).then((function(e){Object.keys(e).forEach((function(t){t in window||(window[t]=[]),window[t].push(e[t]),window[t].push({event:"zephr-datalayer-refreshed"})}))})).catch((function(e,t){return Object(s.A)({description:"ZEPHR ERROR",error:e,info:t,logToConsole:r.includes("localhost")||r.includes("mock"),meta:{file:"WithZephr.js",function:"fetch()"}})}))}),[]),i.a.createElement(y,{clientSide:l,bodyBlocks:t,zephrHtml:r,amp:n})};v.defaultProps={dataLayer:{},amp:!1};var h=Object(l.a)(v),b={getMetaForZephr:function(e){return Object.keys(e).map((function(t){return i.a.createElement("meta",{key:u()(),name:"blaize:".concat(t),content:e[t]})}))}},w=n(2),E=n.n(w),O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.zephrEnableGraphql)return e;var t=document.querySelector("[data-zephr]"),n=!document.querySelector("[data-zephr-inactive]");return E()({},e,{zephrHtml:n&&t?t.innerHTML:null})};n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return g})),n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return O}))},function(e,t){e.exports=n(272)},function(e,t,n){"use strict";n.r(t),n.d(t,"getExternals",(function(){return o})),n.d(t,"getCdnUrls",(function(){return i}));var r=n(28),a={},o=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.packages,n=void 0===t?a:t,o=e.dependencies,i=void 0===o?r.dependencies:o,c={},u=Object.keys(n),s=0;s<u.length;s+=1){var l=u[s];i[l]&&(c[l]=n[l].globalName)}return c},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.packages,n=void 0===t?a:t,o=e.dependencies,i=void 0===o?r.dependencies:o,c=e.polyfillFeatures,u=void 0===c?["IntersectionObserver","matchMedia","Set","Map","requestIdleCallback"]:c,s=e.prod,l=void 0===s||s,p=[],d=Object.keys(n);u.length&&p.push("https://polyfill.io/v3/polyfill.min.js?features=".concat(u.join(",")));for(var f=0;f<d.length;f+=1){var m=d[f],g=!l&&n[m].unpkgFileDev?n[m].unpkgFileDev:n[m].unpkgFile;i[m]&&p.push("https://unpkg.com/".concat(m,"@").concat(i[m],"/").concat(g))}return p}},function(e,t){e.exports=n(273)},function(e,t){e.exports=n(274)},function(e,t){e.exports=n(277)},function(e,t){e.exports=n(72)},function(e,t){e.exports=n(292)},function(e,t){e.exports=n(293)},function(e,t){e.exports=n(59)},function(e,t){e.exports=n(294)},function(e,t){e.exports=n(295)},function(e,t){e.exports=n(88)},function(e,t){e.exports=n(296)},function(e,t){e.exports=n(136)},function(e,t){e.exports=n(297)},function(e){e.exports={access_level:"dimension120",all_categories:"dimension62",article_group_id:"dimension58",article_id:"dimension8",article_type:"dimension5",author:"dimension6",body_copy_paragraphs:"dimension72",category:"dimension3",content_type:"dimension12",expected_traffic_source:"dimension14",gam_ad_unit_path:"dimension30",headline:"dimension55",internal_links:"dimension18",last_modified_date:"dimension4",main_purpose:"dimension1",make:"dimension9",original_publication_date:"dimension13",page_type:"dimension15",product:"dimension11",product_family:"dimension10",site_name:"dimension57",sponsor:"dimension1",sponsored:"dimension2",tags:"dimension52",targeted_search_phrase:"dimension14",topic:"dimension7",top_category:"dimension63",word_count:"dimension17"}},function(e,t){e.exports=n(298)},function(e,t){e.exports=n(302)},function(e,t){e.exports=n(87)},function(e,t){e.exports=n(26)},function(e,t){e.exports=n(228)},,,,,function(e,t,n){"use strict";n.r(t);var r=n(15),a=n.n(r);n.d(t,"Helmet",(function(){return a.a})),n.d(t,"HelmetProvider",(function(){return r.HelmetProvider}));var o=n(52),i=n.n(o);n.d(t,"helmetHandleStateChangeOnClient",(function(){return i.a}));var c=n(30);n.d(t,"PrefetchProvider",(function(){return c.b})),n.d(t,"withPrefetch",(function(){return c.d})),n.d(t,"PrefetchContext",(function(){return c.a})),n.d(t,"prefetchLink",(function(){return c.c}));var u=n(1);n.d(t,"contentBlocksToText",(function(){return u.c})),n.d(t,"HtmlSafe",(function(){return u.a})),n.d(t,"htmlToText",(function(){return u.s})),n.d(t,"imageSizesCallback",(function(){return u.t})),n.d(t,"injectInBody",(function(){return u.u})),n.d(t,"injectionRules",(function(){return u.v})),n.d(t,"isUrlExternal",(function(){return u.z})),n.d(t,"logger",(function(){return u.A})),n.d(t,"sendDataToDatalakeApi",(function(){return u.E}));var s=n(11);n.d(t,"useBlueConic",(function(){return s.n})),n.d(t,"useConsent",(function(){return s.o})),n.d(t,"useCrimtan",(function(){return s.p})),n.d(t,"usePermutive",(function(){return s.q})),n.d(t,"withConfig",(function(){return s.t})),n.d(t,"withPagination",(function(){return s.B})),n.d(t,"WithZephr",(function(){return s.l})),n.d(t,"ZephrForm",(function(){return s.m})),n.d(t,"zephrMeta",(function(){return s.G}))}])},"object"==c(t)&&"object"==c(e)?e.exports=i(n(12)):(a=[n(12)],void 0===(o="function"==typeof(r=i)?r.apply(t,a):r)||(e.exports=o))}).call(this,n(64)(e))},277:function(e,t,n){e.exports=function(){"use strict";var e=function(e){return t(e)&&!n(e)};function t(e){return!!e&&"object"==typeof e}function n(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||a(e)}var r="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function a(e){return e.$$typeof===r}function o(e){return Array.isArray(e)?[]:{}}function i(e,t){return!1!==t.clone&&t.isMergeableObject(e)?d(o(e),e,t):e}function c(e,t,n){return e.concat(t).map((function(e){return i(e,n)}))}function u(e,t){if(!t.customMerge)return d;var n=t.customMerge(e);return"function"==typeof n?n:d}function s(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}function l(e){return Object.keys(e).concat(s(e))}function p(e,t,n){var r={};return n.isMergeableObject(e)&&l(e).forEach((function(t){r[t]=i(e[t],n)})),l(t).forEach((function(a){n.isMergeableObject(t[a])&&e[a]?r[a]=u(a,n)(e[a],t[a],n):r[a]=i(t[a],n)})),r}function d(t,n,r){(r=r||{}).arrayMerge=r.arrayMerge||c,r.isMergeableObject=r.isMergeableObject||e;var a=Array.isArray(n);return a===Array.isArray(t)?a?r.arrayMerge(t,n,r):p(t,n,r):i(n,r)}return d.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return d(e,n,t)}),{})},d}()},334:function(e,t,n){"use strict";n.r(t),n.d(t,"initialize",(function(){return ne})),n.d(t,"ga",(function(){return re})),n.d(t,"set",(function(){return ae})),n.d(t,"send",(function(){return oe})),n.d(t,"pageview",(function(){return ie})),n.d(t,"modalview",(function(){return ce})),n.d(t,"timing",(function(){return ue})),n.d(t,"event",(function(){return se})),n.d(t,"exception",(function(){return le})),n.d(t,"plugin",(function(){return pe})),n.d(t,"outboundLink",(function(){return de})),n.d(t,"testModeAPI",(function(){return fe})),n.d(t,"OutboundLink",(function(){return me}));var r={};n.r(r),n.d(r,"initialize",(function(){return q})),n.d(r,"ga",(function(){return B})),n.d(r,"set",(function(){return G})),n.d(r,"send",(function(){return z})),n.d(r,"pageview",(function(){return W})),n.d(r,"modalview",(function(){return V})),n.d(r,"timing",(function(){return J})),n.d(r,"event",(function(){return K})),n.d(r,"exception",(function(){return $})),n.d(r,"plugin",(function(){return Q})),n.d(r,"outboundLink",(function(){return Z})),n.d(r,"testModeAPI",(function(){return X})),n.d(r,"default",(function(){return Y}));var a=n(0),o=n.n(a),i=n(2),c=n.n(i);function u(e){console.warn("[react-ga]",e)}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?y(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b="_blank",w=function(e){function t(){var e,n;d(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return h(y(n=m(this,(e=g(t)).call.apply(e,[this].concat(a)))),"handleClick",(function(e){var r=n.props,a=r.target,o=r.eventLabel,i=r.to,c=r.onClick,u=r.trackerNames,s={label:o},l=a!==b,p=!(e.ctrlKey||e.shiftKey||e.metaKey||1===e.button);l&&p?(e.preventDefault(),t.trackLink(s,(function(){window.location.href=i}),u)):t.trackLink(s,(function(){}),u),c&&c(e)})),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.to,n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},p(e,["to"]),{href:t,onClick:this.handleClick});return this.props.target===b&&(n.rel="noopener noreferrer"),delete n.eventLabel,delete n.trackerNames,o.a.createElement("a",n)}}])&&f(n.prototype,r),a&&f(n,a),t}(a.Component);function E(e){return e.replace(/^\s+|\s+$/g,"")}h(w,"trackLink",(function(){u("ga tracking not enabled")})),h(w,"propTypes",{eventLabel:c.a.string.isRequired,target:c.a.string,to:c.a.string,onClick:c.a.func,trackerNames:c.a.arrayOf(c.a.string)}),h(w,"defaultProps",{target:null,to:null,onClick:null,trackerNames:null});var O=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function T(e,t){return function(e){return"string"==typeof e&&-1!==e.indexOf("@")}(e)?(u("This arg looks like an email address, redacting."),"REDACTED (Potential Email Address)"):t?E(e).replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,(function(e,t,n){return t>0&&t+e.length!==n.length&&e.search(O)>-1&&":"!==n.charAt(t-2)&&("-"!==n.charAt(t+e.length)||"-"===n.charAt(t-1))&&n.charAt(t-1).search(/[^\s-]/)<0?e.toLowerCase():e.substr(1).search(/[A-Z]|\../)>-1?e:e.charAt(0).toUpperCase()+e.substr(1)})):e}function j(e){console.info("[react-ga]",e)}var k=[],_={calls:k,ga:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];k.push([].concat(t))},resetCalls:function(){k.length=0}};function C(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var A="undefined"==typeof window||"undefined"==typeof document,x=!1,L=!0,D=!1,M=!0,N=function(){var e;return D?_.ga.apply(_,arguments):!A&&(window.ga?(e=window).ga.apply(e,arguments):u("ReactGA.initialize must be called first or GoogleAnalytics should be loaded manually"))};function U(e){return T(e,L)}function H(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=n[0];"string"==typeof a?(!M&&Array.isArray(e)||N.apply(void 0,n),Array.isArray(e)&&e.forEach((function(e){N.apply(void 0,R(["".concat(e,".").concat(a)].concat(n.slice(1))))}))):u("ga command must be a string")}function F(e,t){e?t&&(t.debug&&!0===t.debug&&(x=!0),!1===t.titleCase&&(L=!1),t.useExistingGa)||(t&&t.gaOptions?N("create",e,t.gaOptions):N("create",e,"auto")):u("gaTrackingID is required in initialize()")}function q(e,t){if(t&&!0===t.testMode)D=!0;else{if(A)return!1;t&&!0===t.standardImplementation||function(e){var t,n,r,a,o,i,c,u="https://www.google-analytics.com/analytics.js";e&&e.gaAddress?u=e.gaAddress:e&&e.debug&&(u="https://www.google-analytics.com/analytics_debug.js"),t=window,n=document,r="script",a=u,o="ga",t.GoogleAnalyticsObject=o,t.ga=t.ga||function(){(t.ga.q=t.ga.q||[]).push(arguments)},t.ga.l=1*new Date,i=n.createElement(r),c=n.getElementsByTagName(r)[0],i.async=1,i.src=a,c.parentNode.insertBefore(i,c)}(t)}return M=!t||"boolean"!=typeof t.alwaysSendToDefaultTracker||t.alwaysSendToDefaultTracker,Array.isArray(e)?e.forEach((function(e){"object"===S(e)?F(e.trackingId,e):u("All configs must be an object")})):F(e,t),!0}function B(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length>0&&(N.apply(void 0,t),x&&(j("called ga('arguments');"),j("with arguments: ".concat(JSON.stringify(t))))),window.ga}function G(e,t){e?"object"===S(e)?(0===Object.keys(e).length&&u("empty `fieldsObject` given to .set()"),H(t,"set",e),x&&(j("called ga('set', fieldsObject);"),j("with fieldsObject: ".concat(JSON.stringify(e))))):u("Expected `fieldsObject` arg to be an Object"):u("`fieldsObject` is required in .set()")}function z(e,t){H(t,"send",e),x&&(j("called ga('send', fieldObject);"),j("with fieldObject: ".concat(JSON.stringify(e))),j("with trackers: ".concat(JSON.stringify(t))))}function W(e,t,n){if(e){var r=E(e);if(""!==r){var a={};if(n&&(a.title=n),H(t,"send",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(n,!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({hitType:"pageview",page:r},a)),x){j("called ga('send', 'pageview', path);");var o="";n&&(o=" and title: ".concat(n)),j("with path: ".concat(r).concat(o))}}else u("path cannot be an empty string in .pageview()")}else u("path is required in .pageview()")}function V(e,t){if(e){var n,r="/"===(n=E(e)).substring(0,1)?n.substring(1):n;if(""!==r){var a="/modal/".concat(r);H(t,"send","pageview",a),x&&(j("called ga('send', 'pageview', path);"),j("with path: ".concat(a)))}else u("modalName cannot be an empty string or a single / in .modalview()")}else u("modalName is required in .modalview(modalName)")}function J(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.category,n=e.variable,r=e.value,a=e.label,o=arguments.length>1?arguments[1]:void 0;if(t&&n&&r&&"number"==typeof r){var i={hitType:"timing",timingCategory:U(t),timingVar:U(n),timingValue:r};a&&(i.timingLabel=U(a)),z(i,o)}else u("args.category, args.variable AND args.value are required in timing() AND args.value has to be a number")}function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.category,n=e.action,r=e.label,a=e.value,o=e.nonInteraction,i=e.transport,c=C(e,["category","action","label","value","nonInteraction","transport"]),s=arguments.length>1?arguments[1]:void 0;if(t&&n){var l={hitType:"event",eventCategory:U(t),eventAction:U(n)};r&&(l.eventLabel=U(r)),void 0!==a&&("number"!=typeof a?u("Expected `args.value` arg to be a Number."):l.eventValue=a),void 0!==o&&("boolean"!=typeof o?u("`args.nonInteraction` must be a boolean."):l.nonInteraction=o),void 0!==i&&("string"!=typeof i?u("`args.transport` must be a string."):(-1===["beacon","xhr","image"].indexOf(i)&&u("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),l.transport=i)),Object.keys(c).filter((function(e){return"dimension"===e.substr(0,"dimension".length)})).forEach((function(e){l[e]=c[e]})),Object.keys(c).filter((function(e){return"metric"===e.substr(0,"metric".length)})).forEach((function(e){l[e]=c[e]})),z(l,s)}else u("args.category AND args.action are required in event()")}function $(e,t){var n=e.description,r=e.fatal,a={hitType:"exception"};n&&(a.exDescription=U(n)),void 0!==r&&("boolean"!=typeof r?u("`args.fatal` must be a boolean."):a.exFatal=r),z(a,t)}var Q={require:function(e,t,n){if(e){var r=E(e);if(""!==r){var a=n?"".concat(n,".require"):"require";if(t){if("object"!==S(t))return void u("Expected `options` arg to be an Object");0===Object.keys(t).length&&u("Empty `options` given to .require()"),B(a,r,t),x&&j("called ga('require', '".concat(r,"', ").concat(JSON.stringify(t)))}else B(a,r),x&&j("called ga('require', '".concat(r,"');"))}else u("`name` cannot be an empty string in .require()")}else u("`name` is required in .require()")},execute:function(e,t){var n,r;if(1==(arguments.length<=2?0:arguments.length-2)?n=arguments.length<=2?void 0:arguments[2]:(r=arguments.length<=2?void 0:arguments[2],n=arguments.length<=3?void 0:arguments[3]),"string"!=typeof e)u("Expected `pluginName` arg to be a String.");else if("string"!=typeof t)u("Expected `action` arg to be a String.");else{var a="".concat(e,":").concat(t);n=n||null,r&&n?(B(a,r,n),x&&(j("called ga('".concat(a,"');")),j('actionType: "'.concat(r,'" with payload: ').concat(JSON.stringify(n))))):n?(B(a,n),x&&(j("called ga('".concat(a,"');")),j("with payload: ".concat(JSON.stringify(n))))):(B(a),x&&j("called ga('".concat(a,"');")))}}};function Z(e,t,n){if("function"==typeof t)if(e&&e.label){var r={hitType:"event",eventCategory:"Outbound",eventAction:"Click",eventLabel:U(e.label)},a=!1,o=setTimeout((function(){a=!0,t()}),250);r.hitCallback=function(){clearTimeout(o),a||t()},z(r,n)}else u("args.label is required in outboundLink()");else u("hitCallback function is required")}var X=_,Y={initialize:q,ga:B,set:G,send:z,pageview:W,modalview:V,timing:J,event:K,exception:$,plugin:Q,outboundLink:Z,testModeAPI:_};function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ne=q,re=B,ae=G,oe=z,ie=W,ce=V,ue=J,se=K,le=$,pe=Q,de=Z,fe=X;w.origTrackLink=w.trackLink,w.trackLink=Z;var me=w;t.default=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(n,!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r,{OutboundLink:me})},706:function(e,t,n){(function(e){var r,a,o,i;function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}i=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==c(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=56)}([function(e,t){e.exports=n(0)},function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"isBetweenTwoTextBlocks",(function(){return c})),n.d(r,"isLastIndexOfArray",(function(){return u})),n.d(r,"shouldInjectFirstSideAd",(function(){return s})),n.d(r,"isRightNumberOfWordsForTeads",(function(){return l})),n.d(r,"getWordCountFromLastIndexOfTypeToEndOfArray",(function(){return p})),n.d(r,"getWordCountFromCurrentIdxToEnd",(function(){return d})),n.d(r,"shouldInjectLastAd",(function(){return f})),n.d(r,"isDigitekaEnabled",(function(){return m})),n.d(r,"isTypeInjected",(function(){return g})),n.d(r,"shouldInjectDigiteka",(function(){return y})),n.d(r,"hasRuleBeenInjected",(function(){return v})),n.d(r,"shouldInjectSubscriptionOrNewsletter",(function(){return h}));var a={};n.r(a),n.d(a,"GET_RENDER_TYPE",(function(){return k})),n.d(a,"renderType",(function(){return _})),n.d(a,"getRenderTypeFromReq",(function(){return C}));var o=n(2),i=n.n(o),c=function(e){var t=e.currentType,n=e.nextType;return"TEXT"===t&&"TEXT"===n},u=function(e){return e.bodyIndex===e.bodyElements.length-1},s=function(e){var t=e.bodyIndex,n=e.currentRuleInjectedComponentCount,r=e.bodyElements,a=!1;return u({bodyIndex:t,bodyElements:r})&&0===n&&(a=!0),a},l=function(e){var t=e.currentWordCount,n=e.teadsCount,r=e.props.adSettings.minNumOfWordsBeforeTeads;return!(!r&&0!==r)&&0===n&&t>=r},p=function(e){for(var t,n=e.injectedArray,r=e.typeToStartCount,a=n.length-1;a>0;a--){var o=void 0;if(n[a].type===r&&(o=n.slice(a+1)),o){t=o.reduce((function(e,t){return t.wordCount?e+t.wordCount:e}),0);break}}return t},d=function(e){var t,n=e.bodyIndex,r=e.bodyElements.slice(n+1);return r&&(t=r.reduce((function(e,t){return t.wordCount?e+t.wordCount:e}),0)),t},f=function(e){var t=e.injectedArray,n=e.mobile,r=e.props.adSettings,a=e.typeToStartCount,o=void 0===a?"DESKTOP_INLINE_ADVERT":a,i=r.minNumOfWordsAfterLastInlineAdDesktop,c=r.minNumOfWordsAfterLastInlineAdMobile;return!(!i&&0!==i&&!c&&0!==c)&&(n?p({injectedArray:t,typeToStartCount:o})>=c:p({injectedArray:t,typeToStartCount:o})>=i)},m=function(e){var t=e.monetising;return t&&t.some((function(e){return"digiteka"===e.service&&e.enabled}))},g=function(e){var t=e.injectedArray,n=e.typeName;return t.find((function(e){return e.type===n}))},y=function(e){var t=e.beforeDigitekaAd,n=e.currentRuleInjectedComponentCount,r=e.currentWordCount,a=e.monetising;return m({monetising:a})&&0===n&&r>=t},v=function(e){return e>=1},h=function(e){var t,n=e.options,r=e.viewport,a=e.component,o=n.currentRuleComponentTypeWordCount,i=n.currentRuleInjectedComponentCount,u=n.currentType,s=n.nextType,l=n.props.adSettings,p=l.beforeInlineSubsMobileAds,d=l.beforeInlineSubsDesktopAds,f=l.beforeInlineNewsletterMobileAds,m=l.beforeInlineNewsletterDesktopAds;if("newsletter"===a){if("mobile"===r){if(f===p)return!1;t=f}else if("desktop"===r){if(m===d)return!1;t=m}}else if("subscription"===a)if("mobile"===r){if(f===p)return!1;t=p}else if("desktop"===r){if(m===d)return!1;t=d}return!(!t&&0!==t)&&!v(i)&&!1!==c({currentType:u,nextType:s})&&o>t},b=n(14),w=n.n(b),E=n(0),O=n.n(E),T=n(10);function j(){var e=w()(["\n  {\n    renderType @client\n  }\n"]);return j=function(){return e},e}var k=Object(T.gql)(j()),_=function(e){return function(t){if(void 0===e.default)throw new Error("Please include a default rendertype Component");var n=Object(T.useQuery)(k),r=n.loading,a=n.error,o=n.data;if(r)return"Loading...";if(a)return"Error!";var i=o.renderType,c=e[i]?e[i]:e.default;return O.a.createElement(c,t)}},C=function(e){return void 0!==e.query.amp?"amp":"default"},I=n(40),P=n(41),S=n(34),R=n.n(S),A=n(42),x=n(31),L=n(24);function D(){var e=w()(["\n        {\n          config\n        }\n      "]);return D=function(){return e},e}var M=Object(P.onError)((function(e){var t=e.graphQLErrors,n=e.networkError;t&&t.map((function(e){var t=e.message;return console.log(t)})),n&&console.log(n)})),N=function(e){var t=e.zephrEnableGraphql,n=e.prod,r=e.siteUrl;return t&&n&&!function(e){return["develop.coreapp","staging.coreapp","preprod.coreapp"].find((function(t){return e.includes(t)}))}(void 0===r?"":r)?"include":"same-origin"},U=function(e){var t=e.credentials,n=e.state,r=void 0===n?null:n,a=e.ssr,o=void 0===a||a,c=e.prod,u=void 0!==c&&c,s=(e.defaults,e.schemaFragment),l=void 0===s?null:s,p=new I.InMemoryCache({possibleTypes:l,typePolicies:{NestedMetadata:{keyFields:[["key","value"]]}}});r&&p.restore(r);var d={};if(!o){var f=p.readQuery({query:L.a}).config;d=Object(x.c)(JSON.parse(f)),p.writeQuery({query:Object(T.gql)(D()),data:{config:JSON.stringify(d)}})}var m=t.type,g=t.uri,y=R.a;"aws"===m&&(y=function(e,t){var n=e.accessKeyId,r=e.secretAccessKey,a=e.region,o=e.proxyedUri;return function(e,c){var u=new URL(o||e),s=new URL(e),l=s.hostname,p=s.pathname,d=Object(A.sign)({service:"appsync",region:a,host:u.hostname,path:u.pathname,method:c.method,body:c.body,headers:c.headers},{accessKeyId:n,secretAccessKey:r});delete d.headers.Host,delete d.headers["Content-Length"];var f=i()({},d,{headers:i()({},d.headers),credentials:N(t),host:l,path:p});return R()(e,f)}}(t,d));var v=Object(T.createHttpLink)({uri:g,fetch:y});return new T.ApolloClient({link:T.ApolloLink.from([M,v]),assumeImmutableResults:!0,cache:p,ssrMode:o,connectToDevTools:!o&&!u,defaultOptions:{query:{fetchPolicy:"cache-first",errorPolicy:"all"},watchQuery:{fetchPolicy:"cache-first",errorPolicy:"all"}},resolvers:{},credentials:N(d)})},H=n(33);function F(e){var t=[];return e.forEach((function(e){t.push({platform:"mobile",dpi:e},{platform:"desktop",dpi:e})})),t}var q=n(12),B=n.n(q);function G(e){for(var t=e.transformsConfig,n=void 0===t?{}:t,r=e.transformationTypeName,a=e.platform,o=void 0===a?"mobile":a,i=e.dpi,c=void 0===i?1:i,u=e.originalWidth,s=e.originalHeight,l=n&&"object"===B()(n)&&Object.keys(n).length>0,p="".concat(r,"-").concat(o),d=l&&n[p];d&&"string"==typeof d;)d=n[d];var f=u/s,m=l&&d&&d[0]||0,g=l&&d&&d[1]||0;return{width:(0===m&&f?f*g:m)*c,height:(0===g&&f?m/f:g)*c}}function z(e){var t=e.transformsConfig,n=e.resolutions,r=e.mobileBreakpoint,a=e.transformationTypeName,o=e.originalWidth,i=e.originalHeight;return F(n).map((function(e){var n=e.platform,c=e.dpi,u=G({transformsConfig:t,transformationTypeName:a,platform:n,dpi:c,originalWidth:o,originalHeight:i}).width;if(!u)return!1;var s=[];return"desktop"===n?s.push("min-width: ".concat(r,"px")):s.push("max-width: ".concat(r,"px")),c>1&&s.push("min-resolution: ".concat(c,"dppx")),"(".concat(s.join(") and ("),") ").concat(u,"px")})).filter((function(e){return e})).concat("".concat(G({transformsConfig:t,transformationTypeName:a,originalWidth:o,originalHeight:i}).width,"px"))}var W=function(e){var t=e.images,n=void 0===t?{}:t;return function(e,t,r,a){var o,i,c,u=n.cloudinaryKey,s=n.cloudinaryTransforms,l=n.resolutions,p=void 0===l?[1]:l,d=n.mobileBreakpoint,f=void 0===d?360:d,m=F(p),g=G({transformsConfig:s,transformationTypeName:t,originalWidth:r,originalHeight:a});o=g.width,i=g.height;try{(c=new URL(e)).host=u}catch(e){console.warn("Invalid image url provided")}if(!s||!u||!c)return function(e,t,n){var r=function(e){return 0===e};return{src:e,srcSet:[],sizes:[],width:!r(t)&&t,height:!r(n)&&n}}(e,o,i);var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mobile",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r="f_auto,t_".concat(t,"-").concat(e,"@").concat(n),a=new URL(c.toString()),o=a.pathname.split("/"),i=o.findIndex((function(e){return/^v\d+$/.test(e)}));return o.splice(Math.max(i,3),0,r),a.pathname=o.join("/"),a.toString()},v=m.map((function(e){var n=e.platform,o=e.dpi,i=G({transformsConfig:s,transformationTypeName:t,platform:n,dpi:o,originalWidth:r,originalHeight:a});return"".concat(y(n,o)," ").concat(i.width,"w")}));return{src:y(),srcSet:v,sizes:z({transformsConfig:s,resolutions:p,mobileBreakpoint:f,transformationTypeName:t}),width:o,height:i}}},V=function(e){for(var t=document.cookie.split(";"),n="".concat(e,"="),r=0;r<t.length;r++){for(var a=t[r];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(n))return a.substring(n.length,a.length)}return null},J=function(e,t){document.cookie="".concat(e,"=").concat(t)},K=function(e){document.cookie="".concat(e,"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;")};n(36),n(6);var $=n(37),Q=n.n($),Z=n(3),X=n.n(Z),Y=["a","abbr","address","b","blockquote","caption","cite","dd","del","div","dl","dt","em","h2","h3","h4","h5","h6","hr","i","iframe","img","li","ol","p","picture","pre","q","s","small","span","strike","strong","sub","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul"],ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];return Q()(e,{transform:function(e){var r=e.type,a=e.data;"text"===r&&n.push(t?a:a.trim())}}),t?n.join(""):n.join(" ").replace(/ {2,}/," ")},te=function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Y,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return O.a.createElement(E.Fragment,null,Q()(e,{transform:function(e){if("tag"===e.type){if(!t.includes(e.name))return null;if(Object.keys(n).includes(e.name)){var r=n[e.name];if(O.a.isValidElement(r))return r;if("function"==typeof r)return r(e);console.warn("Invalid transform for node ".concat(e.name,", skipping render."))}}}}))}(e.html,e.allowedTags,e.transforms)};te.propTypes={html:X.a.string.isRequired,allowedTags:X.a.arrayOf(X.a.string),transforms:X.a.object},te.defaultProps={allowedTags:Y,transforms:{}};var ne=function(e){var t=e.html,n=e.keepWhitespace;return ee(t,n)};ne.propTypes={html:X.a.string.isRequired,keepWhitespace:X.a.bool},ne.defaultProps={keepWhitespace:!1};var re,ae,oe,ie=function(e){if(!e||!e.length)return"";var t=e.filter((function(e){return"TEXT"===e.type})).reduce((function(e,t){return"".concat(e," ").concat(t.data)}),"");return ee(t).trim()},ce=(re={},ae=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;re[e]?(re[e].currentItemCount+=t||1,re[e].totalItemCount+=t||1):function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;re[e]={currentItemCount:t||1,totalItemCount:t||1}}(e,t)},{addToCurrentItemTypeCount:function(e,t){return ae(e,t)},getCurrentItemTypeTotalCount:function(e){return function(e){return re[e]?re[e].totalItemCount:0}(e)},getCurrentItemTypeCurrentCount:function(e){return function(e){return re[e]?re[e].currentItemCount:0}(e)},resetCurrentCount:function(e){return function(e){return re[e]&&(re[e].currentItemCount=0),""}(e)},deleteItems:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e);if(0===t.length)return null;t.forEach((function(t){return delete e[t]}))}(re)}}),ue=(oe=[],{add:function(e){return oe.push(e)},delete:function(){oe=[]},get:function(){return oe}}),se=function(e){var t=e.body,n=e.rules,r=e.amp,a=void 0!==r&&r,o=e.props;return n?(function(e,t,n,r){ue.delete(),e.forEach((function(e,a,o){var c=e.type,u=e.wordCount;ue.add(e),function(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},c=arguments.length>6?arguments[6]:void 0;ce.addToCurrentItemTypeCount(a),"TEXT"===a&&ce.addToCurrentItemTypeCount("wordCount",c),e.forEach((function(e){var u=e.componentType,s=e.condition,l=e.component,p=e.id,d=e.resetCurrentItemTypeCurrentCounter,f=void 0!==d&&d;p&&"TEXT"===a&&c&&c>0&&ce.addToCurrentItemTypeCount("".concat(p,".wordCount"),c);var m=ce.getCurrentItemTypeTotalCount(u),g=ce.getCurrentItemTypeCurrentCount("".concat(p,".wordCount"));if(s({amp:t,bodyElements:n,bodyIndex:r,currentRuleInjectedComponentCount:m,currentRuleComponentTypeWordCount:g,currentType:a,currentTypeCurrentCount:ce.getCurrentItemTypeCurrentCount(a),currentTypeTotalCount:ce.getCurrentItemTypeTotalCount(a),injectedArray:ue.get(),nextType:n[r+1]?n[r+1].type:null,prevType:n[r-1]?n[r-1].type:null,props:o,totalWordCount:ce.getCurrentItemTypeCurrentCount("wordCount")})){ce.addToCurrentItemTypeCount(u);var y=ce.getCurrentItemTypeTotalCount(u);l(i()({},o,{componentCount:y})).forEach((function(e){return ue.add(e)})),f&&(ce.resetCurrentCount(a),ce.resetCurrentCount("".concat(p,".wordCount")))}}))}(t,n,o,a,c,r,u)}))}(t,n,a,void 0===o?{}:o),ce.deleteItems(),ue.get()):t},le=(n(38),function(e,t){return t[e]||t.notFound}),pe=function(e){var t=e.status.code;return 404===t?"notFound":200!==t?"error":e.page.contentType},de=function(e,t){var n=pe(e);return le(n,t)},fe=n(9),me=n.n(fe),ge={"RUNNING SERVER ERROR":"COREWEB-500","OPTIMISING CSS ERROR":"COREWEB-501","RENDERING ERROR":"COREWEB-502","WRAPPED LAYOUT ERROR ":"COREWEB-503","PAGINATION ERROR":"COREWEB-504","PPC TRACKING ERROR":"COREWEB-505","ZEPHR ERROR":"COREWEB-506","EXTRACTOR COLLECTING CHUNKS ERROR":"I AM WILL AND I CANT BE BOTHERED TO READ THE FUNCTION DOCS","HTTP ERROR":"COREWEB-520","PREFETCH PROVIDER ERROR":"COREWEB-521","FETCHING SCHEMA ERROR":"COREWEB-522","LOADING SCHEMA ERROR":"COREWEB-523","AD REFRESH ERROR":"COREWEB-530","THIRD PARTY CALL":"COREWEB-600","REACT-GA ERROR":"COREWEB-601"},ye=function(e){var t=e.description,n=e.error,r=e.info,a=e.logToConsole,o=void 0!==a&&a,c=e.logToAPM,u=void 0===c||c,s=e.meta,l=e.type,p=ge[t];if(o){var d;switch(void 0===l?"error":l){case"error":!function(e){"undefined"!=typeof window&&e&&me.a.ga("send",{hitType:"event",eventCategory:"System",eventAction:"Site error",eventLabel:e,nonInteraction:!0})}(n),d="pink";break;case"warn":d="lightyellow";break;default:d="lightgreen"}n?(console.table(i()({description:t,name:n.name,message:n.message},n.trace&&{trace:n.trace},r,s)),n.stack&&console.log(n.stack)):(console.log("%c".concat(t),"color: black; background: ".concat(d)),console.log("%c".concat(p),"color: black; background: ".concat(d)),console.table(s))}u&&function(e){var t=e.eventID,n=void 0===t?"":t,r=e.error,a={duration:e.duration,timestamp:e.timestamp,backendTraceId:e.backendTraceId,error:r,componentStack:e.componentStack,meta:e.meta};r&&(a.error=r),"undefined"!=typeof window&&window.ineum&&window.ineum("reportEvent",n,a)}({eventID:p,timestamp:Date.now(),backendTraceId:p,error:n,componentStack:r&&r.componentStack,meta:s})},ve=function(e){if(!e.location)return"/";var t=e.location,n=t.pathname,r=t.search,a=e.config.allowApiParams,o="/";if(n&&(o=n).endsWith("/")&&(o=o.slice(0,-1)),!r)return o;var i=new URLSearchParams(r),c=Math.max(0,Number.parseInt(i.get("page"),10));i.delete("page"),c&&i.set("page",String(c));var u=i.toString();return u?a?c?(i.delete("page"),"".concat(o,"?page=").concat(c,"&").concat(i.toString())):"".concat(o,"?").concat(i.toString()):c?"".concat(o,"?page=").concat(c):"".concat(o,"?").concat(u):o},he=function(e){var t=new RegExp(/\/page\/(\d+)\/?|[?&]page=(\d+)/,"i").exec(e);return t&&3===t.length?Math.max(Number.parseInt(t[1]||t[2],10),1):1},be=function(e,t){var n=t.replace(/\/page\/\d+|[?&]page=\d+/,"").replace(/\/$/,"");return n||(n="/"),e<=1?n:"".concat(n,"?page=").concat(e)},we=n(50).parse,Ee=n(51).print,Oe=function(e,t){var n=Ee(e).replace(/[\w\W]+?\n+?/,"").slice(0,-2),r=Ee(t).replace(/[\w\W]+?\n+?/,"").slice(0,-2),a="query RootQuery($url: String!, $limit: Int = 24) {\n      ".concat(r,"\n      ").concat(n,"\n  }");return we(a)};function Te(){var e=w()(['query RootQuery($url: String!, $limit: Int = 24) {\n  getContentByUrl: getIndexPageByUrl(url: $url, limit: $limit) @connection(key: "RootQuery", filter: ["url", "limit"]) {\n    status {\n      code\n      location\n      noAmp\n      noIndex\n      prefetch {\n        id\n        url\n        contentType\n      }\n    }\n    page {\n      id\n      url\n      contentType\n      ... on Article { \n        isIndexArticlePage \n      }\n      ... on Review { \n        isIndexArticlePage \n      }\n      metaData {\n        meta {\n          key\n          value\n        }\n        dataLayer {\n          key\n          value\n        }\n        hreflang {\n          key\n          value\n        }\n      }\n    }\n    pagination {\n      currentPage\n      totalPages\n    }\n  }\n}']);return Te=function(){return e},e}var je=Object(T.gql)(Te()),ke=function(e){var t,n=e.callback,r=e.params,a=void 0===r?{}:r;try{t=n(a)}catch(e){var o;if("undefined"!=typeof window&&(o=window&&window.location.search.includes("show-logged-data")),o){var i=n.unminifiedName||n.name;ye({description:"Callback ".concat(i," failed with"),error:e,meta:{function:"tryCallback"},type:"log",logToAPM:!1});var c=Object.keys(a);c.length>0&&c.forEach((function(e){ye({description:"key: ",error:e,logToAPM:!1}),ye({description:"value: ",error:a[e],logToAPM:!1})}))}}return t},_e=function(e){var t=e.fullUrl,n=e.canonicalUrl,r=e.siteUrl;if(!n)return null;var a=n;return n.startsWith(r)||(a=t),a+"".concat(a.split("?")[1]?"&":"?","amp")};_e.unminifiedName="getAmpUrl";var Ce=n(43),Ie=n.n(Ce),Pe=n(7),Se=n.n(Pe),Re=function(e){var t,n=e.page,r=e.siteUrl,a=e.fullUrl,o=e.protocol,i=Se()(n,"metaData.meta",[]),c=i&&i.find((function(e){return"canonical"===e.key})),u=c&&c.value,s=c&&Ie()(c);return{canonicalWithOrigin:(t=u,t?t.startsWith("/")&&!t.startsWith("//")?"".concat(r).concat(t):u.startsWith("http")?t:"".concat(o,"://").concat(u):null),fallbackCanonicalUrl:a,canonicalMetaObj:s}};Re.unminifiedName="getCanonicalData";var Ae=function(e){var t=e.fullUrl,n=e.page,r=e.protocol,a=e.siteUrl,o=qe({fullUrl:t,page:n,protocol:r,siteUrl:a}),i=o.canonicalWithOrigin,c=o.fallbackCanonicalUrl;return Ge({urlString:i||c})};Ae.unminifiedName="getStrippedCanonicalUrl";var xe=function(e){var t=e.urlString,n=e.baseUrl;if(!t)return null;var r=n?new URL(t,n):new URL(t),a=r.searchParams.get("page");return r.search=a?"?page=".concat(a):"",r.toString()};xe.unminifiedName="stripUrlParams";var Le=function(e){var t=e.fullUrl,n=e.page;return!!t&&!(!n.isIndexArticlePage||!1===n.isIndexArticlePage)&&!!new URL(t).searchParams.get("page")};Le.unminifiedName="isIndexPageAndHasPageParameter";var De=function(e){return e.replace(/^\/|\/$/g,"")},Me=function(e){return RegExp("^(?:[a-z]+:)?//","i").test(e)},Ne=function(e){var t=new URLSearchParams(e);return{utm_medium:t.get("utm_medium"),utm_source:t.get("utm_source"),utm_campaign:t.get("utm_campaign")}},Ue=function(e){return Object.values(e).find((function(e){return"undefined"!==e&&null!==e&&""!==e}))},He=function(e){var t=e||"debug";return"undefined"!=typeof window&&window.location.search.includes(t)},Fe=function(e){return ke({callback:_e,params:e})},qe=function(e){return ke({callback:Re,params:e})},Be=function(e){return ke({callback:Ae,params:e})},Ge=function(e){return ke({callback:xe,params:e})},ze=function(e){return ke({callback:Le,params:e})},We=function(e,t){var n={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)};return fetch(t,n).then((function(e){return e.json()})).catch((function(e){console.error(e)}))},Ve=n(5),Je=n.n(Ve),Ke=function(e){return e&&0!==Object.entries(e).length?e.reduce((function(e,t){var n=t.key,r=t.value;return i()(Je()({},n,r),e)}),{}):{}};n.d(t,"v",(function(){return $e})),n.d(t,"g",(function(){return U})),n.d(t,"i",(function(){return H.getCdnUrls})),n.d(t,"t",(function(){return W})),n.d(t,"j",(function(){return V})),n.d(t,"F",(function(){return J})),n.d(t,"e",(function(){return K})),n.d(t,"s",(function(){return ee})),n.d(t,"a",(function(){return te})),n.d(t,"c",(function(){return ie})),n.d(t,"u",(function(){return se})),n.d(t,"m",(function(){return le})),n.d(t,"n",(function(){return pe})),n.d(t,"l",(function(){return de})),n.d(t,"A",(function(){return ye})),n.d(t,"k",(function(){return ve})),n.d(t,"p",(function(){return he})),n.d(t,"q",(function(){return be})),n.d(t,"C",(function(){return _})),n.d(t,"D",(function(){return Oe})),n.d(t,"b",(function(){return je})),n.d(t,"H",(function(){return ke})),n.d(t,"f",(function(){return Fe})),n.d(t,"h",(function(){return qe})),n.d(t,"r",(function(){return Be})),n.d(t,"G",(function(){return Ge})),n.d(t,"y",(function(){return ze})),n.d(t,"B",(function(){return De})),n.d(t,"z",(function(){return Me})),n.d(t,"o",(function(){return Ne})),n.d(t,"w",(function(){return Ue})),n.d(t,"x",(function(){return He})),n.d(t,"E",(function(){return We})),n.d(t,"d",(function(){return Ke}));var $e=i()({},r);i()({},a)},function(e,t){e.exports=n(245)},function(e,t){e.exports=n(2)},function(e,t){e.exports=n(246)},function(e,t){e.exports=n(183)},function(e,t){e.exports=n(247)},function(e,t){e.exports=n(21)},function(e,t){e.exports=n(250)},function(e,t){e.exports=n(334)},function(e,t){e.exports=n(133)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=function(e,t){if(!e&&t){var n=ce([1,2,3,4,5,6,9,10]);Object(r.useEffect)((function(){if(n){var e=document.createElement("script");return e.src=t,e.async=!0,document.head.append(e),function(){document.head.removeChild(e)}}}),[n])}},i=n(6),c=n.n(i),u=function(e){if(!e){var t=Object(r.useState)(!1),n=c()(t,2),a=n[0],o=n[1],i=ce([1]);Object(r.useEffect)((function(){if(i){var e=document.createElement("script");return e.type="text/javascript",e.id="consentag-script",e.src="https://consentag.eu/public/3.0.1/consenTag.js",e.async=!0,e.defer=!0,e.onload=function(){return o(!0)},document.body.append(e),function(){document.body.removeChild(e)}}}),[i]),Object(r.useEffect)((function(){!0===a&&void 0!==window.__tcfapi&&window.__tcfapi("getTCData",2,(function(e,t){window.consenTag&&window.consenTag.init({containerId:"70845290",silentMode:!0},!!t&&e.tcString)}))}),[a])}},s=n(17),l=n.n(s),p=n(18),d=n.n(p),f=n(19),m=n.n(f),g=n(20),y=n.n(g),v=n(21),h=n.n(v),b=n(5),w=n.n(b),E=(n(3),n(1)),O=n(16),T=function(e){function t(e){var n;l()(this,t),n=m()(this,y()(t).call(this,e));var r=e.config.hasError,a=void 0!==r&&r;return n.state={hasError:a},n}return h()(t,e),d()(t,[{key:"componentDidCatch",value:function(e,t){var n=this.props.prod;Object(E.A)({description:"WRAPPED LAYOUT ERROR",logToConsole:!n||n&&Object(E.x)(),error:e,info:t,meta:{file:"ErrorHandler.js",function:"componentDidCatch"}})}},{key:"render",value:function(){var e=this.state.hasError,t=this.props,n=t.children,r=t.layouts,o=t.config;if(e){var i=Object(E.m)("error",r);return a.a.createElement(i,{config:o})}return n}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(a.a.Component);w()(T,"defaultProps",{children:null,prod:!1});var j=Object(O.a)(T),k=function(e){var t=e.id;return a.a.createElement(a.a.Fragment,null,a.a.createElement("style",{dangerouslySetInnerHTML:{__html:".async-hide { opacity: 0 !important }"}}),a.a.createElement("script",{dangerouslySetInnerHTML:{__html:"(function(a,s,y,n,c,h,i,d,e){s.className+=' '+y;h.start=1*new Date;\n      h.end=i=function(){s.className=s.className.replace(RegExp(' ?'+y),'')};\n      (a[n]=a[n]||[]).hide=h;setTimeout(function(){i();h.end=null},c);\n      h.timeout=c;})(window,document.documentElement,'async-hide','dataLayer',4000,{'".concat(t,"':true});")}}))},_=function(e){var t=e.id;return a.a.createElement("script",{dangerouslySetInnerHTML:{__html:"\n          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n          })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');\n          \n          ga('create', '".concat(t,"', 'auto', {\n            allowLinker: true,\n          });\n    ")}})},C=n(12),I=n.n(C),P=function(e){return e.reduce((function(e,t){var n=t.key,r=t.value;return Object.assign(e,w()({},n,r.replace(/[\n|\r|\t]+/g,"")))}),{})},S=function(e){var t=e.id;return a.a.createElement("script",{dangerouslySetInnerHTML:{__html:"\n    window.addEventListener('load', () => {\n      (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n      'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n      })(window,document,'script','dataLayer','".concat(t,"');\n    });\n    ")}})},R=function(e){var t,n=e.id,r=e.dataLayer;return a.a.createElement("noscript",{dangerouslySetInnerHTML:{__html:'\n      <iframe\n        title="GtmNoScript"\n        src="https://www.googletagmanager.com/ns.html?id='.concat(n,"&").concat((t=P(r),Object.keys(t).reduce((function(e,n){return e.push("".concat(n,"=").concat(encodeURIComponent(t[n]))),e}),[]).join("&")),'"\n        height="0"\n        width="0"\n        style="display: none; visibility: hidden"\n      ></iframe>\n    ')}})},A=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("script",{src:"https://unpkg.com/web-vitals@3/dist/web-vitals.iife.js"}),a.a.createElement("script",{dangerouslySetInnerHTML:{__html:"\n          function sendToGTM(name, delta, id) {\n              ononline = dataLayer.push({\n                  event: 'web-vitals',\n                  event_category: 'Performance',\n                  event_action: name.name,\n                  event_value: Math.round(name.name === 'CLS' ? name.delta * 1000 : name.delta),\n                  event_label: name.id\n              });\n          }\n          if(typeof webVitals !== undefined){\n            webVitals.onCLS(sendToGTM);\n            webVitals.onFID(sendToGTM);\n            webVitals.onLCP(sendToGTM);\n            webVitals.onFCP(sendToGTM);\n            webVitals.onTTFB(sendToGTM);\n          }\n      "}}))},x=n(2),L=n.n(x),D=n(32),M=n.n(D),N=n(7),U=n.n(N),H=function(e){var t=function(t){var n=t.data,o=n.page,i=n.status,c=t.config.globalSettings.googleTagManager,u=Object(r.useContext)(dt),s=M()(U()(o,"metaData.dataLayer",[]));return Object(r.useEffect)((function(){i&&i.code&&404===i.code&&s.push({key:"pageType",value:"404"}),window.dataLayer||(window.dataLayer=[]),c&&c.id&&function(e){"object"===I()(window.google_tag_manager)&&e&&"object"===I()(window.google_tag_manager[e])&&window.google_tag_manager[e].dataLayer.reset()}(c.id),window.dataLayer.push(L()({event:"page-metadata-ready"},P(s),{pageviewGUID:u}))}),[s,u]),a.a.createElement(e,t)};return t.defaultProps={data:{page:{metaData:{dataLayer:[]}}},config:{globalSettings:{googleTagManager:{}}}},t.displayName="withDataLayer()",t},F=n(4),q=n.n(F),B=function(){return a.a.createElement("script",{dangerouslySetInnerHTML:{__html:"\n    // FOR TESTING check we are on the test page\n    if(window.googletag && window.location.href.includes('/bmw/1-series/108073/hatchback')) {\n\n      // flag holding callback state\n      window.bcDFPCallbackCalled = false;\n\n      // failsafe after 2 seconds\n      setTimeout(function() {\n        window.bcDFPCallback([]);\n      }, 2000);\n\n      window.bcDFPCallback = function(targetingParameters) {\n        if (window.bcDFPCallbackCalled) {\n          // callback already called\n          return;\n        }\n        window.bcDFPCallbackCalled = true;\n\n        for (const param of targetingParameters) {\n          window.googletag.pubads().setTargeting(param.key, param.value.join());\n        }\n      }\n    }\n    "}})},G=function(e){return e.urls.map((function(e,t){return a.a.createElement("script",{src:e,key:t})}))},z=function(e){var t=e.content,n=e.cssString,r=e.dataLayer,o=e.favicon,i=void 0===o?null:o,c=e.googleAnalytics,u=e.helmetData,s=e.permutive,l=e.sourcepoint;return a.a.createElement("html",{amp:"true",lang:"en"},a.a.createElement("head",null,a.a.createElement("meta",{charSet:"utf-8"}),i&&a.a.createElement("link",{rel:"icon",type:"image/x-icon",href:i}),a.a.createElement("script",{async:!0,src:"https://cdn.ampproject.org/v0.js"}),a.a.createElement("script",{async:!0,"custom-element":"amp-consent",src:"https://cdn.ampproject.org/v0/amp-consent-0.1.js"}),a.a.createElement("script",{async:!0,"custom-element":"amp-geo",src:"https://cdn.ampproject.org/v0/amp-geo-0.1.js"}),a.a.createElement("script",{async:!0,"custom-element":"amp-bind",src:"https://cdn.ampproject.org/v0/amp-bind-0.1.js"}),a.a.createElement("script",{async:!0,"custom-element":"amp-analytics",src:"https://cdn.ampproject.org/v0/amp-analytics-0.1.js"}),a.a.createElement("meta",{name:"amp-consent-blocking",content:""}),a.a.createElement("meta",{name:"viewport",content:"width=device-width,minimum-scale=1,initial-scale=1"}),a.a.createElement("style",{"amp-boilerplate":""},"body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}"),a.a.createElement("noscript",null,a.a.createElement("style",{"amp-boilerplate":""},"body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}")),a.a.createElement("style",{"amp-custom":"",dangerouslySetInnerHTML:{__html:n}}),a.a.createElement("link",{href:"https://fonts.googleapis.com/css?family=Fira+Sans+Condensed:400,500",rel:"stylesheet"}),a.a.createElement("link",{href:"https://fonts.googleapis.com/css?family=Fira+Sans:400,400i,500,500i,600,700,700i",rel:"stylesheet"}),u.title.toComponent(),u.meta.toComponent(),u.script.toComponent(),u.link.toComponent()),a.a.createElement("body",null,l&&a.a.createElement(ae,{options:l,amp:!0}),c&&c.id&&a.a.createElement(Be,{googleAnalytics:c,dataLayer:r}),s&&0!==Object.entries(s).length&&a.a.createElement(ne,{projectId:s.projectId,publicApiKey:s.publicApiKey,dataLayer:r,namespace:s.namespace,ampEnabled:!0}),a.a.createElement("div",{id:"root",dangerouslySetInnerHTML:{__html:t}})))};z.defaultProps={dataLayer:[],favicon:"",googleAnalytics:{id:""},permutive:{},sourcepoint:{accountId:145,mmsDomain:"",privacyManagerId:null,propertyId:null}};var W=z,V=(Object(E.C)({default:function(e){var t=e.content,n=e.credentials,r=e.dataLayer,o=e.googleAnalytics,i=e.gtm,c=e.headerBidding,u=void 0===c?{enabled:!1,indexWrapperId:""}:c,s=e.helmetData,l=e.ias,p=e.instana,d=e.linkTags,f=e.optimize,m=e.prod,g=e.schemaFragment,y=void 0===g?{}:g,v=e.scriptTags,h=e.sourcepoint,b=e.state,w=e.styleTags,O=e.subx;return a.a.createElement("html",q()({lang:"en",className:"no-js"},s.htmlAttributes.toComponent()),a.a.createElement("head",null,s.link.toComponent(),h&&a.a.createElement(ae,{options:h}),a.a.createElement("script",{dangerouslySetInnerHTML:{__html:"\n        (() => {\n          const htmlElement = document.getElementsByTagName('html');\n          if (htmlElement && htmlElement.length) {\n            htmlElement[0].classList.replace('no-js', 'js');\n          }\n        })();\n        "}}),a.a.createElement("meta",{charSet:"utf-8"}),a.a.createElement("meta",{name:"viewport",content:"width=device-width,minimum-scale=1,initial-scale=1"}),a.a.createElement("meta",{name:"theme-color",content:"#fff"}),w,d,u&&u.enabled&&u.indexWrapperId&&a.a.createElement("script",{defer:!0,type:"text/javascript",src:"//js-sec.indexww.com/ht/p/".concat(u.indexWrapperId,".js")}),f&&f.antiFlicker&&f.id&&r&&a.a.createElement(k,{id:f.id}),f&&f.id&&a.a.createElement("script",{async:!0,src:"https://www.googleoptimize.com/optimize.js?id=".concat(f.id)}),i&&a.a.createElement(S,{id:i.id}),o&&a.a.createElement(_,{id:o.id}),l&&l.enabled&&a.a.createElement("script",{async:"async",src:"//cdn.adsafeprotected.com/iasPET.1.js"}),a.a.createElement(A,null),s.title.toComponent(),s.meta.toComponent(),s.script.toComponent()),a.a.createElement("body",s.bodyAttributes.toComponent(),i&&r&&a.a.createElement(R,{id:i.id,dataLayer:r}),a.a.createElement("div",{id:"root",dangerouslySetInnerHTML:{__html:t}}),a.a.createElement("script",{dangerouslySetInnerHTML:{__html:"window.__APOLLO_STATE__=".concat(JSON.stringify(b).replace(/</g,"\\u003c"),";")}}),a.a.createElement("script",{dangerouslySetInnerHTML:{__html:"window.__API_CREDENTIALS__=".concat(JSON.stringify(n).replace(/</g,"\\u003c"),";")}}),a.a.createElement("script",{dangerouslySetInnerHTML:{__html:"window.__APOLLO_SCHEMA_FRAGMENTS__=".concat(JSON.stringify(y).replace(/</g,"\\u003c"),";")}}),a.a.createElement(B,null),a.a.createElement(G,{urls:Object(E.i)({prod:m})}),v,a.a.createElement(J,p),O&&O.enabled&&O.pid&&a.a.createElement(ue,{pid:O.pid})))},amp:W}),function(e){var t=e.apiKey,n=e.reportingUrl;return a.a.createElement("script",{dangerouslySetInnerHTML:{__html:'window.addEventListener(\'load\', () => {\n  (function(c,e,f,k,g,h,b,a,d){c[g] || (c[g] = h, b = c[h] = function () {\n      b.q.push(arguments)\n    }, b.q = [], b.l = 1 * new Date, a = e.createElement(f), a.async = 1,\n      a.src = k, a.setAttribute("crossorigin", "anonymous"), d = e.getElementsByTagName(f)[0],\n      d.parentNode.insertBefore(a, d))})(window,document,"script",\n    "//eum.instana.io/eum.min.js","InstanaEumObject","ineum");\n    ineum(\'reportingUrl\', \''.concat(n,"');\n    ineum('key', '").concat(t,"');\n    ineum('wrapEventHandlers', true);\n});")}})});V.defaultProps={apiKey:"Zt5F-vLKQ4eVd8U2CHB-7w",reportingUrl:"https://eum-eu-west-1.instana.io"};var J=V,K=function(e){var t=function(t){var n=t.location.pathname;return Object(r.useEffect)((function(){void 0!==window.ineum&&window.ineum("page",n)}),[n]),a.a.createElement(e,t)};return t.defaultProps={location:{pathname:""}},t},$=function(e,t){if(t.length>0){var n=t.filter((function(t){return t.key===e}));if(n.length)return n[n.length-1].value}return null},Q=function e(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r={},a=Object.keys(t),o=0;o<a.length;o+=1){var i=a[o];if("string"==typeof t[i]){var c=$(t[i],n);c&&(r[i]=c)}else if(Array.isArray(t[i]))!function(){var e=[];t[i].forEach((function(t){var r=$(t,n);r&&e.push(r)})),e.length>0&&(r[i]=e)}();else{var u=e(t[i],n);Object.keys(u).length>0&&(r[i]=u)}}return r},Z=function(e){var t=window.location.pathname,n=function(n){var o=n.config,i=o.globalSettings.permutive,c=o.permutiveDatalayerMapping,u=n.data.page,s=n.location.pathname;if(!(i&&c&&u&&u.metaData&&Array.isArray(u.metaData.dataLayer)))return a.a.createElement(e,n);var l=u.metaData.dataLayer,p=ce([1,2,3,4,5,6,9,10]);return Object(r.useEffect)((function(){(l.length&&t!==s||p)&&(void 0!==window.permutive&&window.permutive.addon("web",{page:Q(c,l)}),t=!1)}),[s,l,p]),a.a.createElement(e,n)};return n.defaultProps={config:{globalSettings:{},permutiveDatalayerMapping:{}},location:{pathname:""}},n.displayName="withPermutive()",n},X=n(27),Y=function(e,t,n,a,o,i){var c=o.permutiveDatalayerMapping,u=ce([1,2,3,4,5,6,9,10]);Object(r.useEffect)((function(){if(u){if(i&&""!==a)return;var r=document.createElement("script");r.innerHTML='\n        !function(n,e,o,r,i){if(!e){e=e||{},window.permutive=e,e.q=[],e.config=i||{},\n        e.config.projectId=o,e.config.apiKey=r,e.config.environment=e.config.environment||\n        "production";for(var t=["addon","identify","track","trigger","query","segment",\n        "segments","ready","on","once","user","consent"],c=0;c<t.length;c++){var f=t[c];\n        e[f]=function(n){return function(){var o=Array.prototype.slice.call(arguments,0);\n        e.q.push({functionName:n,arguments:o})}}(f)}}}(document,window.permutive,\n        "'.concat(e,'", "').concat(t,'",{});\n        window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],\n        window.googletag.cmd.push(function(){if(0===window.googletag.pubads().\n        getTargeting("permutive").length){var g=window.localStorage.getItem("_pdfps");\n        window.googletag.pubads().setTargeting("permutive",g?JSON.parse(g):[])}})\n        if (window.permutive !== undefined) {\n          window.permutive.addon(\'web\', {page: ').concat(JSON.stringify(Q(c,n)),"});\n        }\n      ");var o=document.createElement("script");o.src="https://cdn.permutive.com/".concat(e,"-web.js"),o.async=!0,document.head.append(r),document.head.append(o)}}),[u])},ee=function e(t,n){for(var r={},a=Object.keys(t),o=0;o<a.length;o+=1){var i=a[o],c="".concat(n,".").concat(i);Array.isArray(t[i])?r["".concat(c,"!list")]=t[i].join(","):"object"===I()(t[i])?r=L()({},r,e(t[i],c)):r[c]=t[i]}return r},te=function(e){var t=e.projectId,n=e.publicApiKey,r=e.dataLayer,o=e.namespace,i=e.config.permutiveDatalayerMapping;if(e.ampEnabled&&""!==o){var c={vars:{namespace:o,key:n},extraUrlParams:ee(Q(i,r),"properties")};return a.a.createElement(a.a.Fragment,null,a.a.createElement("amp-analytics",{"data-block-on-consent":!0,type:"permutive",dangerouslySetInnerHTML:{__html:'<script type="application/json">'.concat(JSON.stringify(c),"<\/script>")}}),a.a.createElement("amp-iframe",{"data-block-on-consent":!0,width:"1",height:"1",style:{position:"absolute",top:"76vh"},layout:"fixed",sandbox:"allow-scripts allow-same-origin",src:"https://".concat(o,".amp.permutive.com/amp-iframe.html?project=").concat(t,"&key=").concat(n)}))}return{}};te.defaultProps={dataLayer:[],config:{},ampEnabled:!1,namespace:""};var ne=Object(O.a)(te),re=(n(30),function(e){var t=e.accountId,n=e.ccpaPrivacyManagerIdAmp,r=e.ccpaPropertyIdAmp,o=e.ccpaSiteHrefAmp,i=e.mmsDomain,c=e.privacyManagerId,u=e.propertyHref,s=e.propertyId;return a.a.createElement(a.a.Fragment,null,a.a.createElement("amp-geo",{layout:"nodisplay"},a.a.createElement("script",{type:"application/json",dangerouslySetInnerHTML:{__html:'\n          {\n            "AmpBind": true,\n            "ISOCountryGroups": {\n              "tcfv2": ["preset-eea", "au", "nz", "ca", "unknown"],\n              "ccpa": ["us"]\n            }\n          }\n          '}})),a.a.createElement("amp-consent",{id:"consent",layout:"nodisplay",type:"SourcePoint"},a.a.createElement("script",{type:"application/json",dangerouslySetInnerHTML:{__html:'\n          {\n            "consentRequired": "remote",\n            "consentInstanceId": "SourcePoint",\n            "promptUISrc": "'.concat(i,'/amp/index.html?authId=CLIENT_ID",\n            "postPromptUI": "consent-ui",\n            "clientConfig": {\n              "accountId": ').concat(t,',\n              "pmTab": "vendors",\n              "stageCampaign": false\n            },\n            "geoOverride": {\n              "tcfv2": {\n                "checkConsentHref": "').concat(i,'/wrapper/tcfv2/v1/amp",\n                "clientConfig": {\n                  "propertyHref": "').concat(u,'",\n                  "propertyId": ').concat(s,',\n                  "privacyManagerId": ').concat(c,',\n                  "isTCFV2": true\n                }\n              },\n              "ccpa": {\n                "checkConsentHref": "').concat(i,'/ccpa/consent/amp",\n                "clientConfig": {\n                  "siteHref": "').concat(o||"",'",\n                  "privacyManagerId": "').concat(n||"",'",\n                  "propertyId": ').concat(r||null,',\n                  "isCCPA": true,\n                  "getDnsMsgMms": true,\n                  "alwaysDisplayDns": false,\n                  "showNoticeUntilAction": true\n                }\n              }\n            }\n          }\n        ')}})),a.a.createElement("div",{id:"consent-ui"},a.a.createElement("button",{type:"button",on:"tap:consent.prompt(consent=SourcePoint)",hidden:!0},"PM")))}),ae=function(e){var t=e.amp,n=e.options,r=n.accountId,o=n.ccpa,i=n.ccpaPrivacyManagerIdAmp,c=n.ccpaPropertyIdAmp,u=n.ccpaSiteHrefAmp,s=n.mmsDomain,l=n.privacyManagerIdAmp,p=n.propertyHrefAmp,d=n.propertyIdAmp,f=n.version;if(t)return a.a.createElement(re,{accountId:r,ccpa:o,ccpaPrivacyManagerIdAmp:i,ccpaPropertyIdAmp:c,ccpaSiteHrefAmp:u,mmsDomain:s,privacyManagerId:l,propertyHref:p,propertyId:d});var m=a.a.createElement(a.a.Fragment,null,a.a.createElement("script",{dangerouslySetInnerHTML:{__html:'\n          !function () { var e = function () { var e, t = "__tcfapiLocator", a = [], n = window; for (; n;) { try { if (n.frames[t]) { e = n; break } } catch (e) { } if (n === window.top) break; n = n.parent } e || (!function e() { var a = n.document, r = !!n.frames[t]; if (!r) if (a.body) { var i = a.createElement("iframe"); i.style.cssText = "display:none", i.name = t, a.body.appendChild(i) } else setTimeout(e, 5); return !r }(), n.__tcfapi = function () { for (var e, t = arguments.length, n = new Array(t), r = 0; r < t; r++)n[r] = arguments[r]; if (!n.length) return a; if ("setGdprApplies" === n[0]) n.length > 3 && 2 === parseInt(n[1], 10) && "boolean" == typeof n[3] && (e = n[3], "function" == typeof n[2] && n[2]("set", !0)); else if ("ping" === n[0]) { var i = { gdprApplies: e, cmpLoaded: !1, cmpStatus: "stub" }; "function" == typeof n[2] && n[2](i) } else a.push(n) }, n.addEventListener("message", (function (e) { var t = "string" == typeof e.data, a = {}; try { a = t ? JSON.parse(e.data) : e.data } catch (e) { } var n = a.__tcfapiCall; n && window.__tcfapi(n.command, n.version, (function (a, r) { var i = { __tcfapiReturn: { returnValue: a, success: r, callId: n.callId } }; t && (i = JSON.stringify(i)), e.source.postMessage(i, "*") }), n.parameter) }), !1)) }; "undefined" != typeof module ? module.exports = e : e() }();\n        '}}),o&&a.a.createElement("script",{dangerouslySetInnerHTML:{__html:'\n            (function () { var e = false; var c = window; var t = document; function r() { if (!c.frames["__uspapiLocator"]) { if (t.body) { var a = t.body; var e = t.createElement("iframe"); e.style.cssText = "display:none"; e.name = "__uspapiLocator"; a.appendChild(e) } else { setTimeout(r, 5) } } } r(); function p() { var a = arguments; __uspapi.a = __uspapi.a || []; if (!a.length) { return __uspapi.a } else if (a[0] === "ping") { a[2]({ gdprAppliesGlobally: e, cmpLoaded: false }, true) } else { __uspapi.a.push([].slice.apply(a)) } } function l(t) { var r = typeof t.data === "string"; try { var a = r ? JSON.parse(t.data) : t.data; if (a.__cmpCall) { var n = a.__cmpCall; c.__uspapi(n.command, n.parameter, function (a, e) { var c = { __cmpReturn: { returnValue: a, success: e, callId: n.callId } }; t.source.postMessage(r ? JSON.stringify(c) : c, "*") }) } } catch (a) { } } if (typeof __uspapi !== "function") { c.__uspapi = p; __uspapi.msgHandler = l; c.addEventListener("message", l, false) } })();\n          '}}),a.a.createElement("script",{dangerouslySetInnerHTML:{__html:"\n        window.dataLayer = window.dataLayer ? window.dataLayer : [];\n\n        window._sp_ = {\n          config: {\n            accountId: ".concat(r,",\n            baseEndpoint: '").concat(s,"',\n            targetingParams: {\n              type: 'GDPR'\n            },\n            events: {\n              onMessageReady: function () {\n                dataLayer.push({\n                  'event': 'cmp-event',\n                  'cmp-eventType': 'onMessageReady'\n                });\n              },\n              onMessageChoiceSelect: function (choice_id, choice_type_id) {\n                dataLayer.push({\n                  'event': 'cmp-event',\n                  'cmp-eventType': 'onMessageChoiceSelect',\n                  'cmp-choice_id': choice_id,\n                  'cmp-choice_type_id': choice_type_id\n                });\n              },\n              onPrivacyManagerAction: function (pmData) {\n                dataLayer.push({\n                  'event': 'cmp-event',\n                  'cmp-eventType': 'onPrivacyManagerAction',\n                  'cmp-pmData': pmData\n                });\n              },\n              onMessageChoiceError: function (err) {\n                dataLayer.push({\n                  'event': 'cmp-event',\n                  'cmp-eventType': 'onMessageChoiceError',\n                  'cmp-err': err\n                });\n              },\n              onConsentReady: function (consentUUID, euconsent) {\n                dataLayer.push({\n                  'event': 'cmp-event',\n                  'cmp-eventType': 'onConsentReady',\n                  'cmp-consentUUID': consentUUID,\n                  'cmp-euconsent': euconsent\n                });\n              },\n              onPMCancel: function () {\n                dataLayer.push({\n                  'event': 'cmp-event',\n                  'cmp-eventType': 'onPMCancel'\n                });\n              },\n              onMessageReceiveData: function (data) {\n                dataLayer.push({\n                  'event': 'cmp-event',\n                  'cmp-eventType': 'onMessageReceiveData',\n                  'cmp-data': JSON.stringify(data)\n                });\n              },\n              onSPPMObjectReady: function () {\n                dataLayer.push({\n                  'event': 'cmp-event',\n                  'cmp-eventType': 'onSPPMObjectReady'\n                });\n              }\n            }\n          }\n        }\n      ")}}),o&&a.a.createElement("script",{dangerouslySetInnerHTML:{__html:"\n            window._sp_ccpa = {\n              config: {\n                mmsDomain: 'https://message.sp-prod.net',\n                ccpaOrigin: 'https://ccpa-service.sp-prod.net',\n                accountId: ".concat(r,",\n                getDnsMsgMms: true,\n                alwaysDisplayDns: false,\n                targetingParams: {\n                  type: 'CCPA'\n                }\n              }\n            }\n          ")}}),a.a.createElement("script",{async:!0,src:"".concat(s,"/wrapperMessagingWithoutDetection.js"),type:"text/javascript"}),o&&a.a.createElement("script",{async:!0,src:"https://ccpa.sp-prod.net/ccpa.js"})),g=a.a.createElement(a.a.Fragment,null,a.a.createElement("script",{dangerouslySetInnerHTML:{__html:'function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(){var t=function(){var t,e,o=[],n=window,r=n;for(;r;){try{if(r.frames.__tcfapiLocator){t=r;break}}catch(t){}if(r===n.top)break;r=n.parent}t||(!function t(){var e=n.document,o=!!n.frames.__tcfapiLocator;if(!o)if(e.body){var r=e.createElement("iframe");r.style.cssText="display:none",r.name="__tcfapiLocator",e.body.appendChild(r)}else setTimeout(t,5);return!o}(),n.__tcfapi=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return o;"setGdprApplies"===n[0]?n.length>3&&2===parseInt(n[1],10)&&"boolean"==typeof n[3]&&(e=n[3],"function"==typeof n[2]&&n[2]("set",!0)):"ping"===n[0]?"function"==typeof n[2]&&n[2]({gdprApplies:e,cmpLoaded:!1,cmpStatus:"stub"}):o.push(n)},n.addEventListener("message",(function(t){var e="string"==typeof t.data,o={};if(e)try{o=JSON.parse(t.data)}catch(t){}else o=t.data;var n="object"===_typeof(o)?o.__tcfapiCall:null;n&&window.__tcfapi(n.command,n.version,(function(o,r){var a={__tcfapiReturn:{returnValue:o,success:r,callId:n.callId}};t&&t.source&&t.source.postMessage&&t.source.postMessage(e?JSON.stringify(a):a,"*")}),n.parameter)}),!1))};"undefined"!=typeof module?module.exports=t:t()}();'}}),a.a.createElement("script",{dangerouslySetInnerHTML:{__html:'(function () { var e = false; var c = window; var t = document; function r() { if (!c.frames["__uspapiLocator"]) { if (t.body) { var a = t.body; var e = t.createElement("iframe"); e.style.cssText = "display:none"; e.name = "__uspapiLocator"; a.appendChild(e) } else { setTimeout(r, 5) } } } r(); function p() { var a = arguments; __uspapi.a = __uspapi.a || []; if (!a.length) { return __uspapi.a } else if (a[0] === "ping") { a[2]({ gdprAppliesGlobally: e, cmpLoaded: false }, true) } else { __uspapi.a.push([].slice.apply(a)) } } function l(t) { var r = typeof t.data === "string"; try { var a = r ? JSON.parse(t.data) : t.data; if (a.__cmpCall) { var n = a.__cmpCall; c.__uspapi(n.command, n.parameter, function (a, e) { var c = { __cmpReturn: { returnValue: a, success: e, callId: n.callId } }; t.source.postMessage(r ? JSON.stringify(c) : c, "*") }) } } catch (a) { } } if (typeof __uspapi !== "function") { c.__uspapi = p; __uspapi.msgHandler = l; c.addEventListener("message", l, false) } })();'}}),a.a.createElement("script",{dangerouslySetInnerHTML:{__html:"\n        window.dataLayer = window.dataLayer ? window.dataLayer : [];\n        window._sp_queue = [];\n        window._sp_ = {\n          config: {\n            accountId: ".concat(r,",\n            baseEndpoint: '").concat(s,"',\n            ccpa: { },\n        \n            gdpr: { },\n            events: {\n              onMessageChoiceSelect: function() {\n                dataLayer.push({\n                  'event': 'cmp-event',\n                  'cmp-eventType': 'onMessageChoiceSelect',\n                  'cmp-arguments': arguments\n                });\n              },\n              onMessageReady: function() {\n                dataLayer.push({\n                  'event': 'cmp-event',\n                  'cmp-eventType': 'onMessageReady',\n                  'cmp-arguments': arguments\n                });\n              },\n              onMessageChoiceError: function() {\n                dataLayer.push({\n                  'event': 'cmp-event',\n                  'cmp-eventType': 'onMessageChoiceError',\n                  'cmp-arguments': arguments\n                });\n              },\n              onPrivacyManagerAction: function() {\n                dataLayer.push({\n                  'event': 'cmp-event',\n                  'cmp-eventType': 'onPrivacyManagerAction',\n                  'cmp-arguments': arguments\n                });\n              },\n              onPMCancel: function() {\n                dataLayer.push({\n                  'event': 'cmp-event',\n                  'cmp-eventType': 'onPMCancel',\n                  'cmp-arguments': arguments\n                });\n              },\n              onMessageReceiveData: function() {\n                dataLayer.push({\n                  'event': 'cmp-event',\n                  'cmp-eventType': 'onMessageReceiveData',\n                  'cmp-arguments': arguments\n                });\n              },\n              onSPPMObjectReady: function() {\n                dataLayer.push({\n                  'event': 'cmp-event',\n                  'cmp-eventType': 'onSPPMObjectReady',\n                  'cmp-arguments': arguments\n                });\n              },\n              onConsentReady: function (consentUUID, euconsent) {\n                dataLayer.push({\n                  'event': 'cmp-event',\n                  'cmp-eventType': 'onConsentReady',\n                  'cmp-arguments': arguments,\n                  'cmp-consentUUID': consentUUID,\n                  'cmp-euconsent': euconsent\n                });\n              },\n              onError: function() {\n                dataLayer.push({\n                  'event': 'cmp-event',\n                  'cmp-eventType': 'onError',\n                  'cmp-arguments': arguments\n                });\n              },\n            },\n          },\n        };\n      ")}}),a.a.createElement("script",{async:!0,src:"".concat(s,"/unified/wrapperMessagingWithoutDetection.js"),type:"text/javascript"}));return f&&"v2"===f?g:m};ae.defaultProps={amp:!1,options:{accountId:145,ccpa:!1,ccpaPrivacyManagerIdAmp:"",ccpaPropertyIdAmp:null,ccpaSiteHrefAmp:"",mmsDomain:"",privacyManagerIdAmp:null,propertyHrefAmp:"",propertyIdAmp:null,version:"v1"}};var oe,ie,ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[1],t=Object(r.useState)(null),n=c()(t,2),a=n[0],o=n[1];return Object(r.useLayoutEffect)((function(){var t=function(t,n){if(n&&["tcloaded","useractioncomplete"].includes(t.eventStatus)){var r=t.purpose&&t.purpose.consents||{},a=e.every((function(e){return r[e]}));o(a)}};window.__tcfapi&&window.__tcfapi("getTCData",2,(function(e){e.gdprApplies?window.__tcfapi("addEventListener",2,t):o(!0)}))}),[]),a},ue=function(e){var t=e.pid;return a.a.createElement(a.a.Fragment,null,a.a.createElement("script",{type:"text/javascript",src:"//d2ip7iv1l4ergv.cloudfront.net/embed/widget/subxGDL.min.js",async:!0}),a.a.createElement("div",{className:"zeddit-rcm","data-pid":t,"data-type":"canvas-panel","animation-type":"popup"}),a.a.createElement("div",{className:"zeddit-rcm","data-pid":t,"data-type":"canvas-panel","animation-type":"slide"}),a.a.createElement("div",{className:"zeddit-rcm","data-pid":t,"data-type":"canvas-email","animation-type":"popup"}),a.a.createElement("div",{className:"zeddit-rcm","data-pid":t,"data-type":"canvas-email","animation-type":"slide"}),a.a.createElement("div",{className:"zeddit-rcm","data-pid":t,"data-type":"canvas-hybrid","animation-type":"popup"}))},se=(oe={},ie=function(e){oe[e]&&(clearTimeout(oe[e]),delete oe[e])},{addTimeoutId:function(e,t){return function(e,t){oe[e]=t}(e,t)},getTimeoutId:function(e){return function(e){return oe[e]}(e)},clearTimeout:function(e){return ie(e)},clearAllTrackedTimeouts:function(){return(e=Object.keys(oe)).length>0&&e.forEach((function(e){clearTimeout(oe[e]),delete oe[e]})),void(oe={});var e}}),le=function(e,t){e.forEach((function(e){var n,r=window.googletag,a=e.target,o=e.intersectionRatio,i=a.id;try{var c=t.slots[i].slot,u=c&&c.getSlotElementId();o>=.5&&i===u&&r.apiReady&&(c.setTargeting("refreshed",!0),r.pubads().refresh([c]),t.searchParams&&(n=t.searchParams)&&n.includes("ad-test")&&console.log("REFRESHED:",i),t.unobserve(a))}catch(e){var s=t.prod;Object(E.A)({error:e,description:"AD REFRESH ERROR",logToConsole:!s||s&&Object(E.x)(),type:"warn",meta:{file:"adRefresh.js",function:"handleIntersect()"}})}}))},pe={value:!1},de=function(e){var t=e.refreshTime,n=e.refreshBlacklist,r=void 0===n?[]:n,a=e.observer,o=e.searchParams;if("undefined"==typeof window)return!1;var i=window.googletag;!pe.value&&i&&(i.cmd=i.cmd||[],pe.value=i.cmd.push((function(){return function(e){var t=e.refreshTime,n=e.refreshBlacklist,r=e.timeoutId,a=e.observer,o=e.searchParams;window.googletag.pubads().addEventListener("impressionViewable",(function(e){var i=e.slot,c=i.getSlotElementId(),u=document.getElementById(c),s=function(e){var t=e.getResponseInformation&&e.getResponseInformation();return t&&t.lineItemId&&t.lineItemId.toString()}(i),l=Array.isArray(n)&&n.find((function(e){return e===s})),p="refresh"===c.slice(0,7);!l&&p&&(se.clearTimeout(c),r=setTimeout((function(){se.addTimeoutId(c,r),a.searchParams=o,a.slots[c]=a.slots[c]||{},a.slots[c].slot=i,a.observe(u)}),t))}))}({refreshTime:t,refreshBlacklist:r,timeoutId:void 0,observer:a,searchParams:o})})))},fe=function(e){var t=function(t){var n=t.location,o=n.pathname,i=n.search,c=t.config.ads,u=c.refreshTime,s=c.lineItemBlacklist,l=t.prod;return Object(r.useEffect)((function(){var e=function(e){var t=new IntersectionObserver(le,{root:null,rootMargin:"0px",threshold:.5});return t.slots={},t.prod=e,t}(l);return de({refreshTime:u,refreshBlacklist:s,observer:e,searchParams:i}),function(){(function(e){e&&e.disconnect(e)})(e),se.clearAllTrackedTimeouts()}}),[o]),a.a.createElement(e,t)};return t.defaultProps={prod:!1,location:{pathname:""},config:{adSettings:{refreshTime:3e4,lineItemBlacklist:[]}}},t},me=n(45),ge=n.n(me),ye=function(e){return e.replace(/\s*,\s*/g,",").replace(/([a-z0-9]+)([A-Z]+)/g,"$1 $2").toLowerCase().replace(/[^a-z0-9\\/.\-_, ]/g,"").replace(/ {1,}/g,"-")},ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e||0===Object.entries(e).length)return{};var n=["allCategories","allMakes","allProductFamilies","allProducts","articleType","author","category","client","contentType","keywordSearch","mainPurpose","make","nodeId","originalPublicationDate","pageType","product","productFamily","productShortname","productFamilyShortname","publicationDate","siteName","sponsored","tags","topic"].concat(t||[]);return e.filter((function(e){var t=e.key;return n.includes(t)})).reduce((function(e,t){var n=t.key,r=t.value;return e[function(e){return{contentType:!0,siteName:!0}[e]?e:ye(e)}(n)]=ye(r),e}),{})},he=function(e){var t=e.targetingKVPs,n=e.searchParams,r=e.ppcParamsPresent,a=!1,o=t,i=!r;return["utm_medium","utm_source","utm_campaign","campaign"].forEach((function(e){var t=function(e,t,n){return n?Object(E.j)(e):t.get(e)}(e,n,i);t&&!a&&(a=!0),t&&(o[e]=t)})),o.campaign=a?"yes":"",o},be=function(e){for(var t=!1,n=0;n<=e.length-1;n+=1){var r=Object.values(e[n])[0].key,a=Object.keys(e[n])[0];window.matchMedia(a).matches&&(t=r)}return t},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=function(n){var o,i=e.renderType,u=n.location.search,s=n.data.page,l=void 0===s?{}:s,p=n.config,d=p.ads,f=void 0===d?{}:d,m=p.breakpoints,g=U()(l,"metaData.dataLayer",[]),y=Object(r.useContext)(dt),v=L()({},ve(g,f.kvpWhitelist),{amp:"amp"===i?"yes":"no","pageview-guid":y});if(m&&"undefined"!=typeof window&&window.matchMedia){var h=function(e){for(var t=[],n=0;n<=Object.keys(e).length-1;n+=1){var r={};r[Object.values(e)[n]]={key:Object.keys(e)[n],match:!0},t.push(r)}return t}(m),b=Object(r.useState)(be(h)),w=c()(b,2),O=w[0],T=w[1];Object(r.useEffect)((function(){return Object.values(m).forEach((function(e){return window.matchMedia(e).addListener((function(){return T(be(h))}))}),[!1])})),v.breakpoint=O}var j=new URLSearchParams(u);if("undefined"!=typeof window){var k=Object(E.o)(u),_=Object(E.w)(k);v=he({targetingKVPs:v,searchParams:j,ppcParamsPresent:_})}j.has("advert-preview")&&(v["advert-preview"]=j.get("advert-preview"));var C,I=f.sizeMapping,P=void 0===I?[]:I,S=f.slotSize,R=void 0===S?[]:S,A=ge()(g,["key","dfpDefaultAdUnitPath"]),x=ce();return!A||!x&&"amp"!==i?(C=!1,console.log("no adUnitPath provided")):C=A.value,o={adUnitPath:C,targeting:v,slotSize:R,sizeMapping:P},a.a.createElement(t,q()({},n,{adConfig:o,targetingKVPs:v}))};return n.defaultProps={data:{page:{metaData:{dataLayer:[]}}},location:{search:""}},n.displayName="withAds()",n}},Ee=n(8),Oe=n.n(Ee),Te=n(13),je=n.n(Te),ke=n(9),_e=n.n(ke),Ce=n(29),Ie=function(e){return Array.isArray(e)&&e.length},Pe=function(e){var t=e.clientId;return{dimension47:e.uuid,dimension60:t}},Se=function(e){return new Promise((function(t){_e.a.ga((function(){var n=window.ga.getAll().find((function(t){return t.get("trackingId")===e})),r=n&&n.get("clientId");t(r)}))}))},Re=function(e){var t=Ce;return e.forEach((function(e){var n=e.key,r=e.value;r&&(t[n]=r)})),t},Ae=function(e,t){return t&&t.length?t.reduce((function(t,n){var r=n.key,a=n.value;return e[r]?L()({},t,w()({},e[r],a)):t}),{}):{}},xe=function(e){var t=U()(e,"metaData.dataLayer",[]),n="undefined"!=typeof window&&window.location,r=n&&n.href,a=Object(E.h)({page:e}).canonicalMetaObj;return{completeDataLayer:a&&t.concat(a)||t,fallbackCanonicalUrl:r}};function Le(e,t,n,r,a){return De.apply(this,arguments)}function De(){return(De=je()(Oe.a.mark((function e(t,n,r,a,o){var i,c,u,s,l,p,d;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Se(t);case 3:return c=e.sent,u=Pe({clientId:c,uuid:a}),n&&(s=Ie(r)&&Re(r)||Ce,l=xe(n),p=l.completeDataLayer,d=l.fallbackCanonicalUrl,i=L()({dimension19:d},u,Ae(s,p))),e.abrupt("return",i||u);case 9:return e.prev=9,e.t0=e.catch(0),Object(E.A)({error:e.t0,description:"REACT-GA ERROR",logToConsole:!o||o&&Object(E.x)(),meta:{function:"getDimensions()",file:"getDimensions"}}),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,this,[[0,9]])})))).apply(this,arguments)}var Me=n(46),Ne=n.n(Me),Ue=("undefined"!=typeof window&&(function(e,t){var n,r,a,o=[],i={passive:!0,capture:!0},c=new Date,u="pointerup",s="pointercancel";function l(e,o){n||(n=o,r=e,a=new Date,f(t),p())}function p(){r>=0&&r<a-c&&(o.forEach((function(e){e(r,n)})),o=[])}function d(n){if(n.cancelable){var r=(n.timeStamp>1e12?new Date:performance.now())-n.timeStamp;"pointerdown"==n.type?function(n,r){function a(){l(n,r),c()}function o(){c()}function c(){t(u,a,i),t(s,o,i)}e(u,a,i),e(s,o,i)}(r,n):l(r,n)}}function f(e){["click","mousedown","keydown","touchstart","pointerdown"].forEach((function(t){e(t,d,i)}))}f(e),self.perfMetrics=self.perfMetrics||{},self.perfMetrics.onFirstInputDelay=function(e){o.push(e),p()}}(addEventListener,removeEventListener),function(){if("PerformanceLongTaskTiming"in window){var e=window.__tti={e:[]};e.o=new PerformanceObserver((function(t){e.e=e.e.concat(t.getEntries())})),e.o.observe({entryTypes:["longtask"]})}}()),{getFirstPaints:function(){"undefined"!=typeof window&&"performance"in window&&window.performance.getEntriesByType("paint").forEach((function(e){_e.a.timing({category:"Performance Metrics",variable:e.name,label:e.entryType,value:e.startTime})}))},getTimeToInteractive:function(){return Ne.a.getFirstConsistentlyInteractive().then((function(e){"undefined"!=typeof window&&_e.a.timing({category:"Performance metrics",variable:"time-to-interactive",value:e})})).catch((function(e,t){return Object(E.A)({description:"REACT-GA ERROR",error:e,info:t,logToConsole:!0,meta:{file:"PerformanceMetrics.js",function:"timeToInteractive()"}})}))},getFirstInputDelay:function(){("undefined"!=typeof window||window.perfMetrics)&&window.perfMetrics.onFirstInputDelay((function(e,t){_e.a.timing({category:"Performance Metrics",variable:"first-input-delay",label:t.type,value:e,nonInteraction:!0})}))}}),He=function(e){var t=e.id,n=e.whitelist,o=void 0!==n&&n,i=e.linkerDomains;return function(e){var n=o,c=function(o){var c=o.location.pathname,u=o.data,s=u.page,l=u.status,p=o.type,d=o.prod,f=Object(r.useContext)(dt),m=U()(s,"metaData.dataLayer",[]),g=l&&l.code&&404===l.code,y=Object(r.useCallback)(je()(Oe.a.mark((function e(){return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Le(t,s,n,f,d);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),Object(E.A)({error:e.t0,description:"REACT-GA ERROR",logToConsole:!d||d&&Object(E.x)(),meta:{function:"getCustomDimensions()",file:"withGa"}}),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,this,[[0,6]])}))),[f,s,n,t,d]);return Object(r.useEffect)((function(){i&&(_e.a.plugin.require("linker"),_e.a.plugin.execute("linker","autoLink",i,{useAnchor:!1,decorateForms:!0}))}),[]),Object(r.useEffect)((function(){g&&y().then((function(e){_e.a.set(L()({},e,{dimension15:"404"})),_e.a.pageview(c)})).catch((function(e,t){Object(E.A)({error:e,description:"REACT-GA ERROR",logToConsole:!d||d&&Object(E.x)(),info:t,meta:{function:"getCustomDimensions()",file:"withGa"}})}))}),[g,y,c]),Object(r.useEffect)((function(){m.length>0&&y().then((function(e){if("loading"!==p){var t=Object(E.d)(U()(s,"metaData.meta",[])),n=Object(E.d)(m).siteName,r="".concat(t.pageTitle," | ").concat(n);_e.a.set(e),_e.a.pageview(c,[],r)}})).catch((function(e){return Object(E.A)({error:e,description:"REACT-GA ERROR",logToConsole:!d||d&&Object(E.x)(),meta:{function:"getCustomDimensions()",file:"withGa"}})}))}),[f,m,y,c,s,d]),Object(r.useLayoutEffect)((function(){Ue.getFirstPaints(),Ue.getFirstInputDelay(),Ue.getTimeToInteractive(d)}),[]),a.a.createElement(e,o)};return c.defaultProps={data:{page:{metaData:{dataLayer:[]}},status:{}},type:"",prod:!1},c.displayName="withGa()",c}},Fe=n(47),qe=function(e){var t=e.googleAnalytics,n=t.id,r=t.ga4MeasurementId,o=t.ga4AmpHostUrl,i=e.dataLayer,u=Object.entries(Ce).map((function(e){var t=c()(e,2);return[t[0],t[1].replace("dimension","cd")]})).reduce((function(e,t){var n=c()(t,2),r=n[0],a=n[1];return Object.assign(e,w()({},r,a))}),{}),s=Object.entries(Fe).map((function(e){var t=c()(e,2);return[t[0],t[1].replace("dimension","cd")]})).reduce((function(e,t){var n=c()(t,2),r=n[0],a=n[1];return Object.assign(e,w()({},r,a))}),{}),l=Ae(u,i),p=function(e,t){var n=function(e){return"articleGroupParentNodeId"===e?"article_group_id":"nodeId"===e?"article_id":"dfpDefaultAdUnitPath"===e?"gam_ad_unit_path":"publicationDate"===e?"last_modified_date":"client"===e?"sponsor":e.replace(/[A-Z]/g,(function(e){return"_".concat(e.toLowerCase())}))};if(!t||!t.length)return{};var r=Object.create(e);return Object.keys(r).forEach((function(e){r[e]=""})),t.forEach((function(t){var a=t.key,o=t.value;if(e[n(a)]){var i="ep.".concat(n(a));r[i]=o}})),r}(s,i),d={vars:{account:n},triggers:{trackPageview:{on:"visible",request:"pageview"}},extraUrlParams:L()({ds:"amp"},l)},f={vars:{GA4_MEASUREMENT_ID:r,GA4_ENDPOINT_HOSTNAME:"www.google-analytics.com",DEFAULT_PAGEVIEW_ENABLED:!0,GOOGLE_CONSENT_ENABLED:!1,WEBVITALS_TRACKING:!0,PERFORMANCE_TIMING_TRACKING:!1,SEND_DOUBLECLICK_BEACON:!1},extraUrlParams:p};return a.a.createElement(a.a.Fragment,null,a.a.createElement("amp-analytics",{type:"googleanalytics",dangerouslySetInnerHTML:{__html:'<script type="application/json">'.concat(JSON.stringify(d),"<\/script>")}}),r&&o&&a.a.createElement("amp-analytics",{id:"ga4-amp-analytics",type:"googleanalytics",config:o,"data-credentials":"include",dangerouslySetInnerHTML:{__html:'<script type="application/json">'.concat(JSON.stringify(f),"<\/script>")}}))};qe.defaultProps={googleAnalytics:{id:"",ga4AmpHostUrl:"",ga4MeasurementId:""},dataLayer:[]};var Be=qe,Ge=n(26),ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=function(n){var r=e.renderType,o=e.layoutContext,i=n.data,c=n.config.globalSettings.postsPerPage,u=void 0===c?24:c,s=n.type;s||(s=Object(E.n)(i)),i&&"object"===I()(i)&&i.status&&i.status.noAmp&&"amp"===r&&(s="notFound"),o&&(o.layout=s);var l=Object(E.m)(s,t);if(!l.query)return a.a.createElement(l,q()({},n,{type:s,amp:"amp"===r}));var p=Object(E.B)(Object(E.k)(n)),d={url:p};return"function"==typeof l.queryVars&&(d=L()({url:p},l.queryVars({url:p,renderType:r,postsPerPage:u}))),a.a.createElement(Ge.Query,{query:l.query,variables:d},(function(e){var o=e.loading,i=e.error,c=e.data;if(o){var u=Object(E.m)("loading",t);return a.a.createElement(u,n)}if(i){var p=Object(E.m)("error",t);return a.a.createElement(p,q()({error:i},n))}var d=c.getContentByUrl;return a.a.createElement(l,q()({layoutData:d},n,{type:s,amp:"amp"===r}))}))};return n.displayName="withLayout()",n.defaultProps={type:""},n}},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=e.renderType,r=e.ampLayouts,o=void 0===r?{}:r,i=n&&"amp"===n,c=function(e){var n=e.location,r=n.pathname,c=n.search,u=e.config,s=u.siteUrl,l=u.protocol,p=u.host,d=e.data,f=d.page,m=d.status,g=e.metaData,y=e.type,v="".concat(l,"://").concat(p+r+c),h=Object(E.r)({page:f,fullUrl:v,siteUrl:s,protocol:l}),b=f&&o[f.contentType]&&m&&!m.noAmp&&!Object(E.y)({fullUrl:v,page:f}),w=U()(e,"data.status.noIndex",!1),O=Object(E.d)(U()(f,"metaData.dataLayer",[])),T=y?Object(E.d)(g.meta):Object(E.d)(U()(f,"metaData.meta",[])),j=O.sponsored,k=void 0===j?"0":j,_=!w&&("1"===k||"2"===k),C=Object(E.f)({fullUrl:Object(E.G)({urlString:v}),canonicalUrl:h,siteUrl:s}),I=f&&f.metaData&&f.metaData.hreflang;return a.a.createElement(a.a.Fragment,null,a.a.createElement(t,q()({},e,{metaData:T,dataLayer:O})),a.a.createElement(X.Helmet,null,a.a.createElement("meta",{name:"robots",content:"max-image-preview:large"}),w&&a.a.createElement("meta",{name:"robots",content:"noindex"}),_&&a.a.createElement("meta",{name:"googlebot-news",content:"noindex"}),a.a.createElement("link",{href:h,rel:"canonical"}),b&&!i&&a.a.createElement("link",{rel:"amphtml",href:C}),I&&f.metaData.hreflang.map((function(e){return a.a.createElement("link",{key:e.value,rel:"alternate",hrefLang:e.key,href:e.value})}))))};return c.defaultProps={data:{page:{contentType:"",metaData:{meta:[],hreflang:[]}}},location:{pathname:""},metaData:{dataLayer:[]},type:""},c.displayName="withMeta()",c}},Ve=function(e){var t=function(t){var n=t.location.pathname,o=t.config.optinMonster,i=o&&o.optinMonsterEnabled,c=o&&o.accountId,u=o&&o.userId;return Object(r.useEffect)((function(){i&&c&&u&&function(e){var t=e.accountId,n=e.userId;if(window["om".concat(t,"_").concat(n)]){var r=sessionStorage.getItem("omSessionPageviews");sessionStorage.setItem("omSessionPageviews",++r),window["om".concat(t,"_").concat(n)].reset()}}({accountId:c,userId:u})}),[n]),a.a.createElement(e,t)};return t.defaultProps={location:{pathname:""}},t.displayName="withOptinMonster()",t},Je=n(25),Ke=n.n(Je),$e=n(48),Qe=n(15),Ze=n.n(Qe),Xe=function(e){var t=e.query,n=e.path,r=void 0===n?"items":n,o=e.queryVars;return function(e){var n,i;return Object($e.withApollo)((i=n=function(n){function i(e){var t;l()(this,i),t=m()(this,y()(i).call(this,e));var n=e.data.pagination.totalPages,r=Object(E.p)(Object(E.k)(e)),a=t.getItems();return t.state={page:r,loading:!1,pages:w()({},Number(r),a),down:!0,more:n>r},t.loadMore=t.loadMore.bind(Ke()(Ke()(t))),t.loadPage=t.loadPage.bind(Ke()(Ke()(t))),t.updateQuery=t.updateQuery.bind(Ke()(Ke()(t))),t}return h()(i,n),d()(i,[{key:"componentDidUpdate",value:function(e,t){var n=this.props.data.page.url;e.data.page.url!==n&&this.getItemsAndSetState()}},{key:"getItems",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.props.layoutData.page,n=[];return n="function"==typeof r?r(e||t):U()(e||t,r,[]),Array.isArray(n)?n:[]}},{key:"setUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(E.k)(this.props),r=window.history.pushState;t&&(r=window.history.replaceState);var a=Object(E.q)(e,n);return r.call(window.history,null,"page ".concat(e),a),a}},{key:"getItemsAndSetState",value:function(){var e=this.props.data.pagination.totalPages,t=Object(E.p)(Object(E.k)(this.props)),n=this.getItems();this.setState({page:t,loading:!1,pages:w()({},Number(t),n),down:!0,more:e>t})}},{key:"loadPage",value:function(){var e=je()(Oe.a.mark((function e(n){var r,a,i,c,u,s,l,p,d,f,m;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.state.loading,a=this.props.prod,!r){e.next=4;break}return e.abrupt("return");case 4:return i=this.setUrl(n,!0),this.setState({page:n,loading:!0}),c=this.props,u=c.client,s=c.config.globalSettings.postsPerPage,l=void 0===s?24:s,p=Object(E.B)(i),d={url:p},"function"==typeof o&&(d=L()({},d,o({url:p,postsPerPage:l}))),e.prev=10,e.next=13,u.query({query:t,variables:d});case 13:f=e.sent,m=f.data,this.updateQuery(m.getContentByUrl.page),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(10),Object(E.A)({error:e.t0,description:"HTTP ERROR",logToConsole:!a||a&&Object(E.x)(),meta:{function:"loadPage()",file:"withPagination"}});case 21:case"end":return e.stop()}}),e,this,[[10,18]])})));return function(t){return e.apply(this,arguments)}}()},{key:"loadMore",value:function(){var e=je()(Oe.a.mark((function e(){var t,n,r,a,o=arguments;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!(o.length>0&&void 0!==o[0])||o[0],n=this.props.prod,1!==(r=this.state.page)||t){e.next=5;break}return e.abrupt("return");case 5:return this.setState({down:t}),a=r+(t?1:-1),e.prev=7,e.next=10,this.loadPage(a);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(7),Object(E.A)({error:e.t0,description:"PAGINATION ERROR",logToConsole:!n||n&&Object(E.x)(),meta:{function:"loadMore()",file:"withPagination"}});case 15:case"end":return e.stop()}}),e,this,[[7,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"updateQuery",value:function(e){if(e){var t=this.getItems(e);if(t.length){var n=this.state,r=n.page,a=n.pages,o=(n.down,this.props.data.pagination.totalPages),i=Math.max.apply(Math,[Number(r)].concat(M()(Object.keys(a).map(Number))));this.setState({loading:!1,pages:L()(w()({},Number(r),t),a),more:i<o})}else this.setState({loading:!1,more:!1})}}},{key:"render",value:function(){var t=this.state,n=t.page,r=t.loading,o=t.pages,i=t.more,c=this.props,u=c.amp,s=c.data,l=(c.config.siteUrl,Object(E.k)(this.props)),p=n>1?Object(E.q)(n-1,l):null,d=i?Object(E.q)(n+1,l):null,f={isLoading:r,page:n,pages:o,loadMore:this.loadMore,hasMore:i,prevUrl:p,nextUrl:d},m=L()({},this.props,{data:L()({},s,{pagination:L()({},s.pagination,{currentPage:n})})});return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ze.a,null,!u&&p&&a.a.createElement("link",{href:p,rel:"prev"}),!u&&d&&a.a.createElement("link",{href:d,rel:"next"})),a.a.createElement(e,q()({},m,{pagination:f})))}}]),i}(a.a.Component),w()(n,"defaultProps",{amp:!1,layoutData:{page:{items:[]}},prod:!1}),w()(n,"displayName","withPagination()"),i))}},Ye=(n(49),function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").trim()}),et=function(){var e=je()(Oe.a.mark((function e(t,n){var r,a;return Oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(E.o)(t),!document){e.next=11;break}return a=["utm_medium","utm_source","utm_campaign"],e.prev=3,e.next=6,a.forEach((function(e){if(r[e]&&r[e].length>0){var t=r[e],n=Ye(t);Object(E.F)(e,n)}else Object(E.w)(r)&&Object(E.e)(e)}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),Object(E.A)({description:"PPC TRACKING ERROR",logToConsole:!n||n&&Object(E.x)(),error:e.t0,meta:{function:"setPpcTrackingCookies()",file:"withPPCTracking"}});case 11:case"end":return e.stop()}}),e,this,[[3,8]])})));return function(t,n){return e.apply(this,arguments)}}(),tt=function(){return function(e){var t=function(t){var n=t.location.search,r=t.prod;return et(n,r),a.a.createElement(e,t)};return t.displayName="withPPCTracking()",t.defaultProps={location:{search:""},prod:!1},t}},nt=n(14),rt=n.n(nt),at=n(23),ot=n(10),it=n(24);function ct(){var e=rt()(["\n                {\n                  config\n                }\n              "]);return ct=function(){return e},e}var ut=function(e){var t=e.to,n=e.status;return Object(E.z)(t)?window.location.replace(t):a.a.createElement(at.Route,{render:function(e){var r=e.staticContext;return r&&(r.status=n),a.a.createElement(at.Redirect,{to:t})}})},st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n,r;return r=n=function(n){function r(){return l()(this,r),m()(this,y()(r).apply(this,arguments))}return h()(r,n),d()(r,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.location,r=t.reset,a=Object(E.k)(this.props),o=Object(E.k)(e),i=!n||a!==o;return r&&i&&r(),i}},{key:"render",value:function(){var n=this,r=this.props.prefetch,o=e.configQuery,i=e.client,c=o?Object(E.D)(o,E.b):E.b,u=Object(E.B)(Object(E.k)(this.props)),s=U()(this.props,"config.globalSettings.postsPerPage",24);return a.a.createElement(Ge.Query,{query:c,variables:{url:u,limit:s}},(function(e){var o=e.loading,c=e.error,u=e.data,s=e.fetchMore;if(o){var l=U()(u,"getContentByUrl.page.metaData",{}),p=L()({},n.props,{metaData:l});return a.a.createElement(t,q()({type:"loading"},p))}if(c)return a.a.createElement(t,q()({type:"error",error:c},n.props));if(!u.getContentByUrl)return a.a.createElement(t,q()({type:"error",error:"Server returned invalid data."},n.props));var d=u.getContentByUrl.status,f=d.code,m=d.location,g=void 0===m?"/":m,y=d.prefetch;if(301===f||302===f||303===f||307===f)return a.a.createElement(ut,{to:g,status:f});if(y&&y.length&&r&&y.forEach((function(e){var t=e.url,n=e.contentType;return r(t,n)})),u.globalSettings){var v=JSON.parse(i.readQuery({query:it.a}).config),h=L()({},v,{globalSettings:L()({},v.globalSettings,u.globalSettings)});i.writeQuery({query:Object(ot.gql)(ct()),data:{config:JSON.stringify(h)}})}return a.a.createElement(t,q()({data:u.getContentByUrl,fetchMore:s},n.props))}))}}]),r}(a.a.Component),w()(n,"defaultProps",{prefetch:null,reset:null}),w()(n,"displayName","withRootQuery()"),r}},lt=function(){return a.a.useEffect((function(){var e=window.location.hash;if(e){var t=document.getElementById(e.replace("#",""));if(t){var n=document.getElementById("header"),r="sticky"===window.getComputedStyle(n,null).position?n.offsetHeight:0,a=window.pageYOffset+t.getBoundingClientRect().top-r;window.scroll({top:a,behavior:"smooth"})}}else window.scrollTo(0,0)})),null},pt=function(e){var t=e.disableBrowserRouter,n=e.prod,r=e.layouts,o=e.ssr,i=void 0!==o&&o,c=e.routerContext,u=void 0===c?{}:c,s=e.requestUrl,l=void 0===s?"":s;return function(e){var o=function(o){if(i)return a.a.createElement(at.StaticRouter,{context:u,location:l},a.a.createElement(e,q()({},o,{ssr:i})));if(!t){var c=Object(at.withRouter)(e);return a.a.createElement(at.BrowserRouter,null,a.a.createElement(at.Route,{path:"/*"},a.a.createElement(j,{layouts:r,prod:n},a.a.createElement(c,q()({},o,{prod:n})),a.a.createElement(lt,null))))}return a.a.createElement(j,{layouts:r},a.a.createElement(e,q()({},o,{prod:n,history:window.history,location:window.location})),a.a.createElement(lt,null))};return o.displayName="withRouterController()",o}},dt=Object(r.createContext)(),ft=n(39),mt=n.n(ft),gt=function(e){return function(t){var n=t.location.pathname,o=Object(r.useState)(mt()()),i=c()(o,2),u=i[0],s=i[1],l=Object(r.useState)(n),p=c()(l,2),d=p[0],f=p[1];return Object(r.useEffect)((function(){n!==d&&s(mt()()),f(n)}),[n]),a.a.createElement(dt.Provider,{value:u},a.a.createElement(e,t))}},yt=n(31);n.d(t,"n",(function(){return o})),n.d(t,"p",(function(){return u})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return S})),n.d(t,"e",(function(){return R})),n.d(t,"k",(function(){return A})),n.d(t,"u",(function(){return H})),n.d(t,"f",(function(){return J})),n.d(t,"w",(function(){return K})),n.d(t,"q",(function(){return Y})),n.d(t,"g",(function(){return ne})),n.d(t,"C",(function(){return Z})),n.d(t,"h",(function(){return ae})),n.d(t,"o",(function(){return ce})),n.d(t,"i",(function(){return ue})),n.d(t,"r",(function(){return fe})),n.d(t,"s",(function(){return we})),n.d(t,"t",(function(){return O.a})),n.d(t,"a",(function(){return Be})),n.d(t,"v",(function(){return He})),n.d(t,"x",(function(){return ze})),n.d(t,"y",(function(){return We})),n.d(t,"z",(function(){return Ve})),n.d(t,"B",(function(){return Xe})),n.d(t,"A",(function(){return tt})),n.d(t,"D",(function(){return st})),n.d(t,"E",(function(){return pt})),n.d(t,"j",(function(){return dt})),n.d(t,"F",(function(){return gt})),n.d(t,"l",(function(){return yt.a})),n.d(t,"m",(function(){return yt.b})),n.d(t,"G",(function(){return yt.d}))},function(e,t){e.exports=n(184)},function(e,t){e.exports=n(261)},function(e,t){e.exports=n(262)},function(e,t){e.exports=n(132)},function(e,t,n){"use strict";var r=n(24);n.d(t,"a",(function(){return r.b}))},function(e,t){e.exports=n(263)},function(e,t){e.exports=n(264)},function(e,t){e.exports=n(265)},function(e,t){e.exports=n(266)},function(e,t){e.exports=n(267)},function(e,t){e.exports=n(14)},function(e,t){e.exports=n(74)},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return f}));var r=n(4),a=n.n(r),o=n(14),i=n.n(o),c=n(0),u=n.n(c),s=n(26),l=n(10);function p(){var e=i()(["\n  {\n    config @client,\n  }\n"]);return p=function(){return e},e}var d=Object(l.gql)(p()),f=function(e){var t=function(t){return u.a.createElement(s.Query,{query:d},(function(n){var r=n.data;return u.a.createElement(u.a.Fragment,null,r&&u.a.createElement(e,a()({config:JSON.parse(r.config)},t)))}))};return t.displayName="withConfig()",t}},function(e,t){e.exports=n(185)},function(e,t){e.exports=n(71)},function(t,n){t.exports=e},function(e){e.exports={name:"@autovia-uk/polaris-coreweb",version:"6.6.0",description:"Polaris Core Web Application",main:"index.js",files:["*","dist"],scripts:{clean:"rm -rf dist && mkdir dist",build:"npm-run-all build:dev","prebuild:dev":"npm-run-all clean","build:dev":"webpack --config webpack/webpack.dev.js","prebuild:prod":"npm-run-all clean","build:prod":"NODE_ENV=production webpack --config webpack/webpack.prod.js",watch:"webpack --watch --config webpack/webpack.dev.js","watch:prod":"NODE_ENV=production webpack --watch --progress --config webpack/webpack.prod.js",stats:"webpack --config webpack/webpack.stats.js","test:jest":"jest --color","test:lint":"eslint .","test:lint:fix":"eslint . --fix",test:"npm-run-all --parallel test:lint test:jest"},repository:{type:"git",url:"git+https://github.com/autovia-uk/polaris-coreweb"},author:"",license:"ISC",bugs:{url:"https://github.com/autovia-uk/polaris-coreweb/issues"},homepage:"https://github.com/autovia-uk/polaris-coreweb#readme",dependencies:{"@apollo/client":"^3.2.5","@babel/plugin-proposal-class-properties":"^7.1.0","@babel/preset-env":"^7.1.0","@babel/preset-react":"^7.0.0","@babel/register":"^7.0.0","@babel/runtime":"^7.4.5","@loadable/babel-plugin":"^5.10.0","@loadable/component":"^5.10.2","@loadable/server":"^5.10.2","@loadable/webpack-plugin":"^5.7.1","@types/react":"^16.9.6","amphtml-validator":"^1.0.35",aws4:"^1.8.0","aws4-tiny":"^1.0.0","babel-loader":"^8.1.0","clean-css":"4.2.1",compression:"^1.7.3","cross-fetch":"^3.0.1","css-loader":"^1.0.1",deepmerge:"^3.2.0",dotenv:"^6.2.0","dotenv-webpack":"^1.7.0",express:"^4.16.4","fs-extra":"^7.0.1",graphql:"^14.5.8","html-react-parser":"^0.10.5","jest-fetch-mock":"^3.0.3","lodash.clonedeep":"^4.3.2","lodash.difference":"^4.5.0","lodash.find":"^4.6.0","lodash.flow":"^3.5.0","lodash.get":"^4.4.2","module-alias":"^2.1.0","p-queue":"^6.1.0",postcss:"^7.0.18","prop-types":"^15.6.2",react:"16.9.0","react-dom":"16.9.0","react-ga":"^2.5.7","react-html-parser":"^2.0.2","react-intersection-observer":"^8.24.2","react-router-dom":"5.0.1",recompose:"^0.30.0","regenerator-runtime":"^0.13.1","resource-hints-webpack-plugin":"^0.0.2",sass:"^1.54.5","serve-favicon":"^2.5.0","server-timing":"^2.1.0",spdy:"^4.0.0","strip-css-comments":"^4.0.0","tti-polyfill":"^0.2.2",uncss:"^0.16.2",uniqid:"^5.2.0",uuid:"^3.3.2",webpack:"^4.25.0","webpack-bundle-analyzer":"^3.0.4","webpack-cli":"^3.3.9","webpack-merge":"^4.1.4","webpack-node-externals":"^1.7.2"},peerDependencies:{"react-helmet-async":"^0.2.0"},devDependencies:{"@babel/cli":"^7.2.3","@babel/core":"^7.11.6","@babel/plugin-transform-runtime":"^7.4.4","babel-eslint":"^10.0.1","babel-jest":"^24.1.0","babel-plugin-transform-react-remove-prop-types":"^0.4.24","compression-webpack-plugin":"^2.0.0",enzyme:"^3.7.0","enzyme-adapter-react-16":"^1.7.0","enzyme-to-json":"^3.3.4",eslint:"^5.9.0","eslint-config-airbnb":"^17.1.0","eslint-plugin-import":"^2.14.0","eslint-plugin-jsx-a11y":"^6.1.1","eslint-plugin-react":"^7.11.0",jest:"^24.1.0","mini-css-extract-plugin":"^0.5.0","node-mocks-http":"^1.8.1",nodemon:"^1.18.6","npm-run-all":"^4.1.5","optimize-css-assets-webpack-plugin":"^5.0.1",pretty:"^2.0.0","react-helmet-async":"^0.2.0","react-test-renderer":"^16.10.2",sinon:"^9.0.1",supertest:"^4.0.2","terser-webpack-plugin":"^1.1.0",waait:"^1.0.4"},jest:{setupFiles:["<rootDir>/jestsetup.js"],snapshotSerializers:["enzyme-to-json/serializer"],collectCoverage:!1,collectCoverageFrom:["src/**/*.js"],coverageThreshold:{global:{statements:50,branches:50,functions:70,lines:50}},testPathIgnorePatterns:["/node_modules/","/vendor/","/modules/contrib/"],moduleNameMapper:{"^PackageJson":"<rootDir>/package.json","^Src(.*)$":"<rootDir>/src$1","^Middleware(.*)$":"<rootDir>/src/middleware$1","^Helpers(.*)$":"<rootDir>/src/helpers$1","^Components(.*)$":"<rootDir>/src/components$1","@loadable/component":"<rootDir>/src/__mocks__/loadable-component.js","@loadable/server":"<rootDir>/src/__mocks__/loadable-server.js","polaris-coreweb/exports":"<rootDir>/src/__mocks__/exports.js",fragments:"<rootDir>/src/__mocks__/fragmentTypes.json"},globals:{}},browserslist:["last 1 version",">0.25%","not dead"]}},function(e){e.exports={"mainPurpose|client":"dimension1",sponsored:"dimension2",category:"dimension3",publicationDate:"dimension4",articleType:"dimension5",author:"dimension6",topic:"dimension7",nodeId:"dimension8",make:"dimension9",productFamily:"dimension10",product:"dimension11",contentType:"dimension12",originalPublicationDate:"dimension13","expectedTrafficSource|targetedSearchPhrase":"dimension14",pageType:"dimension15",relatedNodes:"dimension16",wordCount:"dimension17",internalLinks:"dimension18",canonical:"dimension19",dfpDefaultAdUnitPath:"dimension30",pageviewGUID:"dimension47",brandShortCode:"dimension48",paymentType:"dimension49",subscriptionTerm:"dimension50",trialPeriod:"dimension51",tags:"dimension52",fuelType:"dimension53",headline:"dimension55",userUid:"dimension56",siteName:"dimension57",articleGroupParentNodeId:"dimension58",numberOfSearchResults:"dimension59",euid:"dimension61",allCategories:"dimension62",topCategory:"dimension63",categoryLevel2:"dimension64",categoryLevel3:"dimension65",categoryLevel4:"dimension66",topbreadcrumb:"dimension67",breadcrumbLevel2:"dimension68",breadcrumbLevel3:"dimension69",breadcrumbLevel4:"dimension70",sku:"dimension71",bodyCopyParagraphs:"dimension72",topArticleType:"dimension74",subscriberStatus:"dimension75",articleSectionNumber:"dimension76",hreflangDefaultSite:"dimension118",hreflangAllSites:"dimension119",accessLevel:"dimension120"}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=Object(r.createContext)(),i=n(8),c=n.n(i),u=n(13),s=n.n(u),l=n(17),p=n.n(l),d=n(18),f=n.n(d),m=n(19),g=n.n(m),y=n(20),v=n.n(y),h=n(21),b=n.n(h),w=n(5),E=n.n(w),O=(n(3),n(15)),T=n.n(O),j=n(44),k=n.n(j),_=n(1),C=function(e){function t(e){var n;return p()(this,t),(n=g()(this,v()(t).call(this,e))).local=new Map,n.connection=!1,n.fetching=!1,n.queue=new k.a({concurrency:10}),!e.server&&"connection"in navigator&&(n.connection=navigator.connection),n.state={external:new Set(e.prefetch)},n}return b()(t,e),f()(t,[{key:"prefetchUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object(_.z)(e)?this.prefetchExternal(e):this.prefetchData(e,t)}},{key:"prefetchData",value:function(e,t){var n=this;if(!this.props.server){var r=this.local.size;this.local.set(Object(_.B)(e),t),r===this.local.size||this.fetching||window.requestIdleCallback((function(){n.prefetch()}))}}},{key:"prefetchExternal",value:function(e){this.setState((function(t){var n=t.external;return{external:new Set(n).add(e)}}))}},{key:"prefetch",value:function(){var e=s()(c.a.mark((function e(){var t,n,r,a,o,i=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.server){e.next=3;break}return e.abrupt("return");case 3:if(0!==this.local.size){e.next=5;break}return e.abrupt("return");case 5:if(!(t=this.connection)||!t.saveData&&!(t.effectiveType||"").includes("2g")){e.next=8;break}return e.abrupt("return");case 8:if(!this.fetching){e.next=10;break}return e.abrupt("return");case 10:return this.fetching=!0,n=this.props,r=n.client,a=n.layouts,o=n.prod,this.local.forEach((function(e,t){var n=function(e){return i.queue.add((function(){return r.query({query:e,variables:{url:t}}).then((function(){return i.local.delete(t)})).catch((function(e,t){return Object(_.A)({description:"PREFETCH PROVIDER ERROR",logToConsole:!o||o&&Object(_.x)(),error:e,info:t,meta:{file:"PrefetchProvider.js",function:"componentDidCatch"}})}))}))};if(e){n(_.b);var c=Object(_.m)(e,a);c&&c.query&&n(c.query)}else i.queue.add((function(){var e=r.query({query:_.b,variables:{url:t}});void 0!==e&&e.then((function(e){var t=e.data.getContentByUrl,r=Object(_.l)(t,a);r&&r.query&&n(r.query)})).catch((function(e,t){return Object(_.A)({description:"PREFETCH PROVIDER ERROR",logToConsole:!o||o&&Object(_.x)(),error:e,info:t,meta:{file:"PrefetchProvider.js",function:"componentDidCatch"}})}))}))})),e.prev=13,e.next=16,this.queue.onIdle();case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(13),Object(_.A)({description:"PREFETCH PROVIDER ERROR",error:e.t0});case 21:this.fetching=!1;case 22:case"end":return e.stop()}}),e,this,[[13,18]])})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){this.fetching=!1,this.queue.clear(),this.local.clear()}},{key:"render",value:function(){var e={prefetch:this.prefetchUrl.bind(this),reset:this.reset.bind(this)},t=this.props.children,n=this.state.external;return a.a.createElement(o.Provider,{value:e},a.a.createElement(T.a,null,Array.from(n).map((function(e){return a.a.createElement("link",{rel:"prefetch",href:e,key:e})}))),t)}}]),t}(a.a.PureComponent);E()(C,"defaultProps",{client:null,children:null,server:!1,prefetch:[],layouts:null,prod:!1});var I=n(4),P=n.n(I),S=function(e){var t=function(t){return a.a.createElement(o.Consumer,null,(function(n){return a.a.createElement(e,P()({},t,n))}))};return t.displayName="withPrefetch()",t},R=n(6),A=n.n(R),x=function(e){var t=function(t){var n=t.href,o=t.contentType,i=t.prefetch,c=Object(r.useRef)();return Object(r.useEffect)((function(){var e=new IntersectionObserver((function(t){var r=A()(t,1)[0];if(r.isIntersecting)var a=setTimeout((function(){r.isIntersecting&&c.current&&(i(n,o),e.unobserve(c.current),clearTimeout(a)),clearTimeout(a)}),1e3)}));return c.current&&e.observe(c.current),function(){e.unobserve(c.current)}}),[]),a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{ref:c,style:{height:0,width:0,padding:0,border:"none",visibility:"hidden"}}),a.a.createElement(e,null))};return t.defaultProps={contentType:null},t.displayName="prefetchLink()",S(t)};n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return C})),n.d(t,"d",(function(){return S})),n.d(t,"c",(function(){return x}))},function(e,t,n){"use strict";var r=n(6),a=n.n(r),o=n(0),i=n.n(o),c=(n(3),n(22)),u=n.n(c),s=n(1),l=n(16),p=n(35),d=n.n(p),f=n(15),m=n.n(f),g=function(e){var t=i.a.useState([]),n=a()(t,2),r=n[0],o=n[1],c=i.a.useState(null),s=a()(c,2),l=s[0],f=s[1];return i.a.useEffect((function(){var t=[],n={replace:function(e){if("script"===e.type)return t.push(i.a.createElement("script",null,Object(p.domToReact)(e.children))),i.a.createElement(i.a.Fragment,null)}};o(t),f(d()(e,n))}),[]),i.a.createElement(i.a.Fragment,null,l,!!r.length&&r.map((function(e){return i.a.createElement(m.a,{key:u()()},e)})))},y=function(e){var t=e.clientSide,n=e.bodyBlocks,r=e.zephrHtml;return e.amp?n:t?r?i.a.createElement("div",{className:"polaris__simple-grid--main"},g(r)):n:function(e){return i.a.createElement("div",{"data-zephr":!0,className:"polaris__simple-grid--main"},i.a.createElement("span",{dangerouslySetInnerHTML:{__html:"\x3c!-- BLAIZE_FEATURE article-access --\x3e"},key:u()()}),e,i.a.createElement("span",{"data-zephr-inactive":!0,key:u()("data-zephr-inactive")}),i.a.createElement("span",{dangerouslySetInnerHTML:{__html:"\x3c!-- BLAIZE_FEATURE_END article-access --\x3e"},key:u()("blaize-article-end")}))}(n)},v=function(e){var t=e.bodyBlocks,n=e.amp,r=e.config.zephrHtml,c=Object(o.useState)(!1),u=a()(c,2),l=u[0],p=u[1];return Object(o.useEffect)((function(){p(!0);var e,t,n,r=(e="/",t=window.__API_CREDENTIALS__.uri,n=["develop.coreapp","staging.coreapp","preprod.coreapp"].filter((function(e){return window.location.host.includes(e)})).length>0,t.includes("localhost")?e=t:n&&(e="https://mock.develop.coreapp.didev.co.uk/"),e);fetch("".concat(r,"blaize/datalayer")).then((function(e){return e.json()})).then((function(e){Object.keys(e).forEach((function(t){t in window||(window[t]=[]),window[t].push(e[t]),window[t].push({event:"zephr-datalayer-refreshed"})}))})).catch((function(e,t){return Object(s.A)({description:"ZEPHR ERROR",error:e,info:t,logToConsole:r.includes("localhost")||r.includes("mock"),meta:{file:"WithZephr.js",function:"fetch()"}})}))}),[]),i.a.createElement(y,{clientSide:l,bodyBlocks:t,zephrHtml:r,amp:n})};v.defaultProps={dataLayer:{},amp:!1};var h=Object(l.a)(v),b={getMetaForZephr:function(e){return Object.keys(e).map((function(t){return i.a.createElement("meta",{key:u()(),name:"blaize:".concat(t),content:e[t]})}))}},w=n(2),E=n.n(w),O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.zephrEnableGraphql)return e;var t=document.querySelector("[data-zephr]"),n=!document.querySelector("[data-zephr-inactive]");return E()({},e,{zephrHtml:n&&t?t.innerHTML:null})};n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return g})),n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return O}))},function(e,t){e.exports=n(272)},function(e,t,n){"use strict";n.r(t),n.d(t,"getExternals",(function(){return o})),n.d(t,"getCdnUrls",(function(){return i}));var r=n(28),a={},o=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.packages,n=void 0===t?a:t,o=e.dependencies,i=void 0===o?r.dependencies:o,c={},u=Object.keys(n),s=0;s<u.length;s+=1){var l=u[s];i[l]&&(c[l]=n[l].globalName)}return c},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.packages,n=void 0===t?a:t,o=e.dependencies,i=void 0===o?r.dependencies:o,c=e.polyfillFeatures,u=void 0===c?["IntersectionObserver","matchMedia","Set","Map","requestIdleCallback"]:c,s=e.prod,l=void 0===s||s,p=[],d=Object.keys(n);u.length&&p.push("https://polyfill.io/v3/polyfill.min.js?features=".concat(u.join(",")));for(var f=0;f<d.length;f+=1){var m=d[f],g=!l&&n[m].unpkgFileDev?n[m].unpkgFileDev:n[m].unpkgFile;i[m]&&p.push("https://unpkg.com/".concat(m,"@").concat(i[m],"/").concat(g))}return p}},function(e,t){e.exports=n(273)},function(e,t){e.exports=n(274)},function(e,t){e.exports=n(277)},function(e,t){e.exports=n(72)},function(e,t){e.exports=n(292)},function(e,t){e.exports=n(293)},function(e,t){e.exports=n(59)},function(e,t){e.exports=n(294)},function(e,t){e.exports=n(295)},function(e,t){e.exports=n(88)},function(e,t){e.exports=n(296)},function(e,t){e.exports=n(136)},function(e,t){e.exports=n(297)},function(e){e.exports={access_level:"dimension120",all_categories:"dimension62",article_group_id:"dimension58",article_id:"dimension8",article_type:"dimension5",author:"dimension6",body_copy_paragraphs:"dimension72",category:"dimension3",content_type:"dimension12",expected_traffic_source:"dimension14",gam_ad_unit_path:"dimension30",headline:"dimension55",internal_links:"dimension18",last_modified_date:"dimension4",main_purpose:"dimension1",make:"dimension9",original_publication_date:"dimension13",page_type:"dimension15",product:"dimension11",product_family:"dimension10",site_name:"dimension57",sponsor:"dimension1",sponsored:"dimension2",tags:"dimension52",targeted_search_phrase:"dimension14",topic:"dimension7",top_category:"dimension63",word_count:"dimension17"}},function(e,t){e.exports=n(298)},function(e,t){e.exports=n(302)},function(e,t){e.exports=n(87)},function(e,t){e.exports=n(26)},,function(e,t){e.exports=n(70)},function(e,t){e.exports=n(707)},function(e,t){e.exports=n(34)},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(53),i=n(54),c=n.n(i),u=n(10),s=n(9),l=n.n(s),p=n(55),d=n(27),f=n(1),m=n(11),g=n(24);t.default=function(e){var t=e.prod,n=e.layouts,r=void 0===n?[]:n,i=e.ampLayouts,s=void 0===i?{}:i,y=e.root,v=e.credentials,h=e.schemaFragment,b=e.state,w=void 0===b?null:b,E=e.configQuery,O=void 0===E?null:E,T=e.cookie,j=void 0===T?null:T,k=Object(f.g)({ssr:!1,schemaFragment:h,prod:t,credentials:v,state:w,cookie:j}),_=k.readQuery({query:g.a}).config,C=JSON.parse(_),I=C.globalSettings,P=I.googleAnalytics,S=I.googleOptimize,R=I.permutive,A=I.disableCoreWebAdRefresh,x=I.disableBrowserRouter;P&&(l.a.initialize(P.id,{debug:!t&&window.location.search.includes("ga-debug"),standardImplementation:!0}),S&&l.a.ga("require",S.id));var L=c()([Object(m.x)(),Object(m.A)(),Object(m.s)(),Object(m.y)({ampLayouts:s}),R?m.C:function(e){return e},m.w,P?Object(m.v)(P):function(e){return e},m.u,d.withPrefetch,m.F,A?function(e){return e}:m.r,m.z,m.t,Object(m.D)({configQuery:O,client:k}),Object(m.E)({disableBrowserRouter:x,prod:t,layouts:r})])(r);Object(p.loadableReady)((function(){window.onload=function(){Object(o.hydrate)(a.a.createElement(u.ApolloProvider,{client:k},a.a.createElement(d.HelmetProvider,null,a.a.createElement(d.PrefetchProvider,{client:k,layouts:r},a.a.createElement(L,{client:k,config:C})))),y)}}))}}])},"object"==c(t)&&"object"==c(e)?e.exports=i(n(12)):(a=[n(12)],void 0===(o="function"==typeof(r=i)?r.apply(t,a):r)||(e.exports=o))}).call(this,n(64)(e))}}]);