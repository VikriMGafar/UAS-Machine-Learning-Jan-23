(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[15],{155:function(e,t,n){"use strict";var r=function(e){var t=e.monetising;return t&&t.some((function(e){return"digiteka"===e.service&&e.enabled}))},o=function(e){var t=e.bodyElements,n=e.bodyIndex,r=e.injectedArray,o=e.props,i=e.typeToStartCount,u=void 0===i?"DESKTOP_SIDE_ADVERT":i,s=!1;return m.isLastIndexOfArray({bodyIndex:n,bodyElements:t})&&m.shouldInjectLastAd({injectedArray:r,props:o,typeToStartCount:u})&&(s=!0),s},i=function(e){var t=e.bodyIndex,n=e.currentRuleInjectedComponentCount,r=e.bodyElements,o=!1;return m.isLastIndexOfArray({bodyIndex:t,bodyElements:r})&&0===n&&(o=!0),o},u=function(e){var t=e.injectedArray,n=e.mobile,r=e.props.adSettings,o=e.typeToStartCount,i=void 0===o?"DESKTOP_INLINE_ADVERT":o,u=r.minNumOfWordsAfterLastInlineAdDesktop,s=r.minNumOfWordsAfterLastInlineAdMobile;return!(!u&&0!==u&&!s&&0!==s)&&(n?m.getWordCountFromLastIndexOfTypeToEndOfArray({injectedArray:t,typeToStartCount:i})>=s:m.getWordCountFromLastIndexOfTypeToEndOfArray({injectedArray:t,typeToStartCount:i})>=u)};function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(e){if(!m.isBetweenTwoTextBlocks(c({},e)))return!1;if(!m.isConfigValid(e))return!1;var t=e.currentRuleInjectedComponentCount,n=e.currentRuleComponentTypeWordCount,r=e.props.adSettings,o=r.numberOfWordsBetweenInlineDesktopAds,i=r.numberOfWordsForFirstInjectionDesktop,u=r.minNumOfWordsAfterLastInlineAdDesktop,s=n>=o,l=m.getWordCountFromCurrentIdxToEnd(c({},e))>=u;return 0===t?n>=i&&l:s&&l},a=function(e){var t,n,r=e.options,o=e.viewport,i=r.currentRuleComponentTypeWordCount,u=r.currentRuleInjectedComponentCount,s=r.currentType,c=r.nextType,l=r.props.adSettings,p=l.beforeInlineSubsDesktopAds,a=l.beforeInlineNewsletterDesktopAds,d=l.beforeInlineSubsMobileAds,f=l.beforeInlineNewsletterMobileAds;return"mobile"===o?(t=d===f,n=d):"desktop"===o&&(t=p===a,n=p),!(!t||t&&0===n)&&(!m.hasRuleBeenInjected(u)&&(!1!==m.isBetweenTwoTextBlocks({currentType:s,nextType:c})&&i>=f))},d=function(e){var t,n=e.options,r=e.viewport,o=e.component,i=n.currentRuleComponentTypeWordCount,u=n.currentRuleInjectedComponentCount,s=n.currentType,c=n.nextType,l=n.props.adSettings,p=l.beforeInlineSubsMobileAds,a=l.beforeInlineSubsDesktopAds,d=l.beforeInlineNewsletterMobileAds,f=l.beforeInlineNewsletterDesktopAds;if("newsletter"===o){if("mobile"===r){if(d===p)return!1;t=d}else if("desktop"===r){if(f===a)return!1;t=f}}else if("subscription"===o)if("mobile"===r){if(d===p)return!1;t=p}else if("desktop"===r){if(f===a)return!1;t=a}return!(!t||t&&0===t)&&(!m.hasRuleBeenInjected(u)&&(!1!==m.isBetweenTwoTextBlocks({currentType:s,nextType:c})&&i>t))};function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=y(y({isBetweenTwoTextBlocks:function(e){var t=e.currentType,n=e.nextType;return"TEXT"===t&&"TEXT"===n},isLastIndexOfArray:function(e){return e.bodyIndex===e.bodyElements.length-1},getConfig:function(e){var t=e.localConfig,n=e.ruleName,r=e.defaultConfig,o=e.props;return t[n]&&"function"==typeof t[n]?t[n](o):r},getWordCountFromCurrentIdxToEnd:function(e){var t,n=e.bodyIndex,r=e.bodyElements.slice(n+1);return r&&(t=r.reduce((function(e,t){return t.wordCount?e+t.wordCount:e}),0)),t},getWordCountFromLastIndexOfTypeToEndOfArray:function(e){for(var t,n=e.injectedArray,r=e.typeToStartCount,o=n.length-1;o>0;o--){var i=void 0;if(n[o].type===r&&(i=n.slice(o+1)),i){t=i.reduce((function(e,t){return t.wordCount?e+t.wordCount:e}),0);break}}return t},hasRuleBeenInjected:function(e){return e>=1},isConfigValid:function(e){var t=e.props.adSettings,n=t.numberOfWordsBetweenInlineDesktopAds,r=t.numberOfWordsForFirstInjectionDesktop,o=t.minNumOfWordsAfterLastInlineAdDesktop;return!(!n&&0!==n||!r&&0!==r||!o&&0!==o)},isRightNumberOfWordsForTeads:function(e){var t=e.currentWordCount,n=e.teadsCount,r=e.props.adSettings.minNumOfWordsBeforeTeads;return!(!r&&0!==r)&&(0===n&&t>=r)}},{isDigitekaEnabled:r,shouldInjectDigiteka:function(e){var t=e.options,n=e.viewport,o=t.currentRuleComponentTypeWordCount,i=t.currentRuleInjectedComponentCount,u=t.props,s=u.monetising,c=u.adSettings,l=c.beforeDigitekaDesktopAds,p=c.beforeDigitekaMobileAds,a="desktop"===n?l:p;return(!u.amp||"desktop"!==n)&&(r({monetising:s})&&0===i&&o>=a)}}),{},{shouldInjectFinalSideAd:o,shouldInjectFirstSideAd:i,shouldInjectLastAd:u,shouldInjectListArticleInlineAds:function(e){var t=e.currentType,n=e.nextType,r=e.currentTypeCurrentCount,o=e.injectAfterCount;if(o<=0)return!1;var i=!1;return"GalleryItem"!==t||"GalleryItem"!==n||r%o||(i=!0),"GalleryItem"!==t||null!==n||r%o||(i=!0),i},shouldInjectGalleryInlineAds:function(e){var t=e.currentType,n=e.nextType,r=e.currentTypeCurrentCount,o=e.injectAfterCount;if(o<=0)return!1;var i=!1;return"GalleryItem"!==t||"GalleryItem"!==n||r%o||(i=!0),"GalleryItem"!==t&&"GalleryItem"===n&&(i=!0),"GalleryItem"!==t||null!==n||r%o||(i=!0),i},shouldInjectInlineAndSideAds:p,shouldInjectSubscriptionAndNewsletter:a,shouldInjectSubscriptionOrNewsletter:d}),g=n(33);function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I,O=function(e){if(Array.isArray(e))return C(e)}(I=[{id:"newsletter-mobile",componentType:"newsletterMobile",condition:function(e){return m.shouldInjectSubscriptionOrNewsletter({options:e,viewport:"mobile",component:"newsletter"})},component:function(e){var t=e.newsletterConfig,n=e.breakpoints,r=e.localConfig,o=void 0===r?{}:r;return m.getConfig({localConfig:o,ruleName:"newsletter-mobile",props:{newsletterConfig:t,breakpoints:n,viewport:"mobile"},defaultConfig:g.a.getNewsletterConfig({newsletterConfig:t,breakpoints:n,viewport:"mobile"})})},resetCurrentItemTypeCurrentCounter:!1},{id:"newsletter-desktop",componentType:"newsletterDesktop",condition:function(e){return m.shouldInjectSubscriptionOrNewsletter({options:e,viewport:"desktop",component:"newsletter"})},component:function(e){var t=e.newsletterConfig,n=e.breakpoints,r=e.localConfig,o=void 0===r?{}:r;return m.getConfig({localConfig:o,ruleName:"newsletter-desktop",props:{newsletterConfig:t,breakpoints:n,viewport:"desktop"},defaultConfig:g.a.getNewsletterConfig({newsletterConfig:t,breakpoints:n,viewport:"desktop"})})},resetCurrentItemTypeCurrentCounter:!1}])||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(I)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}(I)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),T=function(e){var t=e.monetising;return t&&t.some((function(e){return"digiteka"===e.service&&e.enabled}))},j=function(e){var t=e.bodyElements,n=e.bodyIndex,r=e.injectedArray,o=e.props,i=e.typeToStartCount,u=void 0===i?"DESKTOP_SIDE_ADVERT":i,s=!1;return W.isLastIndexOfArray({bodyIndex:n,bodyElements:t})&&W.shouldInjectLastAd({injectedArray:r,props:o,typeToStartCount:u})&&(s=!0),s},A=function(e){var t=e.bodyIndex,n=e.currentRuleInjectedComponentCount,r=e.bodyElements,o=!1;return W.isLastIndexOfArray({bodyIndex:t,bodyElements:r})&&0===n&&(o=!0),o},v=function(e){var t=e.injectedArray,n=e.mobile,r=e.props.adSettings,o=e.typeToStartCount,i=void 0===o?"DESKTOP_INLINE_ADVERT":o,u=r.minNumOfWordsAfterLastInlineAdDesktop,s=r.minNumOfWordsAfterLastInlineAdMobile;return!(!u&&0!==u&&!s&&0!==s)&&(n?W.getWordCountFromLastIndexOfTypeToEndOfArray({injectedArray:t,typeToStartCount:i})>=s:W.getWordCountFromLastIndexOfTypeToEndOfArray({injectedArray:t,typeToStartCount:i})>=u)};function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){if(!W.isBetweenTwoTextBlocks(S({},e)))return!1;if(!W.isConfigValid(e))return!1;var t=e.currentRuleInjectedComponentCount,n=e.currentRuleComponentTypeWordCount,r=e.props.adSettings,o=r.numberOfWordsBetweenInlineDesktopAds,i=r.numberOfWordsForFirstInjectionDesktop,u=r.minNumOfWordsAfterLastInlineAdDesktop,s=n>=o,c=W.getWordCountFromCurrentIdxToEnd(S({},e))>=u;return 0===t?n>=i&&c:s&&c},D=function(e){var t,n,r=e.options,o=e.viewport,i=r.currentRuleComponentTypeWordCount,u=r.currentRuleInjectedComponentCount,s=r.currentType,c=r.nextType,l=r.props.adSettings,p=l.beforeInlineSubsDesktopAds,a=l.beforeInlineNewsletterDesktopAds,d=l.beforeInlineSubsMobileAds,f=l.beforeInlineNewsletterMobileAds;return"mobile"===o?(t=d===f,n=d):"desktop"===o&&(t=p===a,n=p),!(!t||t&&0===n)&&(!W.hasRuleBeenInjected(u)&&(!1!==W.isBetweenTwoTextBlocks({currentType:s,nextType:c})&&i>=f))},E=function(e){var t,n=e.options,r=e.viewport,o=e.component,i=n.currentRuleComponentTypeWordCount,u=n.currentRuleInjectedComponentCount,s=n.currentType,c=n.nextType,l=n.props.adSettings,p=l.beforeInlineSubsMobileAds,a=l.beforeInlineSubsDesktopAds,d=l.beforeInlineNewsletterMobileAds,f=l.beforeInlineNewsletterDesktopAds;if("newsletter"===o){if("mobile"===r){if(d===p)return!1;t=d}else if("desktop"===r){if(f===a)return!1;t=f}}else if("subscription"===o)if("mobile"===r){if(d===p)return!1;t=p}else if("desktop"===r){if(f===a)return!1;t=a}return!(!t||t&&0===t)&&(!W.hasRuleBeenInjected(u)&&(!1!==W.isBetweenTwoTextBlocks({currentType:s,nextType:c})&&i>t))};function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W=P(P({isBetweenTwoTextBlocks:function(e){var t=e.currentType,n=e.nextType;return"TEXT"===t&&"TEXT"===n},isLastIndexOfArray:function(e){return e.bodyIndex===e.bodyElements.length-1},getConfig:function(e){var t=e.localConfig,n=e.ruleName,r=e.defaultConfig,o=e.props;return t[n]&&"function"==typeof t[n]?t[n](o):r},getWordCountFromCurrentIdxToEnd:function(e){var t,n=e.bodyIndex,r=e.bodyElements.slice(n+1);return r&&(t=r.reduce((function(e,t){return t.wordCount?e+t.wordCount:e}),0)),t},getWordCountFromLastIndexOfTypeToEndOfArray:function(e){for(var t,n=e.injectedArray,r=e.typeToStartCount,o=n.length-1;o>0;o--){var i=void 0;if(n[o].type===r&&(i=n.slice(o+1)),i){t=i.reduce((function(e,t){return t.wordCount?e+t.wordCount:e}),0);break}}return t},hasRuleBeenInjected:function(e){return e>=1},isConfigValid:function(e){var t=e.props.adSettings,n=t.numberOfWordsBetweenInlineDesktopAds,r=t.numberOfWordsForFirstInjectionDesktop,o=t.minNumOfWordsAfterLastInlineAdDesktop;return!(!n&&0!==n||!r&&0!==r||!o&&0!==o)},isRightNumberOfWordsForTeads:function(e){var t=e.currentWordCount,n=e.teadsCount,r=e.props.adSettings.minNumOfWordsBeforeTeads;return!(!r&&0!==r)&&(0===n&&t>=r)}},{isDigitekaEnabled:T,shouldInjectDigiteka:function(e){var t=e.options,n=e.viewport,r=t.currentRuleComponentTypeWordCount,o=t.currentRuleInjectedComponentCount,i=t.props,u=i.monetising,s=i.adSettings,c=s.beforeDigitekaDesktopAds,l=s.beforeDigitekaMobileAds,p="desktop"===n?c:l;return(!i.amp||"desktop"!==n)&&(T({monetising:u})&&0===o&&r>=p)}}),{},{shouldInjectFinalSideAd:j,shouldInjectFirstSideAd:A,shouldInjectLastAd:v,shouldInjectListArticleInlineAds:function(e){var t=e.currentType,n=e.nextType,r=e.currentTypeCurrentCount,o=e.injectAfterCount;if(o<=0)return!1;var i=!1;return"GalleryItem"!==t||"GalleryItem"!==n||r%o||(i=!0),"GalleryItem"!==t||null!==n||r%o||(i=!0),i},shouldInjectGalleryInlineAds:function(e){var t=e.currentType,n=e.nextType,r=e.currentTypeCurrentCount,o=e.injectAfterCount;if(o<=0)return!1;var i=!1;return"GalleryItem"!==t||"GalleryItem"!==n||r%o||(i=!0),"GalleryItem"!==t&&"GalleryItem"===n&&(i=!0),"GalleryItem"!==t||null!==n||r%o||(i=!0),i},shouldInjectInlineAndSideAds:h,shouldInjectSubscriptionAndNewsletter:D,shouldInjectSubscriptionOrNewsletter:E});function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var R=function(e){return function(e){if(Array.isArray(e))return B(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}([{id:"subscription-mobile",componentType:"subscriptionMobile",condition:function(e){return W.shouldInjectSubscriptionOrNewsletter({options:e,viewport:"mobile",component:"subscription"})},component:function(e){var t=e.promoBoxSettings,n=e.breakpoints,r=e.localConfig,o=void 0===r?{}:r;return W.getConfig({localConfig:o,ruleName:"subscription-mobile",props:{promoBoxSettings:t,breakpoints:n,viewport:"mobile"},defaultConfig:g.a.getSubscriptionConfig({promoBoxSettings:t,breakpoints:n,viewport:"mobile"})})},resetCurrentItemTypeCurrentCounter:!1},{id:"subscription-desktop",componentType:"subscriptionDesktop",condition:function(e){return W.shouldInjectSubscriptionOrNewsletter({options:e,viewport:"desktop",component:"subscription"})},component:function(e){var t=e.promoBoxSettings,n=e.breakpoints,r=e.localConfig,o=void 0===r?{}:r;return W.getConfig({localConfig:o,ruleName:"subscription-desktop",props:{promoBoxSettings:t,breakpoints:n,viewport:"desktop"},defaultConfig:g.a.getSubscriptionConfig({promoBoxSettings:t,breakpoints:n,viewport:"desktop"})})},resetCurrentItemTypeCurrentCounter:!1}]),L=function(e){var t=e.monetising;return t&&t.some((function(e){return"digiteka"===e.service&&e.enabled}))},F=function(e){var t=e.bodyElements,n=e.bodyIndex,r=e.injectedArray,o=e.props,i=e.typeToStartCount,u=void 0===i?"DESKTOP_SIDE_ADVERT":i,s=!1;return q.isLastIndexOfArray({bodyIndex:n,bodyElements:t})&&q.shouldInjectLastAd({injectedArray:r,props:o,typeToStartCount:u})&&(s=!0),s},M=function(e){var t=e.bodyIndex,n=e.currentRuleInjectedComponentCount,r=e.bodyElements,o=!1;return q.isLastIndexOfArray({bodyIndex:t,bodyElements:r})&&0===n&&(o=!0),o},G=function(e){var t=e.injectedArray,n=e.mobile,r=e.props.adSettings,o=e.typeToStartCount,i=void 0===o?"DESKTOP_INLINE_ADVERT":o,u=r.minNumOfWordsAfterLastInlineAdDesktop,s=r.minNumOfWordsAfterLastInlineAdMobile;return!(!u&&0!==u&&!s&&0!==s)&&(n?q.getWordCountFromLastIndexOfTypeToEndOfArray({injectedArray:t,typeToStartCount:i})>=s:q.getWordCountFromLastIndexOfTypeToEndOfArray({injectedArray:t,typeToStartCount:i})>=u)};function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X=function(e){if(!q.isBetweenTwoTextBlocks(V({},e)))return!1;if(!q.isConfigValid(e))return!1;var t=e.currentRuleInjectedComponentCount,n=e.currentRuleComponentTypeWordCount,r=e.props.adSettings,o=r.numberOfWordsBetweenInlineDesktopAds,i=r.numberOfWordsForFirstInjectionDesktop,u=r.minNumOfWordsAfterLastInlineAdDesktop,s=n>=o,c=q.getWordCountFromCurrentIdxToEnd(V({},e))>=u;return 0===t?n>=i&&c:s&&c},z=function(e){var t,n,r=e.options,o=e.viewport,i=r.currentRuleComponentTypeWordCount,u=r.currentRuleInjectedComponentCount,s=r.currentType,c=r.nextType,l=r.props.adSettings,p=l.beforeInlineSubsDesktopAds,a=l.beforeInlineNewsletterDesktopAds,d=l.beforeInlineSubsMobileAds,f=l.beforeInlineNewsletterMobileAds;return"mobile"===o?(t=d===f,n=d):"desktop"===o&&(t=p===a,n=p),!(!t||t&&0===n)&&(!q.hasRuleBeenInjected(u)&&(!1!==q.isBetweenTwoTextBlocks({currentType:s,nextType:c})&&i>=f))},U=function(e){var t,n=e.options,r=e.viewport,o=e.component,i=n.currentRuleComponentTypeWordCount,u=n.currentRuleInjectedComponentCount,s=n.currentType,c=n.nextType,l=n.props.adSettings,p=l.beforeInlineSubsMobileAds,a=l.beforeInlineSubsDesktopAds,d=l.beforeInlineNewsletterMobileAds,f=l.beforeInlineNewsletterDesktopAds;if("newsletter"===o){if("mobile"===r){if(d===p)return!1;t=d}else if("desktop"===r){if(f===a)return!1;t=f}}else if("subscription"===o)if("mobile"===r){if(d===p)return!1;t=p}else if("desktop"===r){if(f===a)return!1;t=a}return!(!t||t&&0===t)&&(!q.hasRuleBeenInjected(u)&&(!1!==q.isBetweenTwoTextBlocks({currentType:s,nextType:c})&&i>t))};function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q=H(H({isBetweenTwoTextBlocks:function(e){var t=e.currentType,n=e.nextType;return"TEXT"===t&&"TEXT"===n},isLastIndexOfArray:function(e){return e.bodyIndex===e.bodyElements.length-1},getConfig:function(e){var t=e.localConfig,n=e.ruleName,r=e.defaultConfig,o=e.props;return t[n]&&"function"==typeof t[n]?t[n](o):r},getWordCountFromCurrentIdxToEnd:function(e){var t,n=e.bodyIndex,r=e.bodyElements.slice(n+1);return r&&(t=r.reduce((function(e,t){return t.wordCount?e+t.wordCount:e}),0)),t},getWordCountFromLastIndexOfTypeToEndOfArray:function(e){for(var t,n=e.injectedArray,r=e.typeToStartCount,o=n.length-1;o>0;o--){var i=void 0;if(n[o].type===r&&(i=n.slice(o+1)),i){t=i.reduce((function(e,t){return t.wordCount?e+t.wordCount:e}),0);break}}return t},hasRuleBeenInjected:function(e){return e>=1},isConfigValid:function(e){var t=e.props.adSettings,n=t.numberOfWordsBetweenInlineDesktopAds,r=t.numberOfWordsForFirstInjectionDesktop,o=t.minNumOfWordsAfterLastInlineAdDesktop;return!(!n&&0!==n||!r&&0!==r||!o&&0!==o)},isRightNumberOfWordsForTeads:function(e){var t=e.currentWordCount,n=e.teadsCount,r=e.props.adSettings.minNumOfWordsBeforeTeads;return!(!r&&0!==r)&&(0===n&&t>=r)}},{isDigitekaEnabled:L,shouldInjectDigiteka:function(e){var t=e.options,n=e.viewport,r=t.currentRuleComponentTypeWordCount,o=t.currentRuleInjectedComponentCount,i=t.props,u=i.monetising,s=i.adSettings,c=s.beforeDigitekaDesktopAds,l=s.beforeDigitekaMobileAds,p="desktop"===n?c:l;return(!i.amp||"desktop"!==n)&&(L({monetising:u})&&0===o&&r>=p)}}),{},{shouldInjectFinalSideAd:F,shouldInjectFirstSideAd:M,shouldInjectLastAd:G,shouldInjectListArticleInlineAds:function(e){var t=e.currentType,n=e.nextType,r=e.currentTypeCurrentCount,o=e.injectAfterCount;if(o<=0)return!1;var i=!1;return"GalleryItem"!==t||"GalleryItem"!==n||r%o||(i=!0),"GalleryItem"!==t||null!==n||r%o||(i=!0),i},shouldInjectGalleryInlineAds:function(e){var t=e.currentType,n=e.nextType,r=e.currentTypeCurrentCount,o=e.injectAfterCount;if(o<=0)return!1;var i=!1;return"GalleryItem"!==t||"GalleryItem"!==n||r%o||(i=!0),"GalleryItem"!==t&&"GalleryItem"===n&&(i=!0),"GalleryItem"!==t||null!==n||r%o||(i=!0),i},shouldInjectInlineAndSideAds:X,shouldInjectSubscriptionAndNewsletter:z,shouldInjectSubscriptionOrNewsletter:U});function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Q=function(e){return function(e){if(Array.isArray(e))return J(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}([{id:"inline-and-side",componentType:"desktopSideAndInlineAd",condition:function(e){return q.shouldInjectInlineAndSideAds(e)},component:function(e){var t=e.componentCount,n=e.localConfig,r=void 0===n?{}:n;return q.getConfig({localConfig:r,ruleName:"inline-and-side",props:t,defaultConfig:g.a.getDesktopAdsConfig(t)})},resetCurrentItemTypeCurrentCounter:!0},{id:"first-side",componentType:"desktopSideAndInlineAd",condition:function(e){return q.shouldInjectFirstSideAd(e)},component:function(e){var t=e.componentCount,n=e.localConfig,r=void 0===n?{}:n;return q.getConfig({localConfig:r,ruleName:"first-side",props:t,defaultConfig:g.a.getSideAdConfig(t)})}},{id:"final-side",componentType:"desktopSideAndInlineAd",condition:function(e){return q.shouldInjectFinalSideAd(e)},component:function(e){var t=e.componentCount,n=e.localConfig,r=void 0===n?{}:n;return q.getConfig({localConfig:r,ruleName:"final-side",props:t,defaultConfig:g.a.getSideAdConfig(t)})},resetCurrentItemTypeCurrentCounter:!0}]),Z=function(e){var t=e.monetising;return t&&t.some((function(e){return"digiteka"===e.service&&e.enabled}))},ee=function(e){var t=e.bodyElements,n=e.bodyIndex,r=e.injectedArray,o=e.props,i=e.typeToStartCount,u=void 0===i?"DESKTOP_SIDE_ADVERT":i,s=!1;return de.isLastIndexOfArray({bodyIndex:n,bodyElements:t})&&de.shouldInjectLastAd({injectedArray:r,props:o,typeToStartCount:u})&&(s=!0),s},te=function(e){var t=e.bodyIndex,n=e.currentRuleInjectedComponentCount,r=e.bodyElements,o=!1;return de.isLastIndexOfArray({bodyIndex:t,bodyElements:r})&&0===n&&(o=!0),o},ne=function(e){var t=e.injectedArray,n=e.mobile,r=e.props.adSettings,o=e.typeToStartCount,i=void 0===o?"DESKTOP_INLINE_ADVERT":o,u=r.minNumOfWordsAfterLastInlineAdDesktop,s=r.minNumOfWordsAfterLastInlineAdMobile;return!(!u&&0!==u&&!s&&0!==s)&&(n?de.getWordCountFromLastIndexOfTypeToEndOfArray({injectedArray:t,typeToStartCount:i})>=s:de.getWordCountFromLastIndexOfTypeToEndOfArray({injectedArray:t,typeToStartCount:i})>=u)};function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ue=function(e){if(!de.isBetweenTwoTextBlocks(oe({},e)))return!1;if(!de.isConfigValid(e))return!1;var t=e.currentRuleInjectedComponentCount,n=e.currentRuleComponentTypeWordCount,r=e.props.adSettings,o=r.numberOfWordsBetweenInlineDesktopAds,i=r.numberOfWordsForFirstInjectionDesktop,u=r.minNumOfWordsAfterLastInlineAdDesktop,s=n>=o,c=de.getWordCountFromCurrentIdxToEnd(oe({},e))>=u;return 0===t?n>=i&&c:s&&c},se=function(e){var t,n,r=e.options,o=e.viewport,i=r.currentRuleComponentTypeWordCount,u=r.currentRuleInjectedComponentCount,s=r.currentType,c=r.nextType,l=r.props.adSettings,p=l.beforeInlineSubsDesktopAds,a=l.beforeInlineNewsletterDesktopAds,d=l.beforeInlineSubsMobileAds,f=l.beforeInlineNewsletterMobileAds;return"mobile"===o?(t=d===f,n=d):"desktop"===o&&(t=p===a,n=p),!(!t||t&&0===n)&&(!de.hasRuleBeenInjected(u)&&(!1!==de.isBetweenTwoTextBlocks({currentType:s,nextType:c})&&i>=f))},ce=function(e){var t,n=e.options,r=e.viewport,o=e.component,i=n.currentRuleComponentTypeWordCount,u=n.currentRuleInjectedComponentCount,s=n.currentType,c=n.nextType,l=n.props.adSettings,p=l.beforeInlineSubsMobileAds,a=l.beforeInlineSubsDesktopAds,d=l.beforeInlineNewsletterMobileAds,f=l.beforeInlineNewsletterDesktopAds;if("newsletter"===o){if("mobile"===r){if(d===p)return!1;t=d}else if("desktop"===r){if(f===a)return!1;t=f}}else if("subscription"===o)if("mobile"===r){if(d===p)return!1;t=p}else if("desktop"===r){if(f===a)return!1;t=a}return!(!t||t&&0===t)&&(!de.hasRuleBeenInjected(u)&&(!1!==de.isBetweenTwoTextBlocks({currentType:s,nextType:c})&&i>t))};function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var de=pe(pe({isBetweenTwoTextBlocks:function(e){var t=e.currentType,n=e.nextType;return"TEXT"===t&&"TEXT"===n},isLastIndexOfArray:function(e){return e.bodyIndex===e.bodyElements.length-1},getConfig:function(e){var t=e.localConfig,n=e.ruleName,r=e.defaultConfig,o=e.props;return t[n]&&"function"==typeof t[n]?t[n](o):r},getWordCountFromCurrentIdxToEnd:function(e){var t,n=e.bodyIndex,r=e.bodyElements.slice(n+1);return r&&(t=r.reduce((function(e,t){return t.wordCount?e+t.wordCount:e}),0)),t},getWordCountFromLastIndexOfTypeToEndOfArray:function(e){for(var t,n=e.injectedArray,r=e.typeToStartCount,o=n.length-1;o>0;o--){var i=void 0;if(n[o].type===r&&(i=n.slice(o+1)),i){t=i.reduce((function(e,t){return t.wordCount?e+t.wordCount:e}),0);break}}return t},hasRuleBeenInjected:function(e){return e>=1},isConfigValid:function(e){var t=e.props.adSettings,n=t.numberOfWordsBetweenInlineDesktopAds,r=t.numberOfWordsForFirstInjectionDesktop,o=t.minNumOfWordsAfterLastInlineAdDesktop;return!(!n&&0!==n||!r&&0!==r||!o&&0!==o)},isRightNumberOfWordsForTeads:function(e){var t=e.currentWordCount,n=e.teadsCount,r=e.props.adSettings.minNumOfWordsBeforeTeads;return!(!r&&0!==r)&&(0===n&&t>=r)}},{isDigitekaEnabled:Z,shouldInjectDigiteka:function(e){var t=e.options,n=e.viewport,r=t.currentRuleComponentTypeWordCount,o=t.currentRuleInjectedComponentCount,i=t.props,u=i.monetising,s=i.adSettings,c=s.beforeDigitekaDesktopAds,l=s.beforeDigitekaMobileAds,p="desktop"===n?c:l;return(!i.amp||"desktop"!==n)&&(Z({monetising:u})&&0===o&&r>=p)}}),{},{shouldInjectFinalSideAd:ee,shouldInjectFirstSideAd:te,shouldInjectLastAd:ne,shouldInjectListArticleInlineAds:function(e){var t=e.currentType,n=e.nextType,r=e.currentTypeCurrentCount,o=e.injectAfterCount;if(o<=0)return!1;var i=!1;return"GalleryItem"!==t||"GalleryItem"!==n||r%o||(i=!0),"GalleryItem"!==t||null!==n||r%o||(i=!0),i},shouldInjectGalleryInlineAds:function(e){var t=e.currentType,n=e.nextType,r=e.currentTypeCurrentCount,o=e.injectAfterCount;if(o<=0)return!1;var i=!1;return"GalleryItem"!==t||"GalleryItem"!==n||r%o||(i=!0),"GalleryItem"!==t&&"GalleryItem"===n&&(i=!0),"GalleryItem"!==t||null!==n||r%o||(i=!0),i},shouldInjectInlineAndSideAds:ue,shouldInjectSubscriptionAndNewsletter:se,shouldInjectSubscriptionOrNewsletter:ce});function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ye=function(e){return function(e){if(Array.isArray(e))return fe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}([{id:"digiteka-desktop",componentType:"digitekaDesktop",condition:function(e){return de.shouldInjectDigiteka({options:e,viewport:"desktop"})},component:function(e){var t=e.monetising,n=e.breakpoints,r=e.localConfig,o=void 0===r?{}:r;return de.getConfig({localConfig:o,ruleName:"digiteka-desktop",props:{monetising:t,breakpoints:n,viewport:"desktop"},defaultConfig:g.a.getDigitekaConfig({monetising:t,breakpoints:n,viewport:"desktop"})})}},{id:"digiteka-mobile",componentType:"digitekaMobile",condition:function(e){return de.shouldInjectDigiteka({options:e,viewport:"mobile"})},component:function(e){var t=e.monetising,n=e.breakpoints,r=e.amp,o=e.localConfig,i=void 0===o?{}:o;return de.getConfig({localConfig:i,ruleName:"digiteka-mobile",props:{monetising:t,breakpoints:n,viewport:"mobile",amp:r},defaultConfig:g.a.getDigitekaConfig({monetising:t,breakpoints:n,viewport:"mobile",amp:r})})}}]),be=function(e){var t=e.monetising;return t&&t.some((function(e){return"digiteka"===e.service&&e.enabled}))},me=function(e){var t=e.bodyElements,n=e.bodyIndex,r=e.injectedArray,o=e.props,i=e.typeToStartCount,u=void 0===i?"DESKTOP_SIDE_ADVERT":i,s=!1;return he.isLastIndexOfArray({bodyIndex:n,bodyElements:t})&&he.shouldInjectLastAd({injectedArray:r,props:o,typeToStartCount:u})&&(s=!0),s},ge=function(e){var t=e.bodyIndex,n=e.currentRuleInjectedComponentCount,r=e.bodyElements,o=!1;return he.isLastIndexOfArray({bodyIndex:t,bodyElements:r})&&0===n&&(o=!0),o},Ce=function(e){var t=e.injectedArray,n=e.mobile,r=e.props.adSettings,o=e.typeToStartCount,i=void 0===o?"DESKTOP_INLINE_ADVERT":o,u=r.minNumOfWordsAfterLastInlineAdDesktop,s=r.minNumOfWordsAfterLastInlineAdMobile;return!(!u&&0!==u&&!s&&0!==s)&&(n?he.getWordCountFromLastIndexOfTypeToEndOfArray({injectedArray:t,typeToStartCount:i})>=s:he.getWordCountFromLastIndexOfTypeToEndOfArray({injectedArray:t,typeToStartCount:i})>=u)};function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){Te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var je=function(e){if(!he.isBetweenTwoTextBlocks(Oe({},e)))return!1;if(!he.isConfigValid(e))return!1;var t=e.currentRuleInjectedComponentCount,n=e.currentRuleComponentTypeWordCount,r=e.props.adSettings,o=r.numberOfWordsBetweenInlineDesktopAds,i=r.numberOfWordsForFirstInjectionDesktop,u=r.minNumOfWordsAfterLastInlineAdDesktop,s=n>=o,c=he.getWordCountFromCurrentIdxToEnd(Oe({},e))>=u;return 0===t?n>=i&&c:s&&c},Ae=function(e){var t,n,r=e.options,o=e.viewport,i=r.currentRuleComponentTypeWordCount,u=r.currentRuleInjectedComponentCount,s=r.currentType,c=r.nextType,l=r.props.adSettings,p=l.beforeInlineSubsDesktopAds,a=l.beforeInlineNewsletterDesktopAds,d=l.beforeInlineSubsMobileAds,f=l.beforeInlineNewsletterMobileAds;return"mobile"===o?(t=d===f,n=d):"desktop"===o&&(t=p===a,n=p),!(!t||t&&0===n)&&(!he.hasRuleBeenInjected(u)&&(!1!==he.isBetweenTwoTextBlocks({currentType:s,nextType:c})&&i>=f))},ve=function(e){var t,n=e.options,r=e.viewport,o=e.component,i=n.currentRuleComponentTypeWordCount,u=n.currentRuleInjectedComponentCount,s=n.currentType,c=n.nextType,l=n.props.adSettings,p=l.beforeInlineSubsMobileAds,a=l.beforeInlineSubsDesktopAds,d=l.beforeInlineNewsletterMobileAds,f=l.beforeInlineNewsletterDesktopAds;if("newsletter"===o){if("mobile"===r){if(d===p)return!1;t=d}else if("desktop"===r){if(f===a)return!1;t=f}}else if("subscription"===o)if("mobile"===r){if(d===p)return!1;t=p}else if("desktop"===r){if(f===a)return!1;t=a}return!(!t||t&&0===t)&&(!he.hasRuleBeenInjected(u)&&(!1!==he.isBetweenTwoTextBlocks({currentType:s,nextType:c})&&i>t))};function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var he=Se(Se({isBetweenTwoTextBlocks:function(e){var t=e.currentType,n=e.nextType;return"TEXT"===t&&"TEXT"===n},isLastIndexOfArray:function(e){return e.bodyIndex===e.bodyElements.length-1},getConfig:function(e){var t=e.localConfig,n=e.ruleName,r=e.defaultConfig,o=e.props;return t[n]&&"function"==typeof t[n]?t[n](o):r},getWordCountFromCurrentIdxToEnd:function(e){var t,n=e.bodyIndex,r=e.bodyElements.slice(n+1);return r&&(t=r.reduce((function(e,t){return t.wordCount?e+t.wordCount:e}),0)),t},getWordCountFromLastIndexOfTypeToEndOfArray:function(e){for(var t,n=e.injectedArray,r=e.typeToStartCount,o=n.length-1;o>0;o--){var i=void 0;if(n[o].type===r&&(i=n.slice(o+1)),i){t=i.reduce((function(e,t){return t.wordCount?e+t.wordCount:e}),0);break}}return t},hasRuleBeenInjected:function(e){return e>=1},isConfigValid:function(e){var t=e.props.adSettings,n=t.numberOfWordsBetweenInlineDesktopAds,r=t.numberOfWordsForFirstInjectionDesktop,o=t.minNumOfWordsAfterLastInlineAdDesktop;return!(!n&&0!==n||!r&&0!==r||!o&&0!==o)},isRightNumberOfWordsForTeads:function(e){var t=e.currentWordCount,n=e.teadsCount,r=e.props.adSettings.minNumOfWordsBeforeTeads;return!(!r&&0!==r)&&(0===n&&t>=r)}},{isDigitekaEnabled:be,shouldInjectDigiteka:function(e){var t=e.options,n=e.viewport,r=t.currentRuleComponentTypeWordCount,o=t.currentRuleInjectedComponentCount,i=t.props,u=i.monetising,s=i.adSettings,c=s.beforeDigitekaDesktopAds,l=s.beforeDigitekaMobileAds,p="desktop"===n?c:l;return(!i.amp||"desktop"!==n)&&(be({monetising:u})&&0===o&&r>=p)}}),{},{shouldInjectFinalSideAd:me,shouldInjectFirstSideAd:ge,shouldInjectLastAd:Ce,shouldInjectListArticleInlineAds:function(e){var t=e.currentType,n=e.nextType,r=e.currentTypeCurrentCount,o=e.injectAfterCount;if(o<=0)return!1;var i=!1;return"GalleryItem"!==t||"GalleryItem"!==n||r%o||(i=!0),"GalleryItem"!==t||null!==n||r%o||(i=!0),i},shouldInjectGalleryInlineAds:function(e){var t=e.currentType,n=e.nextType,r=e.currentTypeCurrentCount,o=e.injectAfterCount;if(o<=0)return!1;var i=!1;return"GalleryItem"!==t||"GalleryItem"!==n||r%o||(i=!0),"GalleryItem"!==t&&"GalleryItem"===n&&(i=!0),"GalleryItem"!==t||null!==n||r%o||(i=!0),i},shouldInjectInlineAndSideAds:je,shouldInjectSubscriptionAndNewsletter:Ae,shouldInjectSubscriptionOrNewsletter:ve});function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pe=function(e){return he.isBetweenTwoTextBlocks(Ee({},e))&&function(e){var t=e.currentRuleInjectedComponentCount,n=e.currentRuleComponentTypeWordCount,r=e.props.adSettings,o=r.numberOfWordsBetweenInlineMobileAds,i=r.numberOfWordsForFirstInjectionMobile,u=r.minNumOfWordsAfterLastInlineAdMobile;if(!o&&0!==o||!i&&0!==i||!u&&0!==u)return!1;if(0===t)return n>=i;var s=n>=o,c=he.getWordCountFromCurrentIdxToEnd(Ee({},e));return s&&c>=u}(e)};function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var We=function(e){return function(e){if(Array.isArray(e))return Ne(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ne(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}([{id:"mobile-inline-ads",componentType:"mobileInlineAd",condition:function(e){return Pe(e)},component:function(e){var t=e.componentCount,n=e.localConfig,r=void 0===n?{}:n;return he.getConfig({localConfig:r,ruleName:"mobile-inline-ads",props:t,defaultConfig:g.a.getMobileAdsConfig(t)})},resetCurrentItemTypeCurrentCounter:!0}]),Be=function(e){var t=e.monetising;return t&&t.some((function(e){return"digiteka"===e.service&&e.enabled}))},Re=function(e){var t=e.bodyElements,n=e.bodyIndex,r=e.injectedArray,o=e.props,i=e.typeToStartCount,u=void 0===i?"DESKTOP_SIDE_ADVERT":i,s=!1;return He.isLastIndexOfArray({bodyIndex:n,bodyElements:t})&&He.shouldInjectLastAd({injectedArray:r,props:o,typeToStartCount:u})&&(s=!0),s},Le=function(e){var t=e.bodyIndex,n=e.currentRuleInjectedComponentCount,r=e.bodyElements,o=!1;return He.isLastIndexOfArray({bodyIndex:t,bodyElements:r})&&0===n&&(o=!0),o},Fe=function(e){var t=e.injectedArray,n=e.mobile,r=e.props.adSettings,o=e.typeToStartCount,i=void 0===o?"DESKTOP_INLINE_ADVERT":o,u=r.minNumOfWordsAfterLastInlineAdDesktop,s=r.minNumOfWordsAfterLastInlineAdMobile;return!(!u&&0!==u&&!s&&0!==s)&&(n?He.getWordCountFromLastIndexOfTypeToEndOfArray({injectedArray:t,typeToStartCount:i})>=s:He.getWordCountFromLastIndexOfTypeToEndOfArray({injectedArray:t,typeToStartCount:i})>=u)};function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){_e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ve=function(e){if(!He.isBetweenTwoTextBlocks(Ge({},e)))return!1;if(!He.isConfigValid(e))return!1;var t=e.currentRuleInjectedComponentCount,n=e.currentRuleComponentTypeWordCount,r=e.props.adSettings,o=r.numberOfWordsBetweenInlineDesktopAds,i=r.numberOfWordsForFirstInjectionDesktop,u=r.minNumOfWordsAfterLastInlineAdDesktop,s=n>=o,c=He.getWordCountFromCurrentIdxToEnd(Ge({},e))>=u;return 0===t?n>=i&&c:s&&c},Ke=function(e){var t,n,r=e.options,o=e.viewport,i=r.currentRuleComponentTypeWordCount,u=r.currentRuleInjectedComponentCount,s=r.currentType,c=r.nextType,l=r.props.adSettings,p=l.beforeInlineSubsDesktopAds,a=l.beforeInlineNewsletterDesktopAds,d=l.beforeInlineSubsMobileAds,f=l.beforeInlineNewsletterMobileAds;return"mobile"===o?(t=d===f,n=d):"desktop"===o&&(t=p===a,n=p),!(!t||t&&0===n)&&(!He.hasRuleBeenInjected(u)&&(!1!==He.isBetweenTwoTextBlocks({currentType:s,nextType:c})&&i>=f))},Xe=function(e){var t,n=e.options,r=e.viewport,o=e.component,i=n.currentRuleComponentTypeWordCount,u=n.currentRuleInjectedComponentCount,s=n.currentType,c=n.nextType,l=n.props.adSettings,p=l.beforeInlineSubsMobileAds,a=l.beforeInlineSubsDesktopAds,d=l.beforeInlineNewsletterMobileAds,f=l.beforeInlineNewsletterDesktopAds;if("newsletter"===o){if("mobile"===r){if(d===p)return!1;t=d}else if("desktop"===r){if(f===a)return!1;t=f}}else if("subscription"===o)if("mobile"===r){if(d===p)return!1;t=p}else if("desktop"===r){if(f===a)return!1;t=a}return!(!t||t&&0===t)&&(!He.hasRuleBeenInjected(u)&&(!1!==He.isBetweenTwoTextBlocks({currentType:s,nextType:c})&&i>t))};function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){$e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var He=Ue(Ue({isBetweenTwoTextBlocks:function(e){var t=e.currentType,n=e.nextType;return"TEXT"===t&&"TEXT"===n},isLastIndexOfArray:function(e){return e.bodyIndex===e.bodyElements.length-1},getConfig:function(e){var t=e.localConfig,n=e.ruleName,r=e.defaultConfig,o=e.props;return t[n]&&"function"==typeof t[n]?t[n](o):r},getWordCountFromCurrentIdxToEnd:function(e){var t,n=e.bodyIndex,r=e.bodyElements.slice(n+1);return r&&(t=r.reduce((function(e,t){return t.wordCount?e+t.wordCount:e}),0)),t},getWordCountFromLastIndexOfTypeToEndOfArray:function(e){for(var t,n=e.injectedArray,r=e.typeToStartCount,o=n.length-1;o>0;o--){var i=void 0;if(n[o].type===r&&(i=n.slice(o+1)),i){t=i.reduce((function(e,t){return t.wordCount?e+t.wordCount:e}),0);break}}return t},hasRuleBeenInjected:function(e){return e>=1},isConfigValid:function(e){var t=e.props.adSettings,n=t.numberOfWordsBetweenInlineDesktopAds,r=t.numberOfWordsForFirstInjectionDesktop,o=t.minNumOfWordsAfterLastInlineAdDesktop;return!(!n&&0!==n||!r&&0!==r||!o&&0!==o)},isRightNumberOfWordsForTeads:function(e){var t=e.currentWordCount,n=e.teadsCount,r=e.props.adSettings.minNumOfWordsBeforeTeads;return!(!r&&0!==r)&&(0===n&&t>=r)}},{isDigitekaEnabled:Be,shouldInjectDigiteka:function(e){var t=e.options,n=e.viewport,r=t.currentRuleComponentTypeWordCount,o=t.currentRuleInjectedComponentCount,i=t.props,u=i.monetising,s=i.adSettings,c=s.beforeDigitekaDesktopAds,l=s.beforeDigitekaMobileAds,p="desktop"===n?c:l;return(!i.amp||"desktop"!==n)&&(Be({monetising:u})&&0===o&&r>=p)}}),{},{shouldInjectFinalSideAd:Re,shouldInjectFirstSideAd:Le,shouldInjectLastAd:Fe,shouldInjectListArticleInlineAds:function(e){var t=e.currentType,n=e.nextType,r=e.currentTypeCurrentCount,o=e.injectAfterCount;if(o<=0)return!1;var i=!1;return"GalleryItem"!==t||"GalleryItem"!==n||r%o||(i=!0),"GalleryItem"!==t||null!==n||r%o||(i=!0),i},shouldInjectGalleryInlineAds:function(e){var t=e.currentType,n=e.nextType,r=e.currentTypeCurrentCount,o=e.injectAfterCount;if(o<=0)return!1;var i=!1;return"GalleryItem"!==t||"GalleryItem"!==n||r%o||(i=!0),"GalleryItem"!==t&&"GalleryItem"===n&&(i=!0),"GalleryItem"!==t||null!==n||r%o||(i=!0),i},shouldInjectInlineAndSideAds:Ve,shouldInjectSubscriptionAndNewsletter:Ke,shouldInjectSubscriptionOrNewsletter:Xe});function Ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qe=function(e){return function(e){if(Array.isArray(e))return Ye(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ye(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}([{id:"side-content",componentType:"sideContent",condition:function(e){return function(e){var t=e.currentType,n=e.currentRuleInjectedComponentCount,r=e.injectedArray,o=e.nextType;return He.isBetweenTwoTextBlocks({currentType:t,nextType:o})&&function(e){var t=e.injectedArray;return 0===e.sideContentCount&&t.find((function(e){return"DESKTOP_INLINE_ADVERT"===e.type}))}({injectedArray:r,sideContentCount:n})}(e)},component:function(e){var t=e.sideContent,n=e.localConfig,r=void 0===n?{}:n;return He.getConfig({localConfig:r,ruleName:"side-content",props:t,defaultConfig:[{type:"SIDE_CONTENT",props:t}]})}}]),Je=function(e){var t=e.monetising;return t&&t.some((function(e){return"digiteka"===e.service&&e.enabled}))},Qe=function(e){var t=e.bodyElements,n=e.bodyIndex,r=e.injectedArray,o=e.props,i=e.typeToStartCount,u=void 0===i?"DESKTOP_SIDE_ADVERT":i,s=!1;return pt.isLastIndexOfArray({bodyIndex:n,bodyElements:t})&&pt.shouldInjectLastAd({injectedArray:r,props:o,typeToStartCount:u})&&(s=!0),s},Ze=function(e){var t=e.bodyIndex,n=e.currentRuleInjectedComponentCount,r=e.bodyElements,o=!1;return pt.isLastIndexOfArray({bodyIndex:t,bodyElements:r})&&0===n&&(o=!0),o},et=function(e){var t=e.injectedArray,n=e.mobile,r=e.props.adSettings,o=e.typeToStartCount,i=void 0===o?"DESKTOP_INLINE_ADVERT":o,u=r.minNumOfWordsAfterLastInlineAdDesktop,s=r.minNumOfWordsAfterLastInlineAdMobile;return!(!u&&0!==u&&!s&&0!==s)&&(n?pt.getWordCountFromLastIndexOfTypeToEndOfArray({injectedArray:t,typeToStartCount:i})>=s:pt.getWordCountFromLastIndexOfTypeToEndOfArray({injectedArray:t,typeToStartCount:i})>=u)};function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ot=function(e){if(!pt.isBetweenTwoTextBlocks(nt({},e)))return!1;if(!pt.isConfigValid(e))return!1;var t=e.currentRuleInjectedComponentCount,n=e.currentRuleComponentTypeWordCount,r=e.props.adSettings,o=r.numberOfWordsBetweenInlineDesktopAds,i=r.numberOfWordsForFirstInjectionDesktop,u=r.minNumOfWordsAfterLastInlineAdDesktop,s=n>=o,c=pt.getWordCountFromCurrentIdxToEnd(nt({},e))>=u;return 0===t?n>=i&&c:s&&c},it=function(e){var t,n,r=e.options,o=e.viewport,i=r.currentRuleComponentTypeWordCount,u=r.currentRuleInjectedComponentCount,s=r.currentType,c=r.nextType,l=r.props.adSettings,p=l.beforeInlineSubsDesktopAds,a=l.beforeInlineNewsletterDesktopAds,d=l.beforeInlineSubsMobileAds,f=l.beforeInlineNewsletterMobileAds;return"mobile"===o?(t=d===f,n=d):"desktop"===o&&(t=p===a,n=p),!(!t||t&&0===n)&&(!pt.hasRuleBeenInjected(u)&&(!1!==pt.isBetweenTwoTextBlocks({currentType:s,nextType:c})&&i>=f))},ut=function(e){var t,n=e.options,r=e.viewport,o=e.component,i=n.currentRuleComponentTypeWordCount,u=n.currentRuleInjectedComponentCount,s=n.currentType,c=n.nextType,l=n.props.adSettings,p=l.beforeInlineSubsMobileAds,a=l.beforeInlineSubsDesktopAds,d=l.beforeInlineNewsletterMobileAds,f=l.beforeInlineNewsletterDesktopAds;if("newsletter"===o){if("mobile"===r){if(d===p)return!1;t=d}else if("desktop"===r){if(f===a)return!1;t=f}}else if("subscription"===o)if("mobile"===r){if(d===p)return!1;t=p}else if("desktop"===r){if(f===a)return!1;t=a}return!(!t||t&&0===t)&&(!pt.hasRuleBeenInjected(u)&&(!1!==pt.isBetweenTwoTextBlocks({currentType:s,nextType:c})&&i>t))};function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){lt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pt=ct(ct({isBetweenTwoTextBlocks:function(e){var t=e.currentType,n=e.nextType;return"TEXT"===t&&"TEXT"===n},isLastIndexOfArray:function(e){return e.bodyIndex===e.bodyElements.length-1},getConfig:function(e){var t=e.localConfig,n=e.ruleName,r=e.defaultConfig,o=e.props;return t[n]&&"function"==typeof t[n]?t[n](o):r},getWordCountFromCurrentIdxToEnd:function(e){var t,n=e.bodyIndex,r=e.bodyElements.slice(n+1);return r&&(t=r.reduce((function(e,t){return t.wordCount?e+t.wordCount:e}),0)),t},getWordCountFromLastIndexOfTypeToEndOfArray:function(e){for(var t,n=e.injectedArray,r=e.typeToStartCount,o=n.length-1;o>0;o--){var i=void 0;if(n[o].type===r&&(i=n.slice(o+1)),i){t=i.reduce((function(e,t){return t.wordCount?e+t.wordCount:e}),0);break}}return t},hasRuleBeenInjected:function(e){return e>=1},isConfigValid:function(e){var t=e.props.adSettings,n=t.numberOfWordsBetweenInlineDesktopAds,r=t.numberOfWordsForFirstInjectionDesktop,o=t.minNumOfWordsAfterLastInlineAdDesktop;return!(!n&&0!==n||!r&&0!==r||!o&&0!==o)},isRightNumberOfWordsForTeads:function(e){var t=e.currentWordCount,n=e.teadsCount,r=e.props.adSettings.minNumOfWordsBeforeTeads;return!(!r&&0!==r)&&(0===n&&t>=r)}},{isDigitekaEnabled:Je,shouldInjectDigiteka:function(e){var t=e.options,n=e.viewport,r=t.currentRuleComponentTypeWordCount,o=t.currentRuleInjectedComponentCount,i=t.props,u=i.monetising,s=i.adSettings,c=s.beforeDigitekaDesktopAds,l=s.beforeDigitekaMobileAds,p="desktop"===n?c:l;return(!i.amp||"desktop"!==n)&&(Je({monetising:u})&&0===o&&r>=p)}}),{},{shouldInjectFinalSideAd:Qe,shouldInjectFirstSideAd:Ze,shouldInjectLastAd:et,shouldInjectListArticleInlineAds:function(e){var t=e.currentType,n=e.nextType,r=e.currentTypeCurrentCount,o=e.injectAfterCount;if(o<=0)return!1;var i=!1;return"GalleryItem"!==t||"GalleryItem"!==n||r%o||(i=!0),"GalleryItem"!==t||null!==n||r%o||(i=!0),i},shouldInjectGalleryInlineAds:function(e){var t=e.currentType,n=e.nextType,r=e.currentTypeCurrentCount,o=e.injectAfterCount;if(o<=0)return!1;var i=!1;return"GalleryItem"!==t||"GalleryItem"!==n||r%o||(i=!0),"GalleryItem"!==t&&"GalleryItem"===n&&(i=!0),"GalleryItem"!==t||null!==n||r%o||(i=!0),i},shouldInjectInlineAndSideAds:ot,shouldInjectSubscriptionAndNewsletter:it,shouldInjectSubscriptionOrNewsletter:ut});function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var dt=function(e){return function(e){if(Array.isArray(e))return at(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return at(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return at(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}([{id:"subscription-newsletter-mobile",componentType:"subscriptionNewsletterMobile",condition:function(e){return pt.shouldInjectSubscriptionAndNewsletter({options:e,viewport:"mobile"})},component:function(e){var t=e.promoBoxSettings,n=e.newsletterConfig,r=e.breakpoints,o=e.localConfig,i=void 0===o?{}:o;return i["subscription-newsletter-mobile"]?i["subscription-newsletter-mobile"]({promoBoxSettings:t,newsletterConfig:n,breakpoints:r,viewport:"mobile"}):g.a.getNewsletterSubscriptionConfig({promoBoxSettings:t,newsletterConfig:n,breakpoints:r,viewport:"mobile"})},resetCurrentItemTypeCurrentCounter:!1},{id:"subscription-newsletter-desktop",componentType:"subscriptionNewsletterDesktop",condition:function(e){return pt.shouldInjectSubscriptionAndNewsletter({options:e,viewport:"desktop"})},component:function(e){var t=e.promoBoxSettings,n=e.newsletterConfig,r=e.breakpoints,o=e.localConfig,i=void 0===o?{}:o;return pt.getConfig({localConfig:i,ruleName:"subscription-newsletter-desktop",props:{promoBoxSettings:t,newsletterConfig:n,breakpoints:r,viewport:"desktop"},defaultConfig:g.a.getNewsletterSubscriptionConfig({promoBoxSettings:t,newsletterConfig:n,breakpoints:r,viewport:"desktop"})})},resetCurrentItemTypeCurrentCounter:!1}]),ft=function(e){var t=e.monetising;return t&&t.some((function(e){return"digiteka"===e.service&&e.enabled}))},yt=function(e){var t=e.bodyElements,n=e.bodyIndex,r=e.injectedArray,o=e.props,i=e.typeToStartCount,u=void 0===i?"DESKTOP_SIDE_ADVERT":i,s=!1;return St.isLastIndexOfArray({bodyIndex:n,bodyElements:t})&&St.shouldInjectLastAd({injectedArray:r,props:o,typeToStartCount:u})&&(s=!0),s},bt=function(e){var t=e.bodyIndex,n=e.currentRuleInjectedComponentCount,r=e.bodyElements,o=!1;return St.isLastIndexOfArray({bodyIndex:t,bodyElements:r})&&0===n&&(o=!0),o},mt=function(e){var t=e.injectedArray,n=e.mobile,r=e.props.adSettings,o=e.typeToStartCount,i=void 0===o?"DESKTOP_INLINE_ADVERT":o,u=r.minNumOfWordsAfterLastInlineAdDesktop,s=r.minNumOfWordsAfterLastInlineAdMobile;return!(!u&&0!==u&&!s&&0!==s)&&(n?St.getWordCountFromLastIndexOfTypeToEndOfArray({injectedArray:t,typeToStartCount:i})>=s:St.getWordCountFromLastIndexOfTypeToEndOfArray({injectedArray:t,typeToStartCount:i})>=u)};function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach((function(t){It(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function It(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ot=function(e){if(!St.isBetweenTwoTextBlocks(Ct({},e)))return!1;if(!St.isConfigValid(e))return!1;var t=e.currentRuleInjectedComponentCount,n=e.currentRuleComponentTypeWordCount,r=e.props.adSettings,o=r.numberOfWordsBetweenInlineDesktopAds,i=r.numberOfWordsForFirstInjectionDesktop,u=r.minNumOfWordsAfterLastInlineAdDesktop,s=n>=o,c=St.getWordCountFromCurrentIdxToEnd(Ct({},e))>=u;return 0===t?n>=i&&c:s&&c},Tt=function(e){var t,n,r=e.options,o=e.viewport,i=r.currentRuleComponentTypeWordCount,u=r.currentRuleInjectedComponentCount,s=r.currentType,c=r.nextType,l=r.props.adSettings,p=l.beforeInlineSubsDesktopAds,a=l.beforeInlineNewsletterDesktopAds,d=l.beforeInlineSubsMobileAds,f=l.beforeInlineNewsletterMobileAds;return"mobile"===o?(t=d===f,n=d):"desktop"===o&&(t=p===a,n=p),!(!t||t&&0===n)&&(!St.hasRuleBeenInjected(u)&&(!1!==St.isBetweenTwoTextBlocks({currentType:s,nextType:c})&&i>=f))},jt=function(e){var t,n=e.options,r=e.viewport,o=e.component,i=n.currentRuleComponentTypeWordCount,u=n.currentRuleInjectedComponentCount,s=n.currentType,c=n.nextType,l=n.props.adSettings,p=l.beforeInlineSubsMobileAds,a=l.beforeInlineSubsDesktopAds,d=l.beforeInlineNewsletterMobileAds,f=l.beforeInlineNewsletterDesktopAds;if("newsletter"===o){if("mobile"===r){if(d===p)return!1;t=d}else if("desktop"===r){if(f===a)return!1;t=f}}else if("subscription"===o)if("mobile"===r){if(d===p)return!1;t=p}else if("desktop"===r){if(f===a)return!1;t=a}return!(!t||t&&0===t)&&(!St.hasRuleBeenInjected(u)&&(!1!==St.isBetweenTwoTextBlocks({currentType:s,nextType:c})&&i>t))};function At(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?At(Object(n),!0).forEach((function(t){wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var St=vt(vt({isBetweenTwoTextBlocks:function(e){var t=e.currentType,n=e.nextType;return"TEXT"===t&&"TEXT"===n},isLastIndexOfArray:function(e){return e.bodyIndex===e.bodyElements.length-1},getConfig:function(e){var t=e.localConfig,n=e.ruleName,r=e.defaultConfig,o=e.props;return t[n]&&"function"==typeof t[n]?t[n](o):r},getWordCountFromCurrentIdxToEnd:function(e){var t,n=e.bodyIndex,r=e.bodyElements.slice(n+1);return r&&(t=r.reduce((function(e,t){return t.wordCount?e+t.wordCount:e}),0)),t},getWordCountFromLastIndexOfTypeToEndOfArray:function(e){for(var t,n=e.injectedArray,r=e.typeToStartCount,o=n.length-1;o>0;o--){var i=void 0;if(n[o].type===r&&(i=n.slice(o+1)),i){t=i.reduce((function(e,t){return t.wordCount?e+t.wordCount:e}),0);break}}return t},hasRuleBeenInjected:function(e){return e>=1},isConfigValid:function(e){var t=e.props.adSettings,n=t.numberOfWordsBetweenInlineDesktopAds,r=t.numberOfWordsForFirstInjectionDesktop,o=t.minNumOfWordsAfterLastInlineAdDesktop;return!(!n&&0!==n||!r&&0!==r||!o&&0!==o)},isRightNumberOfWordsForTeads:function(e){var t=e.currentWordCount,n=e.teadsCount,r=e.props.adSettings.minNumOfWordsBeforeTeads;return!(!r&&0!==r)&&(0===n&&t>=r)}},{isDigitekaEnabled:ft,shouldInjectDigiteka:function(e){var t=e.options,n=e.viewport,r=t.currentRuleComponentTypeWordCount,o=t.currentRuleInjectedComponentCount,i=t.props,u=i.monetising,s=i.adSettings,c=s.beforeDigitekaDesktopAds,l=s.beforeDigitekaMobileAds,p="desktop"===n?c:l;return(!i.amp||"desktop"!==n)&&(ft({monetising:u})&&0===o&&r>=p)}}),{},{shouldInjectFinalSideAd:yt,shouldInjectFirstSideAd:bt,shouldInjectLastAd:mt,shouldInjectListArticleInlineAds:function(e){var t=e.currentType,n=e.nextType,r=e.currentTypeCurrentCount,o=e.injectAfterCount;if(o<=0)return!1;var i=!1;return"GalleryItem"!==t||"GalleryItem"!==n||r%o||(i=!0),"GalleryItem"!==t||null!==n||r%o||(i=!0),i},shouldInjectGalleryInlineAds:function(e){var t=e.currentType,n=e.nextType,r=e.currentTypeCurrentCount,o=e.injectAfterCount;if(o<=0)return!1;var i=!1;return"GalleryItem"!==t||"GalleryItem"!==n||r%o||(i=!0),"GalleryItem"!==t&&"GalleryItem"===n&&(i=!0),"GalleryItem"!==t||null!==n||r%o||(i=!0),i},shouldInjectInlineAndSideAds:Ot,shouldInjectSubscriptionAndNewsletter:Tt,shouldInjectSubscriptionOrNewsletter:jt});function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ht=function(e){return function(e){if(Array.isArray(e))return kt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}([{id:"tead-ads",componentType:"teads",condition:function(e){return function(e){var t=e.amp,n=e.currentRuleInjectedComponentCount,r=e.currentRuleComponentTypeWordCount,o=e.currentType,i=e.nextType,u=e.props;return t&&St.isBetweenTwoTextBlocks({currentType:o,nextType:i})&&St.isRightNumberOfWordsForTeads({currentWordCount:r,teadsCount:n,props:u})}(e)},component:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return St.getConfig({localConfig:e,ruleName:"tead-ads",props:{},defaultConfig:g.a.getTeadsAdConfig()})},resetCurrentItemTypeCurrentCounter:!1}]);function Dt(e){return function(e){if(Array.isArray(e))return Et(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Et(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.a=[].concat(Dt(We),Dt(O),Dt(R),Dt(dt),Dt(Q),Dt(ye),Dt(qe),Dt(ht))},33:function(e,t,n){"use strict";var r=function(e){return[{type:"DESKTOP_INLINE_ADVERT",props:{extraClassNames:{"-full-width":!0},id:"refresh-inline_".concat(e),label:"Advertisement - Article continues below",slotSize:[[300,250],"fluid"],sizeMapping:[{viewport:[0,0],slot:[]},{viewport:[980,0],slot:[[970,250],[970,90],[728,90],"fluid"]}],ampSlotSize:[],ampSizeMapping:[],targeting:{position:"inline_".concat(e),placement:"inline_".concat(e),refresh:"yes"}}}]},o=function(e){return[{type:"DESKTOP_SIDE_ADVERT",props:{extraClassNames:{"-sidebar-ad":!0},id:"refresh-right_".concat(e),label:"Advertisement",targeting:{position:"right_".concat(e),placement:"right_".concat(e),refresh:"yes"},type:"slot-2"}}]},i=function(e){var t=e>1?[[320,480],[300,250]]:[300,250];return[{type:"MOBILE_INLINE_ADVERT",props:{extraClassNames:{"-full-width":!0,"hide-desktop":!0},id:"refresh-inline_".concat(e),label:"Advertisement - Article continues below",slotSize:[[300,250],"fluid"],sizeMapping:[{viewport:[768,0],slot:[[728,90],[300,250],"fluid"]},{viewport:[980,0],slot:[]}],ampSlotSize:t,ampSizeMapping:[],targeting:{position:"inline_".concat(e),placement:"inline_".concat(e),refresh:"yes"}}}]},u={getInlineAdConfig:r,getSideAdConfig:o,getDesktopAdsConfig:function(e){return[].concat(o(e),r(e))},getMobileInlineAdConfig:i,getMobileAdsConfig:function(e){return[].concat(i(e))},getTeadsAdConfig:function(){return[{type:"TEADS",props:{extraClassNames:{"-no-background":!0,"teads-amp":!0},id:"teads_amp",label:"",targeting:{position:"teads_amp",placement:"teads_amp",refresh:"no"},ampSlotSize:[300,1],ampSizeMapping:[]}}]},getDigitekaConfig:function(e){return[{type:"DIGITEKA",props:{monetising:e.monetising,breakpoints:e.breakpoints,viewport:e.viewport,amp:e.amp}}]},getNewsletterConfig:function(e){return[{type:"NEWSLETTER",props:{newsletterConfig:e.newsletterConfig,viewport:e.viewport,breakpoints:e.breakpoints,mainTitle:null,extraClassNames:{"-standalone":!0}}}]},getSubscriptionConfig:function(e){var t=e.promoBoxSettings,n=e.viewport;return[{type:"SUBSCRIBE",props:{promoBoxSettings:t,breakpoints:e.breakpoints,extraClassNames:{"-standalone":!0},viewport:n}}]},getNewsletterSubscriptionConfig:function(e){var t=e.promoBoxSettings;return[{type:"SUBSCRIBE_NEWSLETTER",props:{newsletterConfig:e.newsletterConfig,promoBoxSettings:t,viewport:e.viewport,breakpoints:e.breakpoints}}]},getGalleryItemDescriptionAdConfig:function(e){return[{type:"GALLERY_IN_DESCRIPTION_AD",props:{targeting:{position:"gallery_inline_".concat(e),placement:"gallery_inline_".concat(e),refresh:"yes"},slotSize:[[300,250],"fluid"],sizeMapping:[{viewport:[0,0],slot:[]},{viewport:[980,0],slot:[[300,250],"fluid"]}],ampSizeMapping:[],extraClassNames:{"-float-right":!0,"-gallery-in-body-ad":!0}}}]},getGalleryDianomiBlockDesktopAdConfig:function(e){return[{type:"DIANOMI_BLOCK_DESKTOP",options:{amp:!1,breakpoint:"desktop",breakpointRange:e.breakpoint,dianomi:e.dianomi,index:e.componentCount}}]},getGalleryDianomiBlockMobileAdConfig:function(e){return[{type:"DIANOMI_BLOCK_MOBILE",options:{amp:e.amp,breakpoint:"mobile",breakpointRange:e.breakpoint,dianomi:e.dianomi}}]}};t.a=u},91:function(e,t,n){"use strict";var r,o,i=n(88),u=n.n(i),s=(r={},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r[e]={currentItemCount:t||1,totalItemCount:t||1}},{addToCurrentItemTypeCount:function(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r[e]?(r[e].currentItemCount+=t||1,r[e].totalItemCount+=t||1):o(e,t)}(e,t)},getCurrentItemTypeTotalCount:function(e){return function(e){return r[e]?r[e].totalItemCount:0}(e)},getCurrentItemTypeCurrentCount:function(e){return function(e){return r[e]?r[e].currentItemCount:0}(e)},resetCurrentCount:function(e){return function(e){return r[e]&&(r[e].currentItemCount=0),""}(e)},deleteItems:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e);if(0===t.length)return null;t.forEach((function(t){return delete e[t]}))}(r)}});function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a,d=(a=[],{add:function(e){return a.push(e)},delete:function(){a=[]},get:function(){return a},pop:function(){return a.pop()}}),f=function(e,t){var n=d.pop(),r=n&&u()(n),o=r&&r[e.key];o&&(o.splice(e.index,0,t),d.add(r))},y=function(e,t,n,r){d.delete(),e.forEach((function(e,o,i){var u=e.type,c=e.wordCount;d.add(e),function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},u=arguments.length>6?arguments[6]:void 0;s.addToCurrentItemTypeCount(o),"TEXT"===o&&s.addToCurrentItemTypeCount("wordCount",u),e.forEach((function(e){var c=e.componentType,p=e.condition,a=e.component,y=e.id,b=e.resetCurrentItemTypeCurrentCounter,m=void 0!==b&&b,g=e.injectInsideItem,C=void 0===g?{}:g,I=void 0!==C.index&&null!==C.index;if(y&&"TEXT"===o&&u&&u>0&&s.addToCurrentItemTypeCount("".concat(y,".wordCount"),u),p({amp:t,bodyElements:n,bodyIndex:r,currentRuleInjectedComponentCount:s.getCurrentItemTypeTotalCount(c),currentRuleComponentTypeWordCount:s.getCurrentItemTypeCurrentCount("".concat(y,".wordCount")),currentType:o,currentTypeCurrentCount:s.getCurrentItemTypeCurrentCount(o),currentTypeTotalCount:s.getCurrentItemTypeTotalCount(o),injectedArray:d.get(),nextType:n[r+1]?n[r+1].type:null,prevType:n[r-1]?n[r-1].type:null,props:i,totalWordCount:s.getCurrentItemTypeCurrentCount("wordCount")})){s.addToCurrentItemTypeCount(c);var O=s.getCurrentItemTypeTotalCount(c);a(l(l({},i),{},{componentCount:O})).forEach((function(e){I?f(C,e):d.add(e)})),m&&(s.resetCurrentCount(o),s.resetCurrentCount("".concat(y,".wordCount")))}}))}(t,n,i,o,u,r,c)}))},b=function(e){var t=e.body,n=e.rules,r=e.amp,o=void 0!==r&&r,i=e.props;return n?(y(t,n,o,void 0===i?{}:i),s.deleteItems(),d.get()):t};t.a=b}}]);